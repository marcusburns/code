{
  "version": 3,
  "sources": ["../../threejs-post-processing/dist/bundle.cjs.js", "dep:threejs-post-processing"],
  "sourcesContent": ["'use strict';\n\nObject.defineProperty(exports, '__esModule', { value: true });\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _inheritsLoose(subClass, superClass) {\n  subClass.prototype = Object.create(superClass.prototype);\n  subClass.prototype.constructor = subClass;\n  subClass.__proto__ = superClass;\n}\n\n/**\n * @license\n * Copyright 2010-2021 Three.js Authors\n * SPDX-License-Identifier: MIT\n */\nconst REVISION = '132';\nconst CullFaceNone = 0;\nconst CullFaceBack = 1;\nconst CullFaceFront = 2;\nconst PCFShadowMap = 1;\nconst PCFSoftShadowMap = 2;\nconst VSMShadowMap = 3;\nconst FrontSide = 0;\nconst BackSide = 1;\nconst DoubleSide = 2;\nconst FlatShading = 1;\nconst NoBlending = 0;\nconst NormalBlending = 1;\nconst AdditiveBlending = 2;\nconst SubtractiveBlending = 3;\nconst MultiplyBlending = 4;\nconst CustomBlending = 5;\nconst AddEquation = 100;\nconst SubtractEquation = 101;\nconst ReverseSubtractEquation = 102;\nconst MinEquation = 103;\nconst MaxEquation = 104;\nconst ZeroFactor = 200;\nconst OneFactor = 201;\nconst SrcColorFactor = 202;\nconst OneMinusSrcColorFactor = 203;\nconst SrcAlphaFactor = 204;\nconst OneMinusSrcAlphaFactor = 205;\nconst DstAlphaFactor = 206;\nconst OneMinusDstAlphaFactor = 207;\nconst DstColorFactor = 208;\nconst OneMinusDstColorFactor = 209;\nconst SrcAlphaSaturateFactor = 210;\nconst NeverDepth = 0;\nconst AlwaysDepth = 1;\nconst LessDepth = 2;\nconst LessEqualDepth = 3;\nconst EqualDepth = 4;\nconst GreaterEqualDepth = 5;\nconst GreaterDepth = 6;\nconst NotEqualDepth = 7;\nconst MultiplyOperation = 0;\nconst MixOperation = 1;\nconst AddOperation = 2;\nconst NoToneMapping = 0;\nconst LinearToneMapping = 1;\nconst ReinhardToneMapping = 2;\nconst CineonToneMapping = 3;\nconst ACESFilmicToneMapping = 4;\nconst CustomToneMapping = 5;\n\nconst UVMapping = 300;\nconst CubeReflectionMapping = 301;\nconst CubeRefractionMapping = 302;\nconst EquirectangularReflectionMapping = 303;\nconst EquirectangularRefractionMapping = 304;\nconst CubeUVReflectionMapping = 306;\nconst CubeUVRefractionMapping = 307;\nconst RepeatWrapping = 1000;\nconst ClampToEdgeWrapping = 1001;\nconst MirroredRepeatWrapping = 1002;\nconst NearestFilter = 1003;\nconst NearestMipmapNearestFilter = 1004;\nconst NearestMipmapLinearFilter = 1005;\nconst LinearFilter = 1006;\nconst LinearMipmapNearestFilter = 1007;\nconst LinearMipmapLinearFilter = 1008;\nconst UnsignedByteType = 1009;\nconst ByteType = 1010;\nconst ShortType = 1011;\nconst UnsignedShortType = 1012;\nconst IntType = 1013;\nconst UnsignedIntType = 1014;\nconst FloatType = 1015;\nconst HalfFloatType = 1016;\nconst UnsignedShort4444Type = 1017;\nconst UnsignedShort5551Type = 1018;\nconst UnsignedShort565Type = 1019;\nconst UnsignedInt248Type = 1020;\nconst AlphaFormat = 1021;\nconst RGBFormat$1 = 1022;\nconst RGBAFormat = 1023;\nconst LuminanceFormat = 1024;\nconst LuminanceAlphaFormat = 1025;\nconst RGBEFormat = RGBAFormat;\nconst DepthFormat = 1026;\nconst DepthStencilFormat = 1027;\nconst RedFormat = 1028;\nconst RedIntegerFormat = 1029;\nconst RGFormat = 1030;\nconst RGIntegerFormat = 1031;\nconst RGBIntegerFormat = 1032;\nconst RGBAIntegerFormat = 1033;\n\nconst RGB_S3TC_DXT1_Format = 33776;\nconst RGBA_S3TC_DXT1_Format = 33777;\nconst RGBA_S3TC_DXT3_Format = 33778;\nconst RGBA_S3TC_DXT5_Format = 33779;\nconst RGB_PVRTC_4BPPV1_Format = 35840;\nconst RGB_PVRTC_2BPPV1_Format = 35841;\nconst RGBA_PVRTC_4BPPV1_Format = 35842;\nconst RGBA_PVRTC_2BPPV1_Format = 35843;\nconst RGB_ETC1_Format = 36196;\nconst RGB_ETC2_Format = 37492;\nconst RGBA_ETC2_EAC_Format = 37496;\nconst RGBA_ASTC_4x4_Format = 37808;\nconst RGBA_ASTC_5x4_Format = 37809;\nconst RGBA_ASTC_5x5_Format = 37810;\nconst RGBA_ASTC_6x5_Format = 37811;\nconst RGBA_ASTC_6x6_Format = 37812;\nconst RGBA_ASTC_8x5_Format = 37813;\nconst RGBA_ASTC_8x6_Format = 37814;\nconst RGBA_ASTC_8x8_Format = 37815;\nconst RGBA_ASTC_10x5_Format = 37816;\nconst RGBA_ASTC_10x6_Format = 37817;\nconst RGBA_ASTC_10x8_Format = 37818;\nconst RGBA_ASTC_10x10_Format = 37819;\nconst RGBA_ASTC_12x10_Format = 37820;\nconst RGBA_ASTC_12x12_Format = 37821;\nconst RGBA_BPTC_Format = 36492;\nconst SRGB8_ALPHA8_ASTC_4x4_Format = 37840;\nconst SRGB8_ALPHA8_ASTC_5x4_Format = 37841;\nconst SRGB8_ALPHA8_ASTC_5x5_Format = 37842;\nconst SRGB8_ALPHA8_ASTC_6x5_Format = 37843;\nconst SRGB8_ALPHA8_ASTC_6x6_Format = 37844;\nconst SRGB8_ALPHA8_ASTC_8x5_Format = 37845;\nconst SRGB8_ALPHA8_ASTC_8x6_Format = 37846;\nconst SRGB8_ALPHA8_ASTC_8x8_Format = 37847;\nconst SRGB8_ALPHA8_ASTC_10x5_Format = 37848;\nconst SRGB8_ALPHA8_ASTC_10x6_Format = 37849;\nconst SRGB8_ALPHA8_ASTC_10x8_Format = 37850;\nconst SRGB8_ALPHA8_ASTC_10x10_Format = 37851;\nconst SRGB8_ALPHA8_ASTC_12x10_Format = 37852;\nconst SRGB8_ALPHA8_ASTC_12x12_Format = 37853;\nconst LoopOnce = 2200;\nconst LoopRepeat = 2201;\nconst LoopPingPong = 2202;\nconst InterpolateDiscrete = 2300;\nconst InterpolateLinear = 2301;\nconst InterpolateSmooth = 2302;\nconst ZeroCurvatureEnding = 2400;\nconst ZeroSlopeEnding = 2401;\nconst WrapAroundEnding = 2402;\nconst NormalAnimationBlendMode = 2500;\nconst AdditiveAnimationBlendMode = 2501;\nconst TrianglesDrawMode = 0;\nconst LinearEncoding = 3000;\nconst sRGBEncoding = 3001;\nconst GammaEncoding = 3007;\nconst RGBEEncoding = 3002;\nconst LogLuvEncoding = 3003;\nconst RGBM7Encoding = 3004;\nconst RGBM16Encoding = 3005;\nconst RGBDEncoding = 3006;\nconst BasicDepthPacking = 3200;\nconst RGBADepthPacking = 3201;\nconst TangentSpaceNormalMap = 0;\nconst ObjectSpaceNormalMap = 1;\nconst KeepStencilOp = 7680;\nconst AlwaysStencilFunc = 519;\n\nconst StaticDrawUsage = 35044;\nconst DynamicDrawUsage = 35048;\nconst GLSL3 = '300 es';\n\n/**\n * https://github.com/mrdoob/eventdispatcher.js/\n */\n\nclass EventDispatcher {\n\n\taddEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) this._listeners = {};\n\n\t\tconst listeners = this._listeners;\n\n\t\tif ( listeners[ type ] === undefined ) {\n\n\t\t\tlisteners[ type ] = [];\n\n\t\t}\n\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners[ type ].push( listener );\n\n\t\t}\n\n\t}\n\n\thasEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return false;\n\n\t\tconst listeners = this._listeners;\n\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\n\n\t}\n\n\tremoveEventListener( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tconst index = listenerArray.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\tlistenerArray.splice( index, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tdispatchEvent( event ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ event.type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tevent.target = this;\n\n\t\t\t// Make a copy, in case listeners are removed while iterating.\n\t\t\tconst array = listenerArray.slice( 0 );\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ].call( this, event );\n\n\t\t\t}\n\n\t\t\tevent.target = null;\n\n\t\t}\n\n\t}\n\n}\n\nconst _lut = [];\n\nfor ( let i = 0; i < 256; i ++ ) {\n\n\t_lut[ i ] = ( i < 16 ? '0' : '' ) + ( i ).toString( 16 );\n\n}\n\nlet _seed = 1234567;\n\n\nconst DEG2RAD = Math.PI / 180;\nconst RAD2DEG = 180 / Math.PI;\n\n// http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\nfunction generateUUID() {\n\n\tconst d0 = Math.random() * 0xffffffff | 0;\n\tconst d1 = Math.random() * 0xffffffff | 0;\n\tconst d2 = Math.random() * 0xffffffff | 0;\n\tconst d3 = Math.random() * 0xffffffff | 0;\n\tconst uuid = _lut[ d0 & 0xff ] + _lut[ d0 >> 8 & 0xff ] + _lut[ d0 >> 16 & 0xff ] + _lut[ d0 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d1 & 0xff ] + _lut[ d1 >> 8 & 0xff ] + '-' + _lut[ d1 >> 16 & 0x0f | 0x40 ] + _lut[ d1 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d2 & 0x3f | 0x80 ] + _lut[ d2 >> 8 & 0xff ] + '-' + _lut[ d2 >> 16 & 0xff ] + _lut[ d2 >> 24 & 0xff ] +\n\t\t\t_lut[ d3 & 0xff ] + _lut[ d3 >> 8 & 0xff ] + _lut[ d3 >> 16 & 0xff ] + _lut[ d3 >> 24 & 0xff ];\n\n\t// .toUpperCase() here flattens concatenated strings to save heap memory space.\n\treturn uuid.toUpperCase();\n\n}\n\nfunction clamp( value, min, max ) {\n\n\treturn Math.max( min, Math.min( max, value ) );\n\n}\n\n// compute euclidian modulo of m % n\n// https://en.wikipedia.org/wiki/Modulo_operation\nfunction euclideanModulo( n, m ) {\n\n\treturn ( ( n % m ) + m ) % m;\n\n}\n\n// Linear mapping from range <a1, a2> to range <b1, b2>\nfunction mapLinear( x, a1, a2, b1, b2 ) {\n\n\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\n}\n\n// https://www.gamedev.net/tutorials/programming/general-and-gameplay-programming/inverse-lerp-a-super-useful-yet-often-overlooked-function-r5230/\nfunction inverseLerp( x, y, value ) {\n\n\tif ( x !== y ) {\n\n\t\treturn ( value - x ) / ( y - x );\n\n\t\t } else {\n\n\t\treturn 0;\n\n\t\t }\n\n}\n\n// https://en.wikipedia.org/wiki/Linear_interpolation\nfunction lerp( x, y, t ) {\n\n\treturn ( 1 - t ) * x + t * y;\n\n}\n\n// http://www.rorydriscoll.com/2016/03/07/frame-rate-independent-damping-using-lerp/\nfunction damp( x, y, lambda, dt ) {\n\n\treturn lerp( x, y, 1 - Math.exp( - lambda * dt ) );\n\n}\n\n// https://www.desmos.com/calculator/vcsjnyz7x4\nfunction pingpong( x, length = 1 ) {\n\n\treturn length - Math.abs( euclideanModulo( x, length * 2 ) - length );\n\n}\n\n// http://en.wikipedia.org/wiki/Smoothstep\nfunction smoothstep( x, min, max ) {\n\n\tif ( x <= min ) return 0;\n\tif ( x >= max ) return 1;\n\n\tx = ( x - min ) / ( max - min );\n\n\treturn x * x * ( 3 - 2 * x );\n\n}\n\nfunction smootherstep( x, min, max ) {\n\n\tif ( x <= min ) return 0;\n\tif ( x >= max ) return 1;\n\n\tx = ( x - min ) / ( max - min );\n\n\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\n}\n\n// Random integer from <low, high> interval\nfunction randInt( low, high ) {\n\n\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\n\n}\n\n// Random float from <low, high> interval\nfunction randFloat( low, high ) {\n\n\treturn low + Math.random() * ( high - low );\n\n}\n\n// Random float from <-range/2, range/2> interval\nfunction randFloatSpread( range ) {\n\n\treturn range * ( 0.5 - Math.random() );\n\n}\n\n// Deterministic pseudo-random float in the interval [ 0, 1 ]\nfunction seededRandom( s ) {\n\n\tif ( s !== undefined ) _seed = s % 2147483647;\n\n\t// Park-Miller algorithm\n\n\t_seed = _seed * 16807 % 2147483647;\n\n\treturn ( _seed - 1 ) / 2147483646;\n\n}\n\nfunction degToRad( degrees ) {\n\n\treturn degrees * DEG2RAD;\n\n}\n\nfunction radToDeg( radians ) {\n\n\treturn radians * RAD2DEG;\n\n}\n\nfunction isPowerOfTwo( value ) {\n\n\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n}\n\nfunction ceilPowerOfTwo( value ) {\n\n\treturn Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\n\n}\n\nfunction floorPowerOfTwo( value ) {\n\n\treturn Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\n\n}\n\nfunction setQuaternionFromProperEuler( q, a, b, c, order ) {\n\n\t// Intrinsic Proper Euler Angles - see https://en.wikipedia.org/wiki/Euler_angles\n\n\t// rotations are applied to the axes in the order specified by 'order'\n\t// rotation by angle 'a' is applied first, then by angle 'b', then by angle 'c'\n\t// angles are in radians\n\n\tconst cos = Math.cos;\n\tconst sin = Math.sin;\n\n\tconst c2 = cos( b / 2 );\n\tconst s2 = sin( b / 2 );\n\n\tconst c13 = cos( ( a + c ) / 2 );\n\tconst s13 = sin( ( a + c ) / 2 );\n\n\tconst c1_3 = cos( ( a - c ) / 2 );\n\tconst s1_3 = sin( ( a - c ) / 2 );\n\n\tconst c3_1 = cos( ( c - a ) / 2 );\n\tconst s3_1 = sin( ( c - a ) / 2 );\n\n\tswitch ( order ) {\n\n\t\tcase 'XYX':\n\t\t\tq.set( c2 * s13, s2 * c1_3, s2 * s1_3, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'YZY':\n\t\t\tq.set( s2 * s1_3, c2 * s13, s2 * c1_3, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'ZXZ':\n\t\t\tq.set( s2 * c1_3, s2 * s1_3, c2 * s13, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'XZX':\n\t\t\tq.set( c2 * s13, s2 * s3_1, s2 * c3_1, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'YXY':\n\t\t\tq.set( s2 * c3_1, c2 * s13, s2 * s3_1, c2 * c13 );\n\t\t\tbreak;\n\n\t\tcase 'ZYZ':\n\t\t\tq.set( s2 * s3_1, s2 * c3_1, c2 * s13, c2 * c13 );\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: ' + order );\n\n\t}\n\n}\n\nvar MathUtils = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tDEG2RAD: DEG2RAD,\n\tRAD2DEG: RAD2DEG,\n\tgenerateUUID: generateUUID,\n\tclamp: clamp,\n\teuclideanModulo: euclideanModulo,\n\tmapLinear: mapLinear,\n\tinverseLerp: inverseLerp,\n\tlerp: lerp,\n\tdamp: damp,\n\tpingpong: pingpong,\n\tsmoothstep: smoothstep,\n\tsmootherstep: smootherstep,\n\trandInt: randInt,\n\trandFloat: randFloat,\n\trandFloatSpread: randFloatSpread,\n\tseededRandom: seededRandom,\n\tdegToRad: degToRad,\n\tradToDeg: radToDeg,\n\tisPowerOfTwo: isPowerOfTwo,\n\tceilPowerOfTwo: ceilPowerOfTwo,\n\tfloorPowerOfTwo: floorPowerOfTwo,\n\tsetQuaternionFromProperEuler: setQuaternionFromProperEuler\n});\n\nclass Vector2 {\n\n\tconstructor( x = 0, y = 0 ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t}\n\n\tget width() {\n\n\t\treturn this.x;\n\n\t}\n\n\tset width( value ) {\n\n\t\tthis.x = value;\n\n\t}\n\n\tget height() {\n\n\t\treturn this.y;\n\n\t}\n\n\tset height( value ) {\n\n\t\tthis.y = value;\n\n\t}\n\n\tset( x, y ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tdivide( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tconst x = this.x, y = this.y;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ];\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ];\n\n\t\treturn this;\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y;\n\n\t}\n\n\tcross( v ) {\n\n\t\treturn this.x * v.y - this.y * v.x;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tangle() {\n\n\t\t// computes the angle in radians with respect to the positive x-axis\n\n\t\tconst angle = Math.atan2( - this.y, - this.x ) + Math.PI;\n\n\t\treturn angle;\n\n\t}\n\n\tdistanceTo( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t}\n\n\tdistanceToSquared( v ) {\n\n\t\tconst dx = this.x - v.x, dy = this.y - v.y;\n\t\treturn dx * dx + dy * dy;\n\n\t}\n\n\tmanhattanDistanceTo( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\n\t\treturn this;\n\n\t}\n\n\trotateAround( center, angle ) {\n\n\t\tconst c = Math.cos( angle ), s = Math.sin( angle );\n\n\t\tconst x = this.x - center.x;\n\t\tconst y = this.y - center.y;\n\n\t\tthis.x = x * c - y * s + center.x;\n\t\tthis.y = x * s + y * c + center.y;\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\n\t\treturn this;\n\n\t}\n\n}\n\nVector2.prototype.isVector2 = true;\n\nclass Matrix3 {\n\n\tconstructor() {\n\n\t\tthis.elements = [\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t];\n\n\t\tif ( arguments.length > 0 ) {\n\n\t\t\tconsole.error( 'THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.' );\n\n\t\t}\n\n\t}\n\n\tset( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 1 ] = n21; te[ 2 ] = n31;\n\t\tte[ 3 ] = n12; te[ 4 ] = n22; te[ 5 ] = n32;\n\t\tte[ 6 ] = n13; te[ 7 ] = n23; te[ 8 ] = n33;\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tcopy( m ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ];\n\t\tte[ 3 ] = me[ 3 ]; te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ];\n\t\tte[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ]; te[ 8 ] = me[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\textractBasis( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrix3Column( this, 0 );\n\t\tyAxis.setFromMatrix3Column( this, 1 );\n\t\tzAxis.setFromMatrix3Column( this, 2 );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrix4( m ) {\n\n\t\tconst me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 4 ], me[ 8 ],\n\t\t\tme[ 1 ], me[ 5 ], me[ 9 ],\n\t\t\tme[ 2 ], me[ 6 ], me[ 10 ]\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( m ) {\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t}\n\n\tpremultiply( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t}\n\n\tmultiplyMatrices( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst te = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 3 ], a13 = ae[ 6 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 4 ], a23 = ae[ 7 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 5 ], a33 = ae[ 8 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 3 ], b13 = be[ 6 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 4 ], b23 = be[ 7 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 5 ], b33 = be[ 8 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31;\n\t\tte[ 3 ] = a11 * b12 + a12 * b22 + a13 * b32;\n\t\tte[ 6 ] = a11 * b13 + a12 * b23 + a13 * b33;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31;\n\t\tte[ 4 ] = a21 * b12 + a22 * b22 + a23 * b32;\n\t\tte[ 7 ] = a21 * b13 + a22 * b23 + a23 * b33;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31;\n\t\tte[ 5 ] = a31 * b12 + a32 * b22 + a33 * b32;\n\t\tte[ 8 ] = a31 * b13 + a32 * b23 + a33 * b33;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\n\t\tte[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\n\t\tte[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\n\n\t\treturn this;\n\n\t}\n\n\tdeterminant() {\n\n\t\tconst te = this.elements;\n\n\t\tconst a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\n\t\t\td = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\n\t\t\tg = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\n\n\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n\n\t}\n\n\tinvert() {\n\n\t\tconst te = this.elements,\n\n\t\t\tn11 = te[ 0 ], n21 = te[ 1 ], n31 = te[ 2 ],\n\t\t\tn12 = te[ 3 ], n22 = te[ 4 ], n32 = te[ 5 ],\n\t\t\tn13 = te[ 6 ], n23 = te[ 7 ], n33 = te[ 8 ],\n\n\t\t\tt11 = n33 * n22 - n32 * n23,\n\t\t\tt12 = n32 * n13 - n33 * n12,\n\t\t\tt13 = n23 * n12 - n22 * n13,\n\n\t\t\tdet = n11 * t11 + n21 * t12 + n31 * t13;\n\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0 );\n\n\t\tconst detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n31 * n23 - n33 * n21 ) * detInv;\n\t\tte[ 2 ] = ( n32 * n21 - n31 * n22 ) * detInv;\n\n\t\tte[ 3 ] = t12 * detInv;\n\t\tte[ 4 ] = ( n33 * n11 - n31 * n13 ) * detInv;\n\t\tte[ 5 ] = ( n31 * n12 - n32 * n11 ) * detInv;\n\n\t\tte[ 6 ] = t13 * detInv;\n\t\tte[ 7 ] = ( n21 * n13 - n23 * n11 ) * detInv;\n\t\tte[ 8 ] = ( n22 * n11 - n21 * n12 ) * detInv;\n\n\t\treturn this;\n\n\t}\n\n\ttranspose() {\n\n\t\tlet tmp;\n\t\tconst m = this.elements;\n\n\t\ttmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\n\t\ttmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\n\t\ttmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\n\n\t\treturn this;\n\n\t}\n\n\tgetNormalMatrix( matrix4 ) {\n\n\t\treturn this.setFromMatrix4( matrix4 ).invert().transpose();\n\n\t}\n\n\ttransposeIntoArray( r ) {\n\n\t\tconst m = this.elements;\n\n\t\tr[ 0 ] = m[ 0 ];\n\t\tr[ 1 ] = m[ 3 ];\n\t\tr[ 2 ] = m[ 6 ];\n\t\tr[ 3 ] = m[ 1 ];\n\t\tr[ 4 ] = m[ 4 ];\n\t\tr[ 5 ] = m[ 7 ];\n\t\tr[ 6 ] = m[ 2 ];\n\t\tr[ 7 ] = m[ 5 ];\n\t\tr[ 8 ] = m[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetUvTransform( tx, ty, sx, sy, rotation, cx, cy ) {\n\n\t\tconst c = Math.cos( rotation );\n\t\tconst s = Math.sin( rotation );\n\n\t\tthis.set(\n\t\t\tsx * c, sx * s, - sx * ( c * cx + s * cy ) + cx + tx,\n\t\t\t- sy * s, sy * c, - sy * ( - s * cx + c * cy ) + cy + ty,\n\t\t\t0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tscale( sx, sy ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= sx; te[ 3 ] *= sx; te[ 6 ] *= sx;\n\t\tte[ 1 ] *= sy; te[ 4 ] *= sy; te[ 7 ] *= sy;\n\n\t\treturn this;\n\n\t}\n\n\trotate( theta ) {\n\n\t\tconst c = Math.cos( theta );\n\t\tconst s = Math.sin( theta );\n\n\t\tconst te = this.elements;\n\n\t\tconst a11 = te[ 0 ], a12 = te[ 3 ], a13 = te[ 6 ];\n\t\tconst a21 = te[ 1 ], a22 = te[ 4 ], a23 = te[ 7 ];\n\n\t\tte[ 0 ] = c * a11 + s * a21;\n\t\tte[ 3 ] = c * a12 + s * a22;\n\t\tte[ 6 ] = c * a13 + s * a23;\n\n\t\tte[ 1 ] = - s * a11 + c * a21;\n\t\tte[ 4 ] = - s * a12 + c * a22;\n\t\tte[ 7 ] = - s * a13 + c * a23;\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( tx, ty ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] += tx * te[ 2 ]; te[ 3 ] += tx * te[ 5 ]; te[ 6 ] += tx * te[ 8 ];\n\t\tte[ 1 ] += ty * te[ 2 ]; te[ 4 ] += ty * te[ 5 ]; te[ 7 ] += ty * te[ 8 ];\n\n\t\treturn this;\n\n\t}\n\n\tequals( matrix ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = matrix.elements;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\n\t\treturn array;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().fromArray( this.elements );\n\n\t}\n\n}\n\nMatrix3.prototype.isMatrix3 = true;\n\nlet _canvas;\n\nclass ImageUtils {\n\n\tstatic getDataURL( image ) {\n\n\t\tif ( /^data:/i.test( image.src ) ) {\n\n\t\t\treturn image.src;\n\n\t\t}\n\n\t\tif ( typeof HTMLCanvasElement == 'undefined' ) {\n\n\t\t\treturn image.src;\n\n\t\t}\n\n\t\tlet canvas;\n\n\t\tif ( image instanceof HTMLCanvasElement ) {\n\n\t\t\tcanvas = image;\n\n\t\t} else {\n\n\t\t\tif ( _canvas === undefined ) _canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t\t\t_canvas.width = image.width;\n\t\t\t_canvas.height = image.height;\n\n\t\t\tconst context = _canvas.getContext( '2d' );\n\n\t\t\tif ( image instanceof ImageData ) {\n\n\t\t\t\tcontext.putImageData( image, 0, 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height );\n\n\t\t\t}\n\n\t\t\tcanvas = _canvas;\n\n\t\t}\n\n\t\tif ( canvas.width > 2048 || canvas.height > 2048 ) {\n\n\t\t\tconsole.warn( 'THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons', image );\n\n\t\t\treturn canvas.toDataURL( 'image/jpeg', 0.6 );\n\n\t\t} else {\n\n\t\t\treturn canvas.toDataURL( 'image/png' );\n\n\t\t}\n\n\t}\n\n}\n\nlet textureId = 0;\n\nclass Texture extends EventDispatcher {\n\n\tconstructor( image = Texture.DEFAULT_IMAGE, mapping = Texture.DEFAULT_MAPPING, wrapS = ClampToEdgeWrapping, wrapT = ClampToEdgeWrapping, magFilter = LinearFilter, minFilter = LinearMipmapLinearFilter, format = RGBAFormat, type = UnsignedByteType, anisotropy = 1, encoding = LinearEncoding ) {\n\n\t\tsuper();\n\n\t\tObject.defineProperty( this, 'id', { value: textureId ++ } );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.name = '';\n\n\t\tthis.image = image;\n\t\tthis.mipmaps = [];\n\n\t\tthis.mapping = mapping;\n\n\t\tthis.wrapS = wrapS;\n\t\tthis.wrapT = wrapT;\n\n\t\tthis.magFilter = magFilter;\n\t\tthis.minFilter = minFilter;\n\n\t\tthis.anisotropy = anisotropy;\n\n\t\tthis.format = format;\n\t\tthis.internalFormat = null;\n\t\tthis.type = type;\n\n\t\tthis.offset = new Vector2( 0, 0 );\n\t\tthis.repeat = new Vector2( 1, 1 );\n\t\tthis.center = new Vector2( 0, 0 );\n\t\tthis.rotation = 0;\n\n\t\tthis.matrixAutoUpdate = true;\n\t\tthis.matrix = new Matrix3();\n\n\t\tthis.generateMipmaps = true;\n\t\tthis.premultiplyAlpha = false;\n\t\tthis.flipY = true;\n\t\tthis.unpackAlignment = 4;\t// valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n\n\t\t// Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n\t\t//\n\t\t// Also changing the encoding after already used by a Material will not automatically make the Material\n\t\t// update. You need to explicitly call Material.needsUpdate to trigger it to recompile.\n\t\tthis.encoding = encoding;\n\n\t\tthis.version = 0;\n\t\tthis.onUpdate = null;\n\n\t\tthis.isRenderTargetTexture = false;\n\n\t}\n\n\tupdateMatrix() {\n\n\t\tthis.matrix.setUvTransform( this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.image = source.image;\n\t\tthis.mipmaps = source.mipmaps.slice( 0 );\n\n\t\tthis.mapping = source.mapping;\n\n\t\tthis.wrapS = source.wrapS;\n\t\tthis.wrapT = source.wrapT;\n\n\t\tthis.magFilter = source.magFilter;\n\t\tthis.minFilter = source.minFilter;\n\n\t\tthis.anisotropy = source.anisotropy;\n\n\t\tthis.format = source.format;\n\t\tthis.internalFormat = source.internalFormat;\n\t\tthis.type = source.type;\n\n\t\tthis.offset.copy( source.offset );\n\t\tthis.repeat.copy( source.repeat );\n\t\tthis.center.copy( source.center );\n\t\tthis.rotation = source.rotation;\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrix.copy( source.matrix );\n\n\t\tthis.generateMipmaps = source.generateMipmaps;\n\t\tthis.premultiplyAlpha = source.premultiplyAlpha;\n\t\tthis.flipY = source.flipY;\n\t\tthis.unpackAlignment = source.unpackAlignment;\n\t\tthis.encoding = source.encoding;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( ! isRootObject && meta.textures[ this.uuid ] !== undefined ) {\n\n\t\t\treturn meta.textures[ this.uuid ];\n\n\t\t}\n\n\t\tconst output = {\n\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Texture',\n\t\t\t\tgenerator: 'Texture.toJSON'\n\t\t\t},\n\n\t\t\tuuid: this.uuid,\n\t\t\tname: this.name,\n\n\t\t\tmapping: this.mapping,\n\n\t\t\trepeat: [ this.repeat.x, this.repeat.y ],\n\t\t\toffset: [ this.offset.x, this.offset.y ],\n\t\t\tcenter: [ this.center.x, this.center.y ],\n\t\t\trotation: this.rotation,\n\n\t\t\twrap: [ this.wrapS, this.wrapT ],\n\n\t\t\tformat: this.format,\n\t\t\ttype: this.type,\n\t\t\tencoding: this.encoding,\n\n\t\t\tminFilter: this.minFilter,\n\t\t\tmagFilter: this.magFilter,\n\t\t\tanisotropy: this.anisotropy,\n\n\t\t\tflipY: this.flipY,\n\n\t\t\tpremultiplyAlpha: this.premultiplyAlpha,\n\t\t\tunpackAlignment: this.unpackAlignment\n\n\t\t};\n\n\t\tif ( this.image !== undefined ) {\n\n\t\t\t// TODO: Move to THREE.Image\n\n\t\t\tconst image = this.image;\n\n\t\t\tif ( image.uuid === undefined ) {\n\n\t\t\t\timage.uuid = generateUUID(); // UGH\n\n\t\t\t}\n\n\t\t\tif ( ! isRootObject && meta.images[ image.uuid ] === undefined ) {\n\n\t\t\t\tlet url;\n\n\t\t\t\tif ( Array.isArray( image ) ) {\n\n\t\t\t\t\t// process array of images e.g. CubeTexture\n\n\t\t\t\t\turl = [];\n\n\t\t\t\t\tfor ( let i = 0, l = image.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t// check cube texture with data textures\n\n\t\t\t\t\t\tif ( image[ i ].isDataTexture ) {\n\n\t\t\t\t\t\t\turl.push( serializeImage( image[ i ].image ) );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\turl.push( serializeImage( image[ i ] ) );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// process single image\n\n\t\t\t\t\turl = serializeImage( image );\n\n\t\t\t\t}\n\n\t\t\t\tmeta.images[ image.uuid ] = {\n\t\t\t\t\tuuid: image.uuid,\n\t\t\t\t\turl: url\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\toutput.image = image.uuid;\n\n\t\t}\n\n\t\tif ( ! isRootObject ) {\n\n\t\t\tmeta.textures[ this.uuid ] = output;\n\n\t\t}\n\n\t\treturn output;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n\ttransformUv( uv ) {\n\n\t\tif ( this.mapping !== UVMapping ) return uv;\n\n\t\tuv.applyMatrix3( this.matrix );\n\n\t\tif ( uv.x < 0 || uv.x > 1 ) {\n\n\t\t\tswitch ( this.wrapS ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.x = uv.x < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.x ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.x = Math.ceil( uv.x ) - uv.x;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( uv.y < 0 || uv.y > 1 ) {\n\n\t\t\tswitch ( this.wrapT ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.y = uv.y < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.y ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.y = Math.ceil( uv.y ) - uv.y;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.flipY ) {\n\n\t\t\tuv.y = 1 - uv.y;\n\n\t\t}\n\n\t\treturn uv;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n}\n\nTexture.DEFAULT_IMAGE = undefined;\nTexture.DEFAULT_MAPPING = UVMapping;\n\nTexture.prototype.isTexture = true;\n\nfunction serializeImage( image ) {\n\n\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t// default images\n\n\t\treturn ImageUtils.getDataURL( image );\n\n\t} else {\n\n\t\tif ( image.data ) {\n\n\t\t\t// images of DataTexture\n\n\t\t\treturn {\n\t\t\t\tdata: Array.prototype.slice.call( image.data ),\n\t\t\t\twidth: image.width,\n\t\t\t\theight: image.height,\n\t\t\t\ttype: image.data.constructor.name\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Texture: Unable to serialize Texture.' );\n\t\t\treturn {};\n\n\t\t}\n\n\t}\n\n}\n\nclass Vector4 {\n\n\tconstructor( x = 0, y = 0, z = 0, w = 1 ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t}\n\n\tget width() {\n\n\t\treturn this.z;\n\n\t}\n\n\tset width( value ) {\n\n\t\tthis.z = value;\n\n\t}\n\n\tget height() {\n\n\t\treturn this.w;\n\n\t}\n\n\tset height( value ) {\n\n\t\tthis.w = value;\n\n\t}\n\n\tset( x, y, z, w ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\t\tthis.w = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetW( w ) {\n\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tcase 3: this.w = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tcase 3: return this.w;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y, this.z, this.w );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\t\tthis.w = ( v.w !== undefined ) ? v.w : 1;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\t\tthis.w += v.w;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\t\tthis.w += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\t\tthis.w = a.w + b.w;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\t\tthis.w += v.w * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\t\tthis.w -= v.w;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\t\tthis.w -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\t\tthis.w = a.w - b.w;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\t\tthis.w *= v.w;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\t\tthis.w *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z, w = this.w;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\n\t\tthis.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tsetAxisAngleFromQuaternion( q ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\n\t\t// q is assumed to be normalized\n\n\t\tthis.w = 2 * Math.acos( q.w );\n\n\t\tconst s = Math.sqrt( 1 - q.w * q.w );\n\n\t\tif ( s < 0.0001 ) {\n\n\t\t\tthis.x = 1;\n\t\t\tthis.y = 0;\n\t\t\tthis.z = 0;\n\n\t\t} else {\n\n\t\t\tthis.x = q.x / s;\n\t\t\tthis.y = q.y / s;\n\t\t\tthis.z = q.z / s;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetAxisAngleFromRotationMatrix( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tlet angle, x, y, z; // variables for result\n\t\tconst epsilon = 0.01,\t\t// margin to allow for rounding errors\n\t\t\tepsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\n\n\t\t\tte = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\tif ( ( Math.abs( m12 - m21 ) < epsilon ) &&\n\t\t     ( Math.abs( m13 - m31 ) < epsilon ) &&\n\t\t     ( Math.abs( m23 - m32 ) < epsilon ) ) {\n\n\t\t\t// singularity found\n\t\t\t// first check for identity matrix which must have +1 for all terms\n\t\t\t// in leading diagonal and zero in other terms\n\n\t\t\tif ( ( Math.abs( m12 + m21 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m13 + m31 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m23 + m32 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\n\n\t\t\t\t// this singularity is identity matrix so angle = 0\n\n\t\t\t\tthis.set( 1, 0, 0, 0 );\n\n\t\t\t\treturn this; // zero angle, arbitrary axis\n\n\t\t\t}\n\n\t\t\t// otherwise this singularity is angle = 180\n\n\t\t\tangle = Math.PI;\n\n\t\t\tconst xx = ( m11 + 1 ) / 2;\n\t\t\tconst yy = ( m22 + 1 ) / 2;\n\t\t\tconst zz = ( m33 + 1 ) / 2;\n\t\t\tconst xy = ( m12 + m21 ) / 4;\n\t\t\tconst xz = ( m13 + m31 ) / 4;\n\t\t\tconst yz = ( m23 + m32 ) / 4;\n\n\t\t\tif ( ( xx > yy ) && ( xx > zz ) ) {\n\n\t\t\t\t// m11 is the largest diagonal term\n\n\t\t\t\tif ( xx < epsilon ) {\n\n\t\t\t\t\tx = 0;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tx = Math.sqrt( xx );\n\t\t\t\t\ty = xy / x;\n\t\t\t\t\tz = xz / x;\n\n\t\t\t\t}\n\n\t\t\t} else if ( yy > zz ) {\n\n\t\t\t\t// m22 is the largest diagonal term\n\n\t\t\t\tif ( yy < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ty = Math.sqrt( yy );\n\t\t\t\t\tx = xy / y;\n\t\t\t\t\tz = yz / y;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// m33 is the largest diagonal term so base result on this\n\n\t\t\t\tif ( zz < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz = Math.sqrt( zz );\n\t\t\t\t\tx = xz / z;\n\t\t\t\t\ty = yz / z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.set( x, y, z, angle );\n\n\t\t\treturn this; // return 180 deg rotation\n\n\t\t}\n\n\t\t// as we have reached here there are no singularities so we can handle normally\n\n\t\tlet s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 ) +\n\t\t\t( m13 - m31 ) * ( m13 - m31 ) +\n\t\t\t( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\n\n\t\tif ( Math.abs( s ) < 0.001 ) s = 1;\n\n\t\t// prevent divide by zero, should not happen if matrix is orthogonal and should be\n\t\t// caught by singularity test above, but I've left it in just in case\n\n\t\tthis.x = ( m32 - m23 ) / s;\n\t\tthis.y = ( m13 - m31 ) / s;\n\t\tthis.z = ( m21 - m12 ) / s;\n\t\tthis.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\n\n\t\treturn this;\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\t\tthis.w = Math.min( this.w, v.w );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\t\tthis.w = Math.max( this.w, v.w );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\t\tthis.w = Math.max( min.w, Math.min( max.w, this.w ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\t\tthis.w = Math.max( minVal, Math.min( maxVal, this.w ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\t\tthis.w = Math.floor( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\t\tthis.w = Math.ceil( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\t\tthis.w = Math.round( this.w );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\t\tthis.w = ( this.w < 0 ) ? Math.ceil( this.w ) : Math.floor( this.w );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\t\tthis.w = - this.w;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\t\tthis.w += ( v.w - this.w ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\t\tthis.z = v1.z + ( v2.z - v1.z ) * alpha;\n\t\tthis.w = v1.w + ( v2.w - v1.w ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\t\tthis.w = array[ offset + 3 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\t\tarray[ offset + 3 ] = this.w;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\t\tthis.w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\t\tthis.z = Math.random();\n\t\tthis.w = Math.random();\n\n\t\treturn this;\n\n\t}\n\n}\n\nVector4.prototype.isVector4 = true;\n\n/*\n In options, we can specify:\n * Texture parameters for an auto-generated target texture\n * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n*/\nclass WebGLRenderTarget extends EventDispatcher {\n\n\tconstructor( width, height, options = {} ) {\n\n\t\tsuper();\n\n\t\tthis.width = width;\n\t\tthis.height = height;\n\t\tthis.depth = 1;\n\n\t\tthis.scissor = new Vector4( 0, 0, width, height );\n\t\tthis.scissorTest = false;\n\n\t\tthis.viewport = new Vector4( 0, 0, width, height );\n\n\t\tthis.texture = new Texture( undefined, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\t\tthis.texture.isRenderTargetTexture = true;\n\n\t\tthis.texture.image = { width: width, height: height, depth: 1 };\n\n\t\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\t\tthis.texture.internalFormat = options.internalFormat !== undefined ? options.internalFormat : null;\n\t\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n\t\tthis.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n\t\tthis.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : false;\n\t\tthis.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n\n\t}\n\n\tsetTexture( texture ) {\n\n\t\ttexture.image = {\n\t\t\twidth: this.width,\n\t\t\theight: this.height,\n\t\t\tdepth: this.depth\n\t\t};\n\n\t\tthis.texture = texture;\n\n\t}\n\n\tsetSize( width, height, depth = 1 ) {\n\n\t\tif ( this.width !== width || this.height !== height || this.depth !== depth ) {\n\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\t\t\tthis.depth = depth;\n\n\t\t\tthis.texture.image.width = width;\n\t\t\tthis.texture.image.height = height;\n\t\t\tthis.texture.image.depth = depth;\n\n\t\t\tthis.dispose();\n\n\t\t}\n\n\t\tthis.viewport.set( 0, 0, width, height );\n\t\tthis.scissor.set( 0, 0, width, height );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\t\tthis.depth = source.depth;\n\n\t\tthis.viewport.copy( source.viewport );\n\n\t\tthis.texture = source.texture.clone();\n\t\tthis.texture.image = { ...this.texture.image }; // See #20328.\n\n\t\tthis.depthBuffer = source.depthBuffer;\n\t\tthis.stencilBuffer = source.stencilBuffer;\n\t\tthis.depthTexture = source.depthTexture;\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n}\n\nWebGLRenderTarget.prototype.isWebGLRenderTarget = true;\n\nclass WebGLMultipleRenderTargets extends WebGLRenderTarget {\n\n\tconstructor( width, height, count ) {\n\n\t\tsuper( width, height );\n\n\t\tconst texture = this.texture;\n\n\t\tthis.texture = [];\n\n\t\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\t\tthis.texture[ i ] = texture.clone();\n\n\t\t}\n\n\t}\n\n\tsetSize( width, height, depth = 1 ) {\n\n\t\tif ( this.width !== width || this.height !== height || this.depth !== depth ) {\n\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\t\t\tthis.depth = depth;\n\n\t\t\tfor ( let i = 0, il = this.texture.length; i < il; i ++ ) {\n\n\t\t\t\tthis.texture[ i ].image.width = width;\n\t\t\t\tthis.texture[ i ].image.height = height;\n\t\t\t\tthis.texture[ i ].image.depth = depth;\n\n\t\t\t}\n\n\t\t\tthis.dispose();\n\n\t\t}\n\n\t\tthis.viewport.set( 0, 0, width, height );\n\t\tthis.scissor.set( 0, 0, width, height );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.dispose();\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\t\tthis.depth = source.depth;\n\n\t\tthis.viewport.set( 0, 0, this.width, this.height );\n\t\tthis.scissor.set( 0, 0, this.width, this.height );\n\n\t\tthis.depthBuffer = source.depthBuffer;\n\t\tthis.stencilBuffer = source.stencilBuffer;\n\t\tthis.depthTexture = source.depthTexture;\n\n\t\tthis.texture.length = 0;\n\n\t\tfor ( let i = 0, il = source.texture.length; i < il; i ++ ) {\n\n\t\t\tthis.texture[ i ] = source.texture[ i ].clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nWebGLMultipleRenderTargets.prototype.isWebGLMultipleRenderTargets = true;\n\nclass WebGLMultisampleRenderTarget extends WebGLRenderTarget {\n\n\tconstructor( width, height, options ) {\n\n\t\tsuper( width, height, options );\n\n\t\tthis.samples = 4;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy.call( this, source );\n\n\t\tthis.samples = source.samples;\n\n\t\treturn this;\n\n\t}\n\n}\n\nWebGLMultisampleRenderTarget.prototype.isWebGLMultisampleRenderTarget = true;\n\nclass Quaternion {\n\n\tconstructor( x = 0, y = 0, z = 0, w = 1 ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t}\n\n\tstatic slerp( qa, qb, qm, t ) {\n\n\t\tconsole.warn( 'THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead.' );\n\t\treturn qm.slerpQuaternions( qa, qb, t );\n\n\t}\n\n\tstatic slerpFlat( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\n\n\t\t// fuzz-free, array-based Quaternion SLERP operation\n\n\t\tlet x0 = src0[ srcOffset0 + 0 ],\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\n\t\t\tw0 = src0[ srcOffset0 + 3 ];\n\n\t\tconst x1 = src1[ srcOffset1 + 0 ],\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\n\n\t\tif ( t === 0 ) {\n\n\t\t\tdst[ dstOffset + 0 ] = x0;\n\t\t\tdst[ dstOffset + 1 ] = y0;\n\t\t\tdst[ dstOffset + 2 ] = z0;\n\t\t\tdst[ dstOffset + 3 ] = w0;\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( t === 1 ) {\n\n\t\t\tdst[ dstOffset + 0 ] = x1;\n\t\t\tdst[ dstOffset + 1 ] = y1;\n\t\t\tdst[ dstOffset + 2 ] = z1;\n\t\t\tdst[ dstOffset + 3 ] = w1;\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\n\n\t\t\tlet s = 1 - t;\n\t\t\tconst cos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\n\t\t\t\tsqrSin = 1 - cos * cos;\n\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\n\t\t\tif ( sqrSin > Number.EPSILON ) {\n\n\t\t\t\tconst sin = Math.sqrt( sqrSin ),\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\n\n\t\t\t\ts = Math.sin( s * len ) / sin;\n\t\t\t\tt = Math.sin( t * len ) / sin;\n\n\t\t\t}\n\n\t\t\tconst tDir = t * dir;\n\n\t\t\tx0 = x0 * s + x1 * tDir;\n\t\t\ty0 = y0 * s + y1 * tDir;\n\t\t\tz0 = z0 * s + z1 * tDir;\n\t\t\tw0 = w0 * s + w1 * tDir;\n\n\t\t\t// Normalize in case we just did a lerp:\n\t\t\tif ( s === 1 - t ) {\n\n\t\t\t\tconst f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\n\n\t\t\t\tx0 *= f;\n\t\t\t\ty0 *= f;\n\t\t\t\tz0 *= f;\n\t\t\t\tw0 *= f;\n\n\t\t\t}\n\n\t\t}\n\n\t\tdst[ dstOffset ] = x0;\n\t\tdst[ dstOffset + 1 ] = y0;\n\t\tdst[ dstOffset + 2 ] = z0;\n\t\tdst[ dstOffset + 3 ] = w0;\n\n\t}\n\n\tstatic multiplyQuaternionsFlat( dst, dstOffset, src0, srcOffset0, src1, srcOffset1 ) {\n\n\t\tconst x0 = src0[ srcOffset0 ];\n\t\tconst y0 = src0[ srcOffset0 + 1 ];\n\t\tconst z0 = src0[ srcOffset0 + 2 ];\n\t\tconst w0 = src0[ srcOffset0 + 3 ];\n\n\t\tconst x1 = src1[ srcOffset1 ];\n\t\tconst y1 = src1[ srcOffset1 + 1 ];\n\t\tconst z1 = src1[ srcOffset1 + 2 ];\n\t\tconst w1 = src1[ srcOffset1 + 3 ];\n\n\t\tdst[ dstOffset ] = x0 * w1 + w0 * x1 + y0 * z1 - z0 * y1;\n\t\tdst[ dstOffset + 1 ] = y0 * w1 + w0 * y1 + z0 * x1 - x0 * z1;\n\t\tdst[ dstOffset + 2 ] = z0 * w1 + w0 * z1 + x0 * y1 - y0 * x1;\n\t\tdst[ dstOffset + 3 ] = w0 * w1 - x0 * x1 - y0 * y1 - z0 * z1;\n\n\t\treturn dst;\n\n\t}\n\n\tget x() {\n\n\t\treturn this._x;\n\n\t}\n\n\tset x( value ) {\n\n\t\tthis._x = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget y() {\n\n\t\treturn this._y;\n\n\t}\n\n\tset y( value ) {\n\n\t\tthis._y = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget z() {\n\n\t\treturn this._z;\n\n\t}\n\n\tset z( value ) {\n\n\t\tthis._z = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget w() {\n\n\t\treturn this._w;\n\n\t}\n\n\tset w( value ) {\n\n\t\tthis._w = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tset( x, y, z, w ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\n\n\t}\n\n\tcopy( quaternion ) {\n\n\t\tthis._x = quaternion.x;\n\t\tthis._y = quaternion.y;\n\t\tthis._z = quaternion.z;\n\t\tthis._w = quaternion.w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromEuler( euler, update ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tthrow new Error( 'THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tconst x = euler._x, y = euler._y, z = euler._z, order = euler._order;\n\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t//\tcontent/SpinCalc.m\n\n\t\tconst cos = Math.cos;\n\t\tconst sin = Math.sin;\n\n\t\tconst c1 = cos( x / 2 );\n\t\tconst c2 = cos( y / 2 );\n\t\tconst c3 = cos( z / 2 );\n\n\t\tconst s1 = sin( x / 2 );\n\t\tconst s2 = sin( y / 2 );\n\t\tconst s3 = sin( z / 2 );\n\n\t\tswitch ( order ) {\n\n\t\t\tcase 'XYZ':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXZ':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXY':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYX':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZX':\n\t\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZY':\n\t\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.warn( 'THREE.Quaternion: .setFromEuler() encountered an unknown order: ' + order );\n\n\t\t}\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromAxisAngle( axis, angle ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n\t\t// assumes axis is normalized\n\n\t\tconst halfAngle = angle / 2, s = Math.sin( halfAngle );\n\n\t\tthis._x = axis.x * s;\n\t\tthis._y = axis.y * s;\n\t\tthis._z = axis.z * s;\n\t\tthis._w = Math.cos( halfAngle );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromRotationMatrix( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tconst te = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\n\t\t\ttrace = m11 + m22 + m33;\n\n\t\tif ( trace > 0 ) {\n\n\t\t\tconst s = 0.5 / Math.sqrt( trace + 1.0 );\n\n\t\t\tthis._w = 0.25 / s;\n\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\tthis._z = ( m21 - m12 ) * s;\n\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n\t\t\tthis._w = ( m32 - m23 ) / s;\n\t\t\tthis._x = 0.25 * s;\n\t\t\tthis._y = ( m12 + m21 ) / s;\n\t\t\tthis._z = ( m13 + m31 ) / s;\n\n\t\t} else if ( m22 > m33 ) {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n\t\t\tthis._w = ( m13 - m31 ) / s;\n\t\t\tthis._x = ( m12 + m21 ) / s;\n\t\t\tthis._y = 0.25 * s;\n\t\t\tthis._z = ( m23 + m32 ) / s;\n\n\t\t} else {\n\n\t\t\tconst s = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\tthis._z = 0.25 * s;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromUnitVectors( vFrom, vTo ) {\n\n\t\t// assumes direction vectors vFrom and vTo are normalized\n\n\t\tlet r = vFrom.dot( vTo ) + 1;\n\n\t\tif ( r < Number.EPSILON ) {\n\n\t\t\t// vFrom and vTo point in opposite directions\n\n\t\t\tr = 0;\n\n\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\n\t\t\t\tthis._x = - vFrom.y;\n\t\t\t\tthis._y = vFrom.x;\n\t\t\t\tthis._z = 0;\n\t\t\t\tthis._w = r;\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = - vFrom.z;\n\t\t\t\tthis._z = vFrom.y;\n\t\t\t\tthis._w = r;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\n\n\t\t\tthis._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\n\t\t\tthis._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\n\t\t\tthis._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\n\t\t\tthis._w = r;\n\n\t\t}\n\n\t\treturn this.normalize();\n\n\t}\n\n\tangleTo( q ) {\n\n\t\treturn 2 * Math.acos( Math.abs( clamp( this.dot( q ), - 1, 1 ) ) );\n\n\t}\n\n\trotateTowards( q, step ) {\n\n\t\tconst angle = this.angleTo( q );\n\n\t\tif ( angle === 0 ) return this;\n\n\t\tconst t = Math.min( 1, step / angle );\n\n\t\tthis.slerp( q, t );\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\treturn this.set( 0, 0, 0, 1 );\n\n\t}\n\n\tinvert() {\n\n\t\t// quaternion is assumed to have unit length\n\n\t\treturn this.conjugate();\n\n\t}\n\n\tconjugate() {\n\n\t\tthis._x *= - 1;\n\t\tthis._y *= - 1;\n\t\tthis._z *= - 1;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n\t}\n\n\tlengthSq() {\n\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\n\t}\n\n\tnormalize() {\n\n\t\tlet l = this.length();\n\n\t\tif ( l === 0 ) {\n\n\t\t\tthis._x = 0;\n\t\t\tthis._y = 0;\n\t\t\tthis._z = 0;\n\t\t\tthis._w = 1;\n\n\t\t} else {\n\n\t\t\tl = 1 / l;\n\n\t\t\tthis._x = this._x * l;\n\t\t\tthis._y = this._y * l;\n\t\t\tthis._z = this._z * l;\n\t\t\tthis._w = this._w * l;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( q, p ) {\n\n\t\tif ( p !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\n\t\t\treturn this.multiplyQuaternions( q, p );\n\n\t\t}\n\n\t\treturn this.multiplyQuaternions( this, q );\n\n\t}\n\n\tpremultiply( q ) {\n\n\t\treturn this.multiplyQuaternions( q, this );\n\n\t}\n\n\tmultiplyQuaternions( a, b ) {\n\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n\t\tconst qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\tconst qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tslerp( qb, t ) {\n\n\t\tif ( t === 0 ) return this;\n\t\tif ( t === 1 ) return this.copy( qb );\n\n\t\tconst x = this._x, y = this._y, z = this._z, w = this._w;\n\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\tlet cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\tif ( cosHalfTheta < 0 ) {\n\n\t\t\tthis._w = - qb._w;\n\t\t\tthis._x = - qb._x;\n\t\t\tthis._y = - qb._y;\n\t\t\tthis._z = - qb._z;\n\n\t\t\tcosHalfTheta = - cosHalfTheta;\n\n\t\t} else {\n\n\t\t\tthis.copy( qb );\n\n\t\t}\n\n\t\tif ( cosHalfTheta >= 1.0 ) {\n\n\t\t\tthis._w = w;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n\t\tif ( sqrSinHalfTheta <= Number.EPSILON ) {\n\n\t\t\tconst s = 1 - t;\n\t\t\tthis._w = s * w + t * this._w;\n\t\t\tthis._x = s * x + t * this._x;\n\t\t\tthis._y = s * y + t * this._y;\n\t\t\tthis._z = s * z + t * this._z;\n\n\t\t\tthis.normalize();\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst sinHalfTheta = Math.sqrt( sqrSinHalfTheta );\n\t\tconst halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n\t\tconst ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tslerpQuaternions( qa, qb, t ) {\n\n\t\tthis.copy( qa ).slerp( qb, t );\n\n\t}\n\n\tequals( quaternion ) {\n\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis._x = array[ offset ];\n\t\tthis._y = array[ offset + 1 ];\n\t\tthis._z = array[ offset + 2 ];\n\t\tthis._w = array[ offset + 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._w;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis._x = attribute.getX( index );\n\t\tthis._y = attribute.getY( index );\n\t\tthis._z = attribute.getZ( index );\n\t\tthis._w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n\t_onChange( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\t_onChangeCallback() {}\n\n}\n\nQuaternion.prototype.isQuaternion = true;\n\nclass Vector3 {\n\n\tconstructor( x = 0, y = 0, z = 0 ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t}\n\n\tset( x, y, z ) {\n\n\t\tif ( z === undefined ) z = this.z; // sprite.scale.set(x,y)\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetX( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponent( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetComponent( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.x, this.y, this.z );\n\n\t}\n\n\tcopy( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\n\t\treturn this;\n\n\t}\n\n\tadd( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\n\t\treturn this;\n\n\t}\n\n\taddVectors( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\n\t\treturn this;\n\n\t}\n\n\taddScaledVector( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tsubScalar( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\n\t\treturn this;\n\n\t}\n\n\tsubVectors( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\n\t\t\treturn this.multiplyVectors( v, w );\n\n\t\t}\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyVectors( a, b ) {\n\n\t\tthis.x = a.x * b.x;\n\t\tthis.y = a.y * b.y;\n\t\tthis.z = a.z * b.z;\n\n\t\treturn this;\n\n\t}\n\n\tapplyEuler( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\treturn this.applyQuaternion( _quaternion$4.setFromEuler( euler ) );\n\n\t}\n\n\tapplyAxisAngle( axis, angle ) {\n\n\t\treturn this.applyQuaternion( _quaternion$4.setFromAxisAngle( axis, angle ) );\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\treturn this.applyMatrix3( m ).normalize();\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tconst w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\n\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\n\n\t\treturn this;\n\n\t}\n\n\tapplyQuaternion( q ) {\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n\t\t// calculate quat * vector\n\n\t\tconst ix = qw * x + qy * z - qz * y;\n\t\tconst iy = qw * y + qz * x - qx * z;\n\t\tconst iz = qw * z + qx * y - qy * x;\n\t\tconst iw = - qx * x - qy * y - qz * z;\n\n\t\t// calculate result * inverse quat\n\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n\t\treturn this;\n\n\t}\n\n\tproject( camera ) {\n\n\t\treturn this.applyMatrix4( camera.matrixWorldInverse ).applyMatrix4( camera.projectionMatrix );\n\n\t}\n\n\tunproject( camera ) {\n\n\t\treturn this.applyMatrix4( camera.projectionMatrixInverse ).applyMatrix4( camera.matrixWorld );\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\t// input: THREE.Matrix4 affine matrix\n\t\t// vector interpreted as a direction\n\n\t\tconst x = this.x, y = this.y, z = this.z;\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\n\t\treturn this.normalize();\n\n\t}\n\n\tdivide( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\n\t\treturn this;\n\n\t}\n\n\tdivideScalar( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t}\n\n\tmin( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\n\t\treturn this;\n\n\t}\n\n\tmax( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\n\t\treturn this;\n\n\t}\n\n\tclamp( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampScalar( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\n\t\treturn this;\n\n\t}\n\n\tclampLength( min, max ) {\n\n\t\tconst length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t}\n\n\tfloor() {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tceil() {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tround() {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\n\t\treturn this;\n\n\t}\n\n\troundToZero() {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\n\t\treturn this;\n\n\t}\n\n\tdot( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\n\t}\n\n\t// TODO lengthSquared?\n\n\tlengthSq() {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\n\t}\n\n\tlength() {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n\t}\n\n\tmanhattanLength() {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n\t}\n\n\tnormalize() {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t}\n\n\tsetLength( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t}\n\n\tlerp( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpVectors( v1, v2, alpha ) {\n\n\t\tthis.x = v1.x + ( v2.x - v1.x ) * alpha;\n\t\tthis.y = v1.y + ( v2.y - v1.y ) * alpha;\n\t\tthis.z = v1.z + ( v2.z - v1.z ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tcross( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\n\t\t\treturn this.crossVectors( v, w );\n\n\t\t}\n\n\t\treturn this.crossVectors( this, v );\n\n\t}\n\n\tcrossVectors( a, b ) {\n\n\t\tconst ax = a.x, ay = a.y, az = a.z;\n\t\tconst bx = b.x, by = b.y, bz = b.z;\n\n\t\tthis.x = ay * bz - az * by;\n\t\tthis.y = az * bx - ax * bz;\n\t\tthis.z = ax * by - ay * bx;\n\n\t\treturn this;\n\n\t}\n\n\tprojectOnVector( v ) {\n\n\t\tconst denominator = v.lengthSq();\n\n\t\tif ( denominator === 0 ) return this.set( 0, 0, 0 );\n\n\t\tconst scalar = v.dot( this ) / denominator;\n\n\t\treturn this.copy( v ).multiplyScalar( scalar );\n\n\t}\n\n\tprojectOnPlane( planeNormal ) {\n\n\t\t_vector$c.copy( this ).projectOnVector( planeNormal );\n\n\t\treturn this.sub( _vector$c );\n\n\t}\n\n\treflect( normal ) {\n\n\t\t// reflect incident vector off plane orthogonal to normal\n\t\t// normal is assumed to have unit length\n\n\t\treturn this.sub( _vector$c.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\n\t}\n\n\tangleTo( v ) {\n\n\t\tconst denominator = Math.sqrt( this.lengthSq() * v.lengthSq() );\n\n\t\tif ( denominator === 0 ) return Math.PI / 2;\n\n\t\tconst theta = this.dot( v ) / denominator;\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( clamp( theta, - 1, 1 ) );\n\n\t}\n\n\tdistanceTo( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t}\n\n\tdistanceToSquared( v ) {\n\n\t\tconst dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n\t\treturn dx * dx + dy * dy + dz * dz;\n\n\t}\n\n\tmanhattanDistanceTo( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\n\n\t}\n\n\tsetFromSpherical( s ) {\n\n\t\treturn this.setFromSphericalCoords( s.radius, s.phi, s.theta );\n\n\t}\n\n\tsetFromSphericalCoords( radius, phi, theta ) {\n\n\t\tconst sinPhiRadius = Math.sin( phi ) * radius;\n\n\t\tthis.x = sinPhiRadius * Math.sin( theta );\n\t\tthis.y = Math.cos( phi ) * radius;\n\t\tthis.z = sinPhiRadius * Math.cos( theta );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCylindrical( c ) {\n\n\t\treturn this.setFromCylindricalCoords( c.radius, c.theta, c.y );\n\n\t}\n\n\tsetFromCylindricalCoords( radius, theta, y ) {\n\n\t\tthis.x = radius * Math.sin( theta );\n\t\tthis.y = y;\n\t\tthis.z = radius * Math.cos( theta );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixPosition( m ) {\n\n\t\tconst e = m.elements;\n\n\t\tthis.x = e[ 12 ];\n\t\tthis.y = e[ 13 ];\n\t\tthis.z = e[ 14 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixScale( m ) {\n\n\t\tconst sx = this.setFromMatrixColumn( m, 0 ).length();\n\t\tconst sy = this.setFromMatrixColumn( m, 1 ).length();\n\t\tconst sz = this.setFromMatrixColumn( m, 2 ).length();\n\n\t\tthis.x = sx;\n\t\tthis.y = sy;\n\t\tthis.z = sz;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrixColumn( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 4 );\n\n\t}\n\n\tsetFromMatrix3Column( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 3 );\n\n\t}\n\n\tequals( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\n\t\treturn this;\n\n\t}\n\n\trandom() {\n\n\t\tthis.x = Math.random();\n\t\tthis.y = Math.random();\n\t\tthis.z = Math.random();\n\n\t\treturn this;\n\n\t}\n\n}\n\nVector3.prototype.isVector3 = true;\n\nconst _vector$c = /*@__PURE__*/ new Vector3();\nconst _quaternion$4 = /*@__PURE__*/ new Quaternion();\n\nclass Box3 {\n\n\tconstructor( min = new Vector3( + Infinity, + Infinity, + Infinity ), max = new Vector3( - Infinity, - Infinity, - Infinity ) ) {\n\n\t\tthis.min = min;\n\t\tthis.max = max;\n\n\t}\n\n\tset( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromArray( array ) {\n\n\t\tlet minX = + Infinity;\n\t\tlet minY = + Infinity;\n\t\tlet minZ = + Infinity;\n\n\t\tlet maxX = - Infinity;\n\t\tlet maxY = - Infinity;\n\t\tlet maxZ = - Infinity;\n\n\t\tfor ( let i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\tconst x = array[ i ];\n\t\t\tconst y = array[ i + 1 ];\n\t\t\tconst z = array[ i + 2 ];\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromBufferAttribute( attribute ) {\n\n\t\tlet minX = + Infinity;\n\t\tlet minY = + Infinity;\n\t\tlet minZ = + Infinity;\n\n\t\tlet maxX = - Infinity;\n\t\tlet maxY = - Infinity;\n\t\tlet maxZ = - Infinity;\n\n\t\tfor ( let i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\tconst x = attribute.getX( i );\n\t\t\tconst y = attribute.getY( i );\n\t\t\tconst z = attribute.getZ( i );\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCenterAndSize( center, size ) {\n\n\t\tconst halfSize = _vector$b.copy( size ).multiplyScalar( 0.5 );\n\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromObject( object ) {\n\n\t\tthis.makeEmpty();\n\n\t\treturn this.expandByObject( object );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.min.x = this.min.y = this.min.z = + Infinity;\n\t\tthis.max.x = this.max.y = this.max.z = - Infinity;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y ) || ( this.max.z < this.min.z );\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t}\n\n\tgetSize( target ) {\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t}\n\n\texpandByVector( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t}\n\n\texpandByScalar( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t}\n\n\texpandByObject( object ) {\n\n\t\t// Computes the world-axis-aligned bounding box of an object (including its children),\n\t\t// accounting for both the object's, and children's, world transforms\n\n\t\tobject.updateWorldMatrix( false, false );\n\n\t\tconst geometry = object.geometry;\n\n\t\tif ( geometry !== undefined ) {\n\n\t\t\tif ( geometry.boundingBox === null ) {\n\n\t\t\t\tgeometry.computeBoundingBox();\n\n\t\t\t}\n\n\t\t\t_box$3.copy( geometry.boundingBox );\n\t\t\t_box$3.applyMatrix4( object.matrixWorld );\n\n\t\t\tthis.union( _box$3 );\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tthis.expandByObject( children[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ||\n\t\t\tpoint.z < this.min.z || point.z > this.max.z ? false : true;\n\n\t}\n\n\tcontainsBox( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y &&\n\t\t\tthis.min.z <= box.min.z && box.max.z <= this.max.z;\n\n\t}\n\n\tgetParameter( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y ),\n\t\t\t( point.z - this.min.z ) / ( this.max.z - this.min.z )\n\t\t);\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\t// using 6 splitting planes to rule out intersections.\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ||\n\t\t\tbox.max.z < this.min.z || box.min.z > this.max.z ? false : true;\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\t// Find the point on the AABB closest to the sphere center.\n\t\tthis.clampPoint( sphere.center, _vector$b );\n\n\t\t// If that point is inside the sphere, the AABB and sphere intersect.\n\t\treturn _vector$b.distanceToSquared( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\t// We compute the minimum and maximum dot product values. If those values\n\t\t// are on the same side (back or front) of the plane, then there is no intersection.\n\n\t\tlet min, max;\n\n\t\tif ( plane.normal.x > 0 ) {\n\n\t\t\tmin = plane.normal.x * this.min.x;\n\t\t\tmax = plane.normal.x * this.max.x;\n\n\t\t} else {\n\n\t\t\tmin = plane.normal.x * this.max.x;\n\t\t\tmax = plane.normal.x * this.min.x;\n\n\t\t}\n\n\t\tif ( plane.normal.y > 0 ) {\n\n\t\t\tmin += plane.normal.y * this.min.y;\n\t\t\tmax += plane.normal.y * this.max.y;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.y * this.max.y;\n\t\t\tmax += plane.normal.y * this.min.y;\n\n\t\t}\n\n\t\tif ( plane.normal.z > 0 ) {\n\n\t\t\tmin += plane.normal.z * this.min.z;\n\t\t\tmax += plane.normal.z * this.max.z;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.z * this.max.z;\n\t\t\tmax += plane.normal.z * this.min.z;\n\n\t\t}\n\n\t\treturn ( min <= - plane.constant && max >= - plane.constant );\n\n\t}\n\n\tintersectsTriangle( triangle ) {\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// compute box center and extents\n\t\tthis.getCenter( _center );\n\t\t_extents.subVectors( this.max, _center );\n\n\t\t// translate triangle to aabb origin\n\t\t_v0$2.subVectors( triangle.a, _center );\n\t\t_v1$7.subVectors( triangle.b, _center );\n\t\t_v2$3.subVectors( triangle.c, _center );\n\n\t\t// compute edge vectors for triangle\n\t\t_f0.subVectors( _v1$7, _v0$2 );\n\t\t_f1.subVectors( _v2$3, _v1$7 );\n\t\t_f2.subVectors( _v0$2, _v2$3 );\n\n\t\t// test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb\n\t\t// make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation\n\t\t// axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)\n\t\tlet axes = [\n\t\t\t0, - _f0.z, _f0.y, 0, - _f1.z, _f1.y, 0, - _f2.z, _f2.y,\n\t\t\t_f0.z, 0, - _f0.x, _f1.z, 0, - _f1.x, _f2.z, 0, - _f2.x,\n\t\t\t- _f0.y, _f0.x, 0, - _f1.y, _f1.x, 0, - _f2.y, _f2.x, 0\n\t\t];\n\t\tif ( ! satForAxes( axes, _v0$2, _v1$7, _v2$3, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// test 3 face normals from the aabb\n\t\taxes = [ 1, 0, 0, 0, 1, 0, 0, 0, 1 ];\n\t\tif ( ! satForAxes( axes, _v0$2, _v1$7, _v2$3, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// finally testing the face normal of the triangle\n\t\t// use already existing triangle edge vectors here\n\t\t_triangleNormal.crossVectors( _f0, _f1 );\n\t\taxes = [ _triangleNormal.x, _triangleNormal.y, _triangleNormal.z ];\n\n\t\treturn satForAxes( axes, _v0$2, _v1$7, _v2$3, _extents );\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\tconst clampedPoint = _vector$b.copy( point ).clamp( this.min, this.max );\n\n\t\treturn clampedPoint.sub( point ).length();\n\n\t}\n\n\tgetBoundingSphere( target ) {\n\n\t\tthis.getCenter( target.center );\n\n\t\ttarget.radius = this.getSize( _vector$b ).length() * 0.5;\n\n\t\treturn target;\n\n\t}\n\n\tintersect( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\t// ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n\t\tif ( this.isEmpty() ) this.makeEmpty();\n\n\t\treturn this;\n\n\t}\n\n\tunion( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\t// transform of empty box is an empty box.\n\t\tif ( this.isEmpty() ) return this;\n\n\t\t// NOTE: I am using a binary pattern to specify all 2^3 combinations below\n\t\t_points[ 0 ].set( this.min.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 000\n\t\t_points[ 1 ].set( this.min.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 001\n\t\t_points[ 2 ].set( this.min.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 010\n\t\t_points[ 3 ].set( this.min.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 011\n\t\t_points[ 4 ].set( this.max.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 100\n\t\t_points[ 5 ].set( this.max.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 101\n\t\t_points[ 6 ].set( this.max.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 110\n\t\t_points[ 7 ].set( this.max.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 111\n\n\t\tthis.setFromPoints( _points );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\tequals( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n}\n\nBox3.prototype.isBox3 = true;\n\nconst _points = [\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3(),\n\t/*@__PURE__*/ new Vector3()\n];\n\nconst _vector$b = /*@__PURE__*/ new Vector3();\n\nconst _box$3 = /*@__PURE__*/ new Box3();\n\n// triangle centered vertices\n\nconst _v0$2 = /*@__PURE__*/ new Vector3();\nconst _v1$7 = /*@__PURE__*/ new Vector3();\nconst _v2$3 = /*@__PURE__*/ new Vector3();\n\n// triangle edge vectors\n\nconst _f0 = /*@__PURE__*/ new Vector3();\nconst _f1 = /*@__PURE__*/ new Vector3();\nconst _f2 = /*@__PURE__*/ new Vector3();\n\nconst _center = /*@__PURE__*/ new Vector3();\nconst _extents = /*@__PURE__*/ new Vector3();\nconst _triangleNormal = /*@__PURE__*/ new Vector3();\nconst _testAxis = /*@__PURE__*/ new Vector3();\n\nfunction satForAxes( axes, v0, v1, v2, extents ) {\n\n\tfor ( let i = 0, j = axes.length - 3; i <= j; i += 3 ) {\n\n\t\t_testAxis.fromArray( axes, i );\n\t\t// project the aabb onto the seperating axis\n\t\tconst r = extents.x * Math.abs( _testAxis.x ) + extents.y * Math.abs( _testAxis.y ) + extents.z * Math.abs( _testAxis.z );\n\t\t// project all 3 vertices of the triangle onto the seperating axis\n\t\tconst p0 = v0.dot( _testAxis );\n\t\tconst p1 = v1.dot( _testAxis );\n\t\tconst p2 = v2.dot( _testAxis );\n\t\t// actual test, basically see if either of the most extreme of the triangle points intersects r\n\t\tif ( Math.max( - Math.max( p0, p1, p2 ), Math.min( p0, p1, p2 ) ) > r ) {\n\n\t\t\t// points of the projected triangle are outside the projected half-length of the aabb\n\t\t\t// the axis is seperating and we can exit\n\t\t\treturn false;\n\n\t\t}\n\n\t}\n\n\treturn true;\n\n}\n\nconst _box$2 = /*@__PURE__*/ new Box3();\nconst _v1$6 = /*@__PURE__*/ new Vector3();\nconst _toFarthestPoint = /*@__PURE__*/ new Vector3();\nconst _toPoint = /*@__PURE__*/ new Vector3();\n\nclass Sphere {\n\n\tconstructor( center = new Vector3(), radius = - 1 ) {\n\n\t\tthis.center = center;\n\t\tthis.radius = radius;\n\n\t}\n\n\tset( center, radius ) {\n\n\t\tthis.center.copy( center );\n\t\tthis.radius = radius;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points, optionalCenter ) {\n\n\t\tconst center = this.center;\n\n\t\tif ( optionalCenter !== undefined ) {\n\n\t\t\tcenter.copy( optionalCenter );\n\n\t\t} else {\n\n\t\t\t_box$2.setFromPoints( points ).getCenter( center );\n\n\t\t}\n\n\t\tlet maxRadiusSq = 0;\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( points[ i ] ) );\n\n\t\t}\n\n\t\tthis.radius = Math.sqrt( maxRadiusSq );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( sphere ) {\n\n\t\tthis.center.copy( sphere.center );\n\t\tthis.radius = sphere.radius;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\treturn ( this.radius < 0 );\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.center.set( 0, 0, 0 );\n\t\tthis.radius = - 1;\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn ( point.distanceToSquared( this.center ) <= ( this.radius * this.radius ) );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn ( point.distanceTo( this.center ) - this.radius );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\tconst radiusSum = this.radius + sphere.radius;\n\n\t\treturn sphere.center.distanceToSquared( this.center ) <= ( radiusSum * radiusSum );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsSphere( this );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\treturn Math.abs( plane.distanceToPoint( this.center ) ) <= this.radius;\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\tconst deltaLengthSq = this.center.distanceToSquared( point );\n\n\t\ttarget.copy( point );\n\n\t\tif ( deltaLengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\ttarget.sub( this.center ).normalize();\n\t\t\ttarget.multiplyScalar( this.radius ).add( this.center );\n\n\t\t}\n\n\t\treturn target;\n\n\t}\n\n\tgetBoundingBox( target ) {\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\t// Empty sphere produces empty bounding box\n\t\t\ttarget.makeEmpty();\n\t\t\treturn target;\n\n\t\t}\n\n\t\ttarget.set( this.center, this.center );\n\t\ttarget.expandByScalar( this.radius );\n\n\t\treturn target;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tthis.center.applyMatrix4( matrix );\n\t\tthis.radius = this.radius * matrix.getMaxScaleOnAxis();\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.center.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\t// from https://github.com/juj/MathGeoLib/blob/2940b99b99cfe575dd45103ef20f4019dee15b54/src/Geometry/Sphere.cpp#L649-L671\n\n\t\t_toPoint.subVectors( point, this.center );\n\n\t\tconst lengthSq = _toPoint.lengthSq();\n\n\t\tif ( lengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\tconst length = Math.sqrt( lengthSq );\n\t\t\tconst missingRadiusHalf = ( length - this.radius ) * 0.5;\n\n\t\t\t// Nudge this sphere towards the target point. Add half the missing distance to radius,\n\t\t\t// and the other half to position. This gives a tighter enclosure, instead of if\n\t\t\t// the whole missing distance were just added to radius.\n\n\t\t\tthis.center.add( _toPoint.multiplyScalar( missingRadiusHalf / length ) );\n\t\t\tthis.radius += missingRadiusHalf;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tunion( sphere ) {\n\n\t\t// from https://github.com/juj/MathGeoLib/blob/2940b99b99cfe575dd45103ef20f4019dee15b54/src/Geometry/Sphere.cpp#L759-L769\n\n\t\t// To enclose another sphere into this sphere, we only need to enclose two points:\n\t\t// 1) Enclose the farthest point on the other sphere into this sphere.\n\t\t// 2) Enclose the opposite point of the farthest point into this sphere.\n\n\t\t_toFarthestPoint.subVectors( sphere.center, this.center ).normalize().multiplyScalar( sphere.radius );\n\n\t\tthis.expandByPoint( _v1$6.copy( sphere.center ).add( _toFarthestPoint ) );\n\t\tthis.expandByPoint( _v1$6.copy( sphere.center ).sub( _toFarthestPoint ) );\n\n\t\treturn this;\n\n\t}\n\n\tequals( sphere ) {\n\n\t\treturn sphere.center.equals( this.center ) && ( sphere.radius === this.radius );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nconst _vector$a = /*@__PURE__*/ new Vector3();\nconst _segCenter = /*@__PURE__*/ new Vector3();\nconst _segDir = /*@__PURE__*/ new Vector3();\nconst _diff = /*@__PURE__*/ new Vector3();\n\nconst _edge1 = /*@__PURE__*/ new Vector3();\nconst _edge2 = /*@__PURE__*/ new Vector3();\nconst _normal$1 = /*@__PURE__*/ new Vector3();\n\nclass Ray {\n\n\tconstructor( origin = new Vector3(), direction = new Vector3( 0, 0, - 1 ) ) {\n\n\t\tthis.origin = origin;\n\t\tthis.direction = direction;\n\n\t}\n\n\tset( origin, direction ) {\n\n\t\tthis.origin.copy( origin );\n\t\tthis.direction.copy( direction );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( ray ) {\n\n\t\tthis.origin.copy( ray.origin );\n\t\tthis.direction.copy( ray.direction );\n\n\t\treturn this;\n\n\t}\n\n\tat( t, target ) {\n\n\t\treturn target.copy( this.direction ).multiplyScalar( t ).add( this.origin );\n\n\t}\n\n\tlookAt( v ) {\n\n\t\tthis.direction.copy( v ).sub( this.origin ).normalize();\n\n\t\treturn this;\n\n\t}\n\n\trecast( t ) {\n\n\t\tthis.origin.copy( this.at( t, _vector$a ) );\n\n\t\treturn this;\n\n\t}\n\n\tclosestPointToPoint( point, target ) {\n\n\t\ttarget.subVectors( point, this.origin );\n\n\t\tconst directionDistance = target.dot( this.direction );\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn target.copy( this.origin );\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn Math.sqrt( this.distanceSqToPoint( point ) );\n\n\t}\n\n\tdistanceSqToPoint( point ) {\n\n\t\tconst directionDistance = _vector$a.subVectors( point, this.origin ).dot( this.direction );\n\n\t\t// point behind the ray\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn this.origin.distanceToSquared( point );\n\n\t\t}\n\n\t\t_vector$a.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t\treturn _vector$a.distanceToSquared( point );\n\n\t}\n\n\tdistanceSqToSegment( v0, v1, optionalPointOnRay, optionalPointOnSegment ) {\n\n\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\n\t\t// It returns the min distance between the ray and the segment\n\t\t// defined by v0 and v1\n\t\t// It can also set two optional targets :\n\t\t// - The closest point on the ray\n\t\t// - The closest point on the segment\n\n\t\t_segCenter.copy( v0 ).add( v1 ).multiplyScalar( 0.5 );\n\t\t_segDir.copy( v1 ).sub( v0 ).normalize();\n\t\t_diff.copy( this.origin ).sub( _segCenter );\n\n\t\tconst segExtent = v0.distanceTo( v1 ) * 0.5;\n\t\tconst a01 = - this.direction.dot( _segDir );\n\t\tconst b0 = _diff.dot( this.direction );\n\t\tconst b1 = - _diff.dot( _segDir );\n\t\tconst c = _diff.lengthSq();\n\t\tconst det = Math.abs( 1 - a01 * a01 );\n\t\tlet s0, s1, sqrDist, extDet;\n\n\t\tif ( det > 0 ) {\n\n\t\t\t// The ray and segment are not parallel.\n\n\t\t\ts0 = a01 * b1 - b0;\n\t\t\ts1 = a01 * b0 - b1;\n\t\t\textDet = segExtent * det;\n\n\t\t\tif ( s0 >= 0 ) {\n\n\t\t\t\tif ( s1 >= - extDet ) {\n\n\t\t\t\t\tif ( s1 <= extDet ) {\n\n\t\t\t\t\t\t// region 0\n\t\t\t\t\t\t// Minimum at interior points of ray and segment.\n\n\t\t\t\t\t\tconst invDet = 1 / det;\n\t\t\t\t\t\ts0 *= invDet;\n\t\t\t\t\t\ts1 *= invDet;\n\t\t\t\t\t\tsqrDist = s0 * ( s0 + a01 * s1 + 2 * b0 ) + s1 * ( a01 * s0 + s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 1\n\n\t\t\t\t\t\ts1 = segExtent;\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 5\n\n\t\t\t\t\ts1 = - segExtent;\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( s1 <= - extDet ) {\n\n\t\t\t\t\t// region 4\n\n\t\t\t\t\ts0 = Math.max( 0, - ( - a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? - segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else if ( s1 <= extDet ) {\n\n\t\t\t\t\t// region 3\n\n\t\t\t\t\ts0 = 0;\n\t\t\t\t\ts1 = Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 2\n\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Ray and segment are parallel.\n\n\t\t\ts1 = ( a01 > 0 ) ? - segExtent : segExtent;\n\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t}\n\n\t\tif ( optionalPointOnRay ) {\n\n\t\t\toptionalPointOnRay.copy( this.direction ).multiplyScalar( s0 ).add( this.origin );\n\n\t\t}\n\n\t\tif ( optionalPointOnSegment ) {\n\n\t\t\toptionalPointOnSegment.copy( _segDir ).multiplyScalar( s1 ).add( _segCenter );\n\n\t\t}\n\n\t\treturn sqrDist;\n\n\t}\n\n\tintersectSphere( sphere, target ) {\n\n\t\t_vector$a.subVectors( sphere.center, this.origin );\n\t\tconst tca = _vector$a.dot( this.direction );\n\t\tconst d2 = _vector$a.dot( _vector$a ) - tca * tca;\n\t\tconst radius2 = sphere.radius * sphere.radius;\n\n\t\tif ( d2 > radius2 ) return null;\n\n\t\tconst thc = Math.sqrt( radius2 - d2 );\n\n\t\t// t0 = first intersect point - entrance on front of sphere\n\t\tconst t0 = tca - thc;\n\n\t\t// t1 = second intersect point - exit point on back of sphere\n\t\tconst t1 = tca + thc;\n\n\t\t// test to see if both t0 and t1 are behind the ray - if so, return null\n\t\tif ( t0 < 0 && t1 < 0 ) return null;\n\n\t\t// test to see if t0 is behind the ray:\n\t\t// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n\t\t// in order to always return an intersect point that is in front of the ray.\n\t\tif ( t0 < 0 ) return this.at( t1, target );\n\n\t\t// else t0 is in front of the ray, so return the first collision point scaled by t0\n\t\treturn this.at( t0, target );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\treturn this.distanceSqToPoint( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t}\n\n\tdistanceToPlane( plane ) {\n\n\t\tconst denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( plane.distanceToPoint( this.origin ) === 0 ) {\n\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\t// Null is preferable to undefined since undefined means.... it is undefined\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst t = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\n\n\t\t// Return if the ray never intersects the plane\n\n\t\treturn t >= 0 ? t : null;\n\n\t}\n\n\tintersectPlane( plane, target ) {\n\n\t\tconst t = this.distanceToPlane( plane );\n\n\t\tif ( t === null ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn this.at( t, target );\n\n\t}\n\n\tintersectsPlane( plane ) {\n\n\t\t// check if the ray lies on the plane first\n\n\t\tconst distToPoint = plane.distanceToPoint( this.origin );\n\n\t\tif ( distToPoint === 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tconst denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator * distToPoint < 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\t// ray origin is behind the plane (and is pointing behind it)\n\n\t\treturn false;\n\n\t}\n\n\tintersectBox( box, target ) {\n\n\t\tlet tmin, tmax, tymin, tymax, tzmin, tzmax;\n\n\t\tconst invdirx = 1 / this.direction.x,\n\t\t\tinvdiry = 1 / this.direction.y,\n\t\t\tinvdirz = 1 / this.direction.z;\n\n\t\tconst origin = this.origin;\n\n\t\tif ( invdirx >= 0 ) {\n\n\t\t\ttmin = ( box.min.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.max.x - origin.x ) * invdirx;\n\n\t\t} else {\n\n\t\t\ttmin = ( box.max.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.min.x - origin.x ) * invdirx;\n\n\t\t}\n\n\t\tif ( invdiry >= 0 ) {\n\n\t\t\ttymin = ( box.min.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.max.y - origin.y ) * invdiry;\n\n\t\t} else {\n\n\t\t\ttymin = ( box.max.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.min.y - origin.y ) * invdiry;\n\n\t\t}\n\n\t\tif ( ( tmin > tymax ) || ( tymin > tmax ) ) return null;\n\n\t\t// These lines also handle the case where tmin or tmax is NaN\n\t\t// (result of 0 * Infinity). x !== x returns true if x is NaN\n\n\t\tif ( tymin > tmin || tmin !== tmin ) tmin = tymin;\n\n\t\tif ( tymax < tmax || tmax !== tmax ) tmax = tymax;\n\n\t\tif ( invdirz >= 0 ) {\n\n\t\t\ttzmin = ( box.min.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.max.z - origin.z ) * invdirz;\n\n\t\t} else {\n\n\t\t\ttzmin = ( box.max.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.min.z - origin.z ) * invdirz;\n\n\t\t}\n\n\t\tif ( ( tmin > tzmax ) || ( tzmin > tmax ) ) return null;\n\n\t\tif ( tzmin > tmin || tmin !== tmin ) tmin = tzmin;\n\n\t\tif ( tzmax < tmax || tmax !== tmax ) tmax = tzmax;\n\n\t\t//return point closest to the ray (positive side)\n\n\t\tif ( tmax < 0 ) return null;\n\n\t\treturn this.at( tmin >= 0 ? tmin : tmax, target );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn this.intersectBox( box, _vector$a ) !== null;\n\n\t}\n\n\tintersectTriangle( a, b, c, backfaceCulling, target ) {\n\n\t\t// Compute the offset origin, edges, and normal.\n\n\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n\n\t\t_edge1.subVectors( b, a );\n\t\t_edge2.subVectors( c, a );\n\t\t_normal$1.crossVectors( _edge1, _edge2 );\n\n\t\t// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n\t\t// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n\t\t//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n\t\t//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n\t\t//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n\t\tlet DdN = this.direction.dot( _normal$1 );\n\t\tlet sign;\n\n\t\tif ( DdN > 0 ) {\n\n\t\t\tif ( backfaceCulling ) return null;\n\t\t\tsign = 1;\n\n\t\t} else if ( DdN < 0 ) {\n\n\t\t\tsign = - 1;\n\t\t\tDdN = - DdN;\n\n\t\t} else {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t_diff.subVectors( this.origin, a );\n\t\tconst DdQxE2 = sign * this.direction.dot( _edge2.crossVectors( _diff, _edge2 ) );\n\n\t\t// b1 < 0, no intersection\n\t\tif ( DdQxE2 < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst DdE1xQ = sign * this.direction.dot( _edge1.cross( _diff ) );\n\n\t\t// b2 < 0, no intersection\n\t\tif ( DdE1xQ < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// b1+b2 > 1, no intersection\n\t\tif ( DdQxE2 + DdE1xQ > DdN ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Line intersects triangle, check if ray does.\n\t\tconst QdN = - sign * _diff.dot( _normal$1 );\n\n\t\t// t < 0, no intersection\n\t\tif ( QdN < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Ray intersects triangle.\n\t\treturn this.at( QdN / DdN, target );\n\n\t}\n\n\tapplyMatrix4( matrix4 ) {\n\n\t\tthis.origin.applyMatrix4( matrix4 );\n\t\tthis.direction.transformDirection( matrix4 );\n\n\t\treturn this;\n\n\t}\n\n\tequals( ray ) {\n\n\t\treturn ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nclass Matrix4 {\n\n\tconstructor() {\n\n\t\tthis.elements = [\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t];\n\n\t\tif ( arguments.length > 0 ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\n\n\t\t}\n\n\t}\n\n\tset( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\n\t\treturn this;\n\n\t}\n\n\tidentity() {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Matrix4().fromArray( this.elements );\n\n\t}\n\n\tcopy( m ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\n\n\t\treturn this;\n\n\t}\n\n\tcopyPosition( m ) {\n\n\t\tconst te = this.elements, me = m.elements;\n\n\t\tte[ 12 ] = me[ 12 ];\n\t\tte[ 13 ] = me[ 13 ];\n\t\tte[ 14 ] = me[ 14 ];\n\n\t\treturn this;\n\n\t}\n\n\tsetFromMatrix3( m ) {\n\n\t\tconst me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 3 ], me[ 6 ], 0,\n\t\t\tme[ 1 ], me[ 4 ], me[ 7 ], 0,\n\t\t\tme[ 2 ], me[ 5 ], me[ 8 ], 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\textractBasis( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrixColumn( this, 0 );\n\t\tyAxis.setFromMatrixColumn( this, 1 );\n\t\tzAxis.setFromMatrixColumn( this, 2 );\n\n\t\treturn this;\n\n\t}\n\n\tmakeBasis( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\textractRotation( m ) {\n\n\t\t// this method does not support reflection matrices\n\n\t\tconst te = this.elements;\n\t\tconst me = m.elements;\n\n\t\tconst scaleX = 1 / _v1$5.setFromMatrixColumn( m, 0 ).length();\n\t\tconst scaleY = 1 / _v1$5.setFromMatrixColumn( m, 1 ).length();\n\t\tconst scaleZ = 1 / _v1$5.setFromMatrixColumn( m, 2 ).length();\n\n\t\tte[ 0 ] = me[ 0 ] * scaleX;\n\t\tte[ 1 ] = me[ 1 ] * scaleX;\n\t\tte[ 2 ] = me[ 2 ] * scaleX;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = me[ 4 ] * scaleY;\n\t\tte[ 5 ] = me[ 5 ] * scaleY;\n\t\tte[ 6 ] = me[ 6 ] * scaleY;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = me[ 8 ] * scaleZ;\n\t\tte[ 9 ] = me[ 9 ] * scaleZ;\n\t\tte[ 10 ] = me[ 10 ] * scaleZ;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationFromEuler( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tconst te = this.elements;\n\n\t\tconst x = euler.x, y = euler.y, z = euler.z;\n\t\tconst a = Math.cos( x ), b = Math.sin( x );\n\t\tconst c = Math.cos( y ), d = Math.sin( y );\n\t\tconst e = Math.cos( z ), f = Math.sin( z );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - c * f;\n\t\t\tte[ 8 ] = d;\n\n\t\t\tte[ 1 ] = af + be * d;\n\t\t\tte[ 5 ] = ae - bf * d;\n\t\t\tte[ 9 ] = - b * c;\n\n\t\t\tte[ 2 ] = bf - ae * d;\n\t\t\tte[ 6 ] = be + af * d;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce + df * b;\n\t\t\tte[ 4 ] = de * b - cf;\n\t\t\tte[ 8 ] = a * d;\n\n\t\t\tte[ 1 ] = a * f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b;\n\n\t\t\tte[ 2 ] = cf * b - de;\n\t\t\tte[ 6 ] = df + ce * b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tconst ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce - df * b;\n\t\t\tte[ 4 ] = - a * f;\n\t\t\tte[ 8 ] = de + cf * b;\n\n\t\t\tte[ 1 ] = cf + de * b;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = df - ce * b;\n\n\t\t\tte[ 2 ] = - a * d;\n\t\t\tte[ 6 ] = b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tconst ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = be * d - af;\n\t\t\tte[ 8 ] = ae * d + bf;\n\n\t\t\tte[ 1 ] = c * f;\n\t\t\tte[ 5 ] = bf * d + ae;\n\t\t\tte[ 9 ] = af * d - be;\n\n\t\t\tte[ 2 ] = - d;\n\t\t\tte[ 6 ] = b * c;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = bd - ac * f;\n\t\t\tte[ 8 ] = bc * f + ad;\n\n\t\t\tte[ 1 ] = f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b * e;\n\n\t\t\tte[ 2 ] = - d * e;\n\t\t\tte[ 6 ] = ad * f + bc;\n\t\t\tte[ 10 ] = ac - bd * f;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tconst ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - f;\n\t\t\tte[ 8 ] = d * e;\n\n\t\t\tte[ 1 ] = ac * f + bd;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = ad * f - bc;\n\n\t\t\tte[ 2 ] = bc * f - ad;\n\t\t\tte[ 6 ] = b * e;\n\t\t\tte[ 10 ] = bd * f + ac;\n\n\t\t}\n\n\t\t// bottom row\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// last column\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationFromQuaternion( q ) {\n\n\t\treturn this.compose( _zero, q, _one );\n\n\t}\n\n\tlookAt( eye, target, up ) {\n\n\t\tconst te = this.elements;\n\n\t\t_z.subVectors( eye, target );\n\n\t\tif ( _z.lengthSq() === 0 ) {\n\n\t\t\t// eye and target are in the same position\n\n\t\t\t_z.z = 1;\n\n\t\t}\n\n\t\t_z.normalize();\n\t\t_x.crossVectors( up, _z );\n\n\t\tif ( _x.lengthSq() === 0 ) {\n\n\t\t\t// up and z are parallel\n\n\t\t\tif ( Math.abs( up.z ) === 1 ) {\n\n\t\t\t\t_z.x += 0.0001;\n\n\t\t\t} else {\n\n\t\t\t\t_z.z += 0.0001;\n\n\t\t\t}\n\n\t\t\t_z.normalize();\n\t\t\t_x.crossVectors( up, _z );\n\n\t\t}\n\n\t\t_x.normalize();\n\t\t_y.crossVectors( _z, _x );\n\n\t\tte[ 0 ] = _x.x; te[ 4 ] = _y.x; te[ 8 ] = _z.x;\n\t\tte[ 1 ] = _x.y; te[ 5 ] = _y.y; te[ 9 ] = _z.y;\n\t\tte[ 2 ] = _x.z; te[ 6 ] = _y.z; te[ 10 ] = _z.z;\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( m, n ) {\n\n\t\tif ( n !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\n\t\t\treturn this.multiplyMatrices( m, n );\n\n\t\t}\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t}\n\n\tpremultiply( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t}\n\n\tmultiplyMatrices( a, b ) {\n\n\t\tconst ae = a.elements;\n\t\tconst be = b.elements;\n\t\tconst te = this.elements;\n\n\t\tconst a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\tconst a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\tconst a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\tconst a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n\t\tconst b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\tconst b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\tconst b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\tconst b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tconst te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\n\t\treturn this;\n\n\t}\n\n\tdeterminant() {\n\n\t\tconst te = this.elements;\n\n\t\tconst n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n\t\tconst n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n\t\tconst n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n\t\tconst n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\n\t\t//TODO: make this more efficient\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\treturn (\n\t\t\tn41 * (\n\t\t\t\t+ n14 * n23 * n32\n\t\t\t\t - n13 * n24 * n32\n\t\t\t\t - n14 * n22 * n33\n\t\t\t\t + n12 * n24 * n33\n\t\t\t\t + n13 * n22 * n34\n\t\t\t\t - n12 * n23 * n34\n\t\t\t) +\n\t\t\tn42 * (\n\t\t\t\t+ n11 * n23 * n34\n\t\t\t\t - n11 * n24 * n33\n\t\t\t\t + n14 * n21 * n33\n\t\t\t\t - n13 * n21 * n34\n\t\t\t\t + n13 * n24 * n31\n\t\t\t\t - n14 * n23 * n31\n\t\t\t) +\n\t\t\tn43 * (\n\t\t\t\t+ n11 * n24 * n32\n\t\t\t\t - n11 * n22 * n34\n\t\t\t\t - n14 * n21 * n32\n\t\t\t\t + n12 * n21 * n34\n\t\t\t\t + n14 * n22 * n31\n\t\t\t\t - n12 * n24 * n31\n\t\t\t) +\n\t\t\tn44 * (\n\t\t\t\t- n13 * n22 * n31\n\t\t\t\t - n11 * n23 * n32\n\t\t\t\t + n11 * n22 * n33\n\t\t\t\t + n13 * n21 * n32\n\t\t\t\t - n12 * n21 * n33\n\t\t\t\t + n12 * n23 * n31\n\t\t\t)\n\n\t\t);\n\n\t}\n\n\ttranspose() {\n\n\t\tconst te = this.elements;\n\t\tlet tmp;\n\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\n\t\treturn this;\n\n\t}\n\n\tsetPosition( x, y, z ) {\n\n\t\tconst te = this.elements;\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\tte[ 12 ] = x.x;\n\t\t\tte[ 13 ] = x.y;\n\t\t\tte[ 14 ] = x.z;\n\n\t\t} else {\n\n\t\t\tte[ 12 ] = x;\n\t\t\tte[ 13 ] = y;\n\t\t\tte[ 14 ] = z;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tinvert() {\n\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\tconst te = this.elements,\n\n\t\t\tn11 = te[ 0 ], n21 = te[ 1 ], n31 = te[ 2 ], n41 = te[ 3 ],\n\t\t\tn12 = te[ 4 ], n22 = te[ 5 ], n32 = te[ 6 ], n42 = te[ 7 ],\n\t\t\tn13 = te[ 8 ], n23 = te[ 9 ], n33 = te[ 10 ], n43 = te[ 11 ],\n\t\t\tn14 = te[ 12 ], n24 = te[ 13 ], n34 = te[ 14 ], n44 = te[ 15 ],\n\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n\t\tconst det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n\t\tif ( det === 0 ) return this.set( 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 );\n\n\t\tconst detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n\t\tte[ 4 ] = t12 * detInv;\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n\t\tte[ 8 ] = t13 * detInv;\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n\t\tte[ 12 ] = t14 * detInv;\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n\t\treturn this;\n\n\t}\n\n\tscale( v ) {\n\n\t\tconst te = this.elements;\n\t\tconst x = v.x, y = v.y, z = v.z;\n\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\n\t\treturn this;\n\n\t}\n\n\tgetMaxScaleOnAxis() {\n\n\t\tconst te = this.elements;\n\n\t\tconst scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n\t\tconst scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n\t\tconst scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n\t}\n\n\tmakeTranslation( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, x,\n\t\t\t0, 1, 0, y,\n\t\t\t0, 0, 1, z,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationX( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, c, - s, 0,\n\t\t\t0, s, c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationY( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t c, 0, s, 0,\n\t\t\t 0, 1, 0, 0,\n\t\t\t- s, 0, c, 0,\n\t\t\t 0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationZ( theta ) {\n\n\t\tconst c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0, 0,\n\t\t\ts, c, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeRotationAxis( axis, angle ) {\n\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n\t\tconst c = Math.cos( angle );\n\t\tconst s = Math.sin( angle );\n\t\tconst t = 1 - c;\n\t\tconst x = axis.x, y = axis.y, z = axis.z;\n\t\tconst tx = t * x, ty = t * y;\n\n\t\tthis.set(\n\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeScale( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tmakeShear( xy, xz, yx, yz, zx, zy ) {\n\n\t\tthis.set(\n\n\t\t\t1, yx, zx, 0,\n\t\t\txy, 1, zy, 0,\n\t\t\txz, yz, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t}\n\n\tcompose( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tconst x = quaternion._x, y = quaternion._y, z = quaternion._z, w = quaternion._w;\n\t\tconst x2 = x + x,\ty2 = y + y, z2 = z + z;\n\t\tconst xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tconst yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tconst wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\tconst sx = scale.x, sy = scale.y, sz = scale.z;\n\n\t\tte[ 0 ] = ( 1 - ( yy + zz ) ) * sx;\n\t\tte[ 1 ] = ( xy + wz ) * sx;\n\t\tte[ 2 ] = ( xz - wy ) * sx;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = ( xy - wz ) * sy;\n\t\tte[ 5 ] = ( 1 - ( xx + zz ) ) * sy;\n\t\tte[ 6 ] = ( yz + wx ) * sy;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = ( xz + wy ) * sz;\n\t\tte[ 9 ] = ( yz - wx ) * sz;\n\t\tte[ 10 ] = ( 1 - ( xx + yy ) ) * sz;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = position.x;\n\t\tte[ 13 ] = position.y;\n\t\tte[ 14 ] = position.z;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tdecompose( position, quaternion, scale ) {\n\n\t\tconst te = this.elements;\n\n\t\tlet sx = _v1$5.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n\t\tconst sy = _v1$5.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n\t\tconst sz = _v1$5.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\n\t\t// if determine is negative, we need to invert one scale\n\t\tconst det = this.determinant();\n\t\tif ( det < 0 ) sx = - sx;\n\n\t\tposition.x = te[ 12 ];\n\t\tposition.y = te[ 13 ];\n\t\tposition.z = te[ 14 ];\n\n\t\t// scale the rotation part\n\t\t_m1$2.copy( this );\n\n\t\tconst invSX = 1 / sx;\n\t\tconst invSY = 1 / sy;\n\t\tconst invSZ = 1 / sz;\n\n\t\t_m1$2.elements[ 0 ] *= invSX;\n\t\t_m1$2.elements[ 1 ] *= invSX;\n\t\t_m1$2.elements[ 2 ] *= invSX;\n\n\t\t_m1$2.elements[ 4 ] *= invSY;\n\t\t_m1$2.elements[ 5 ] *= invSY;\n\t\t_m1$2.elements[ 6 ] *= invSY;\n\n\t\t_m1$2.elements[ 8 ] *= invSZ;\n\t\t_m1$2.elements[ 9 ] *= invSZ;\n\t\t_m1$2.elements[ 10 ] *= invSZ;\n\n\t\tquaternion.setFromRotationMatrix( _m1$2 );\n\n\t\tscale.x = sx;\n\t\tscale.y = sy;\n\t\tscale.z = sz;\n\n\t\treturn this;\n\n\t}\n\n\tmakePerspective( left, right, top, bottom, near, far ) {\n\n\t\tif ( far === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\n\n\t\t}\n\n\t\tconst te = this.elements;\n\t\tconst x = 2 * near / ( right - left );\n\t\tconst y = 2 * near / ( top - bottom );\n\n\t\tconst a = ( right + left ) / ( right - left );\n\t\tconst b = ( top + bottom ) / ( top - bottom );\n\t\tconst c = - ( far + near ) / ( far - near );\n\t\tconst d = - 2 * far * near / ( far - near );\n\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\n\t\treturn this;\n\n\t}\n\n\tmakeOrthographic( left, right, top, bottom, near, far ) {\n\n\t\tconst te = this.elements;\n\t\tconst w = 1.0 / ( right - left );\n\t\tconst h = 1.0 / ( top - bottom );\n\t\tconst p = 1.0 / ( far - near );\n\n\t\tconst x = ( right + left ) * w;\n\t\tconst y = ( top + bottom ) * h;\n\t\tconst z = ( far + near ) * p;\n\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t}\n\n\tequals( matrix ) {\n\n\t\tconst te = this.elements;\n\t\tconst me = matrix.elements;\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tfor ( let i = 0; i < 16; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\t\tarray[ offset + 9 ] = te[ 9 ];\n\t\tarray[ offset + 10 ] = te[ 10 ];\n\t\tarray[ offset + 11 ] = te[ 11 ];\n\n\t\tarray[ offset + 12 ] = te[ 12 ];\n\t\tarray[ offset + 13 ] = te[ 13 ];\n\t\tarray[ offset + 14 ] = te[ 14 ];\n\t\tarray[ offset + 15 ] = te[ 15 ];\n\n\t\treturn array;\n\n\t}\n\n}\n\nMatrix4.prototype.isMatrix4 = true;\n\nconst _v1$5 = /*@__PURE__*/ new Vector3();\nconst _m1$2 = /*@__PURE__*/ new Matrix4();\nconst _zero = /*@__PURE__*/ new Vector3( 0, 0, 0 );\nconst _one = /*@__PURE__*/ new Vector3( 1, 1, 1 );\nconst _x = /*@__PURE__*/ new Vector3();\nconst _y = /*@__PURE__*/ new Vector3();\nconst _z = /*@__PURE__*/ new Vector3();\n\nconst _matrix$1 = /*@__PURE__*/ new Matrix4();\nconst _quaternion$3 = /*@__PURE__*/ new Quaternion();\n\nclass Euler {\n\n\tconstructor( x = 0, y = 0, z = 0, order = Euler.DefaultOrder ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order;\n\n\t}\n\n\tget x() {\n\n\t\treturn this._x;\n\n\t}\n\n\tset x( value ) {\n\n\t\tthis._x = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget y() {\n\n\t\treturn this._y;\n\n\t}\n\n\tset y( value ) {\n\n\t\tthis._y = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget z() {\n\n\t\treturn this._z;\n\n\t}\n\n\tset z( value ) {\n\n\t\tthis._z = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tget order() {\n\n\t\treturn this._order;\n\n\t}\n\n\tset order( value ) {\n\n\t\tthis._order = value;\n\t\tthis._onChangeCallback();\n\n\t}\n\n\tset( x, y, z, order = this._order ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._order );\n\n\t}\n\n\tcopy( euler ) {\n\n\t\tthis._x = euler._x;\n\t\tthis._y = euler._y;\n\t\tthis._z = euler._z;\n\t\tthis._order = euler._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromRotationMatrix( m, order = this._order, update = true ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tconst te = m.elements;\n\t\tconst m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\n\t\tconst m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\n\t\tconst m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\tswitch ( order ) {\n\n\t\t\tcase 'XYZ':\n\n\t\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m13 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\t\tthis._z = Math.atan2( - m12, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\t\tthis._z = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'YXZ':\n\n\t\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m23 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\t\t\t\t\tthis._z = Math.atan2( m21, m22 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\t\t\t\t\tthis._z = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZXY':\n\n\t\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m32 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._y = Math.atan2( - m31, m33 );\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._y = 0;\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'ZYX':\n\n\t\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m31 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m33 );\n\t\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'YZX':\n\n\t\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m21 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m22 );\n\t\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = 0;\n\t\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'XZY':\n\n\t\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\n\n\t\t\t\tif ( Math.abs( m12 ) < 0.9999999 ) {\n\n\t\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\t\tthis._y = Math.atan2( m13, m11 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\t\tthis._y = 0;\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tconsole.warn( 'THREE.Euler: .setFromRotationMatrix() encountered an unknown order: ' + order );\n\n\t\t}\n\n\t\tthis._order = order;\n\n\t\tif ( update === true ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\tsetFromQuaternion( q, order, update ) {\n\n\t\t_matrix$1.makeRotationFromQuaternion( q );\n\n\t\treturn this.setFromRotationMatrix( _matrix$1, order, update );\n\n\t}\n\n\tsetFromVector3( v, order = this._order ) {\n\n\t\treturn this.set( v.x, v.y, v.z, order );\n\n\t}\n\n\treorder( newOrder ) {\n\n\t\t// WARNING: this discards revolution information -bhouston\n\n\t\t_quaternion$3.setFromEuler( this );\n\n\t\treturn this.setFromQuaternion( _quaternion$3, newOrder );\n\n\t}\n\n\tequals( euler ) {\n\n\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\n\n\t}\n\n\tfromArray( array ) {\n\n\t\tthis._x = array[ 0 ];\n\t\tthis._y = array[ 1 ];\n\t\tthis._z = array[ 2 ];\n\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._order;\n\n\t\treturn array;\n\n\t}\n\n\ttoVector3( optionalResult ) {\n\n\t\tif ( optionalResult ) {\n\n\t\t\treturn optionalResult.set( this._x, this._y, this._z );\n\n\t\t} else {\n\n\t\t\treturn new Vector3( this._x, this._y, this._z );\n\n\t\t}\n\n\t}\n\n\t_onChange( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\t_onChangeCallback() {}\n\n}\n\nEuler.prototype.isEuler = true;\n\nEuler.DefaultOrder = 'XYZ';\nEuler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\n\nclass Layers {\n\n\tconstructor() {\n\n\t\tthis.mask = 1 | 0;\n\n\t}\n\n\tset( channel ) {\n\n\t\tthis.mask = 1 << channel | 0;\n\n\t}\n\n\tenable( channel ) {\n\n\t\tthis.mask |= 1 << channel | 0;\n\n\t}\n\n\tenableAll() {\n\n\t\tthis.mask = 0xffffffff | 0;\n\n\t}\n\n\ttoggle( channel ) {\n\n\t\tthis.mask ^= 1 << channel | 0;\n\n\t}\n\n\tdisable( channel ) {\n\n\t\tthis.mask &= ~ ( 1 << channel | 0 );\n\n\t}\n\n\tdisableAll() {\n\n\t\tthis.mask = 0;\n\n\t}\n\n\ttest( layers ) {\n\n\t\treturn ( this.mask & layers.mask ) !== 0;\n\n\t}\n\n}\n\nlet _object3DId = 0;\n\nconst _v1$4 = /*@__PURE__*/ new Vector3();\nconst _q1 = /*@__PURE__*/ new Quaternion();\nconst _m1$1 = /*@__PURE__*/ new Matrix4();\nconst _target = /*@__PURE__*/ new Vector3();\n\nconst _position$3 = /*@__PURE__*/ new Vector3();\nconst _scale$2 = /*@__PURE__*/ new Vector3();\nconst _quaternion$2 = /*@__PURE__*/ new Quaternion();\n\nconst _xAxis = /*@__PURE__*/ new Vector3( 1, 0, 0 );\nconst _yAxis = /*@__PURE__*/ new Vector3( 0, 1, 0 );\nconst _zAxis = /*@__PURE__*/ new Vector3( 0, 0, 1 );\n\nconst _addedEvent = { type: 'added' };\nconst _removedEvent = { type: 'removed' };\n\nclass Object3D extends EventDispatcher {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tObject.defineProperty( this, 'id', { value: _object3DId ++ } );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.name = '';\n\t\tthis.type = 'Object3D';\n\n\t\tthis.parent = null;\n\t\tthis.children = [];\n\n\t\tthis.up = Object3D.DefaultUp.clone();\n\n\t\tconst position = new Vector3();\n\t\tconst rotation = new Euler();\n\t\tconst quaternion = new Quaternion();\n\t\tconst scale = new Vector3( 1, 1, 1 );\n\n\t\tfunction onRotationChange() {\n\n\t\t\tquaternion.setFromEuler( rotation, false );\n\n\t\t}\n\n\t\tfunction onQuaternionChange() {\n\n\t\t\trotation.setFromQuaternion( quaternion, undefined, false );\n\n\t\t}\n\n\t\trotation._onChange( onRotationChange );\n\t\tquaternion._onChange( onQuaternionChange );\n\n\t\tObject.defineProperties( this, {\n\t\t\tposition: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: position\n\t\t\t},\n\t\t\trotation: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: rotation\n\t\t\t},\n\t\t\tquaternion: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: quaternion\n\t\t\t},\n\t\t\tscale: {\n\t\t\t\tconfigurable: true,\n\t\t\t\tenumerable: true,\n\t\t\t\tvalue: scale\n\t\t\t},\n\t\t\tmodelViewMatrix: {\n\t\t\t\tvalue: new Matrix4()\n\t\t\t},\n\t\t\tnormalMatrix: {\n\t\t\t\tvalue: new Matrix3()\n\t\t\t}\n\t\t} );\n\n\t\tthis.matrix = new Matrix4();\n\t\tthis.matrixWorld = new Matrix4();\n\n\t\tthis.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\tthis.layers = new Layers();\n\t\tthis.visible = true;\n\n\t\tthis.castShadow = false;\n\t\tthis.receiveShadow = false;\n\n\t\tthis.frustumCulled = true;\n\t\tthis.renderOrder = 0;\n\n\t\tthis.animations = [];\n\n\t\tthis.userData = {};\n\n\t}\n\n\tonBeforeRender() {}\n\tonAfterRender() {}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tthis.matrix.premultiply( matrix );\n\n\t\tthis.matrix.decompose( this.position, this.quaternion, this.scale );\n\n\t}\n\n\tapplyQuaternion( q ) {\n\n\t\tthis.quaternion.premultiply( q );\n\n\t\treturn this;\n\n\t}\n\n\tsetRotationFromAxisAngle( axis, angle ) {\n\n\t\t// assumes axis is normalized\n\n\t\tthis.quaternion.setFromAxisAngle( axis, angle );\n\n\t}\n\n\tsetRotationFromEuler( euler ) {\n\n\t\tthis.quaternion.setFromEuler( euler, true );\n\n\t}\n\n\tsetRotationFromMatrix( m ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tthis.quaternion.setFromRotationMatrix( m );\n\n\t}\n\n\tsetRotationFromQuaternion( q ) {\n\n\t\t// assumes q is normalized\n\n\t\tthis.quaternion.copy( q );\n\n\t}\n\n\trotateOnAxis( axis, angle ) {\n\n\t\t// rotate object on axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.multiply( _q1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateOnWorldAxis( axis, angle ) {\n\n\t\t// rotate object on axis in world space\n\t\t// axis is assumed to be normalized\n\t\t// method assumes no rotated parent\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.premultiply( _q1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateX( angle ) {\n\n\t\treturn this.rotateOnAxis( _xAxis, angle );\n\n\t}\n\n\trotateY( angle ) {\n\n\t\treturn this.rotateOnAxis( _yAxis, angle );\n\n\t}\n\n\trotateZ( angle ) {\n\n\t\treturn this.rotateOnAxis( _zAxis, angle );\n\n\t}\n\n\ttranslateOnAxis( axis, distance ) {\n\n\t\t// translate object by distance along axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_v1$4.copy( axis ).applyQuaternion( this.quaternion );\n\n\t\tthis.position.add( _v1$4.multiplyScalar( distance ) );\n\n\t\treturn this;\n\n\t}\n\n\ttranslateX( distance ) {\n\n\t\treturn this.translateOnAxis( _xAxis, distance );\n\n\t}\n\n\ttranslateY( distance ) {\n\n\t\treturn this.translateOnAxis( _yAxis, distance );\n\n\t}\n\n\ttranslateZ( distance ) {\n\n\t\treturn this.translateOnAxis( _zAxis, distance );\n\n\t}\n\n\tlocalToWorld( vector ) {\n\n\t\treturn vector.applyMatrix4( this.matrixWorld );\n\n\t}\n\n\tworldToLocal( vector ) {\n\n\t\treturn vector.applyMatrix4( _m1$1.copy( this.matrixWorld ).invert() );\n\n\t}\n\n\tlookAt( x, y, z ) {\n\n\t\t// This method does not support objects having non-uniformly-scaled parent(s)\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\t_target.copy( x );\n\n\t\t} else {\n\n\t\t\t_target.set( x, y, z );\n\n\t\t}\n\n\t\tconst parent = this.parent;\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_position$3.setFromMatrixPosition( this.matrixWorld );\n\n\t\tif ( this.isCamera || this.isLight ) {\n\n\t\t\t_m1$1.lookAt( _position$3, _target, this.up );\n\n\t\t} else {\n\n\t\t\t_m1$1.lookAt( _target, _position$3, this.up );\n\n\t\t}\n\n\t\tthis.quaternion.setFromRotationMatrix( _m1$1 );\n\n\t\tif ( parent ) {\n\n\t\t\t_m1$1.extractRotation( parent.matrixWorld );\n\t\t\t_q1.setFromRotationMatrix( _m1$1 );\n\t\t\tthis.quaternion.premultiply( _q1.invert() );\n\n\t\t}\n\n\t}\n\n\tadd( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( let i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.add( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object === this ) {\n\n\t\t\tconsole.error( 'THREE.Object3D.add: object can\\'t be added as a child of itself.', object );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object && object.isObject3D ) {\n\n\t\t\tif ( object.parent !== null ) {\n\n\t\t\t\tobject.parent.remove( object );\n\n\t\t\t}\n\n\t\t\tobject.parent = this;\n\t\t\tthis.children.push( object );\n\n\t\t\tobject.dispatchEvent( _addedEvent );\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Object3D.add: object not an instance of THREE.Object3D.', object );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tremove( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( let i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.remove( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst index = this.children.indexOf( object );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\tobject.parent = null;\n\t\t\tthis.children.splice( index, 1 );\n\n\t\t\tobject.dispatchEvent( _removedEvent );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tremoveFromParent() {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tparent.remove( this );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclear() {\n\n\t\tfor ( let i = 0; i < this.children.length; i ++ ) {\n\n\t\t\tconst object = this.children[ i ];\n\n\t\t\tobject.parent = null;\n\n\t\t\tobject.dispatchEvent( _removedEvent );\n\n\t\t}\n\n\t\tthis.children.length = 0;\n\n\t\treturn this;\n\n\n\t}\n\n\tattach( object ) {\n\n\t\t// adds object as a child of this, while maintaining the object's world transform\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_m1$1.copy( this.matrixWorld ).invert();\n\n\t\tif ( object.parent !== null ) {\n\n\t\t\tobject.parent.updateWorldMatrix( true, false );\n\n\t\t\t_m1$1.multiply( object.parent.matrixWorld );\n\n\t\t}\n\n\t\tobject.applyMatrix4( _m1$1 );\n\n\t\tthis.add( object );\n\n\t\tobject.updateWorldMatrix( false, true );\n\n\t\treturn this;\n\n\t}\n\n\tgetObjectById( id ) {\n\n\t\treturn this.getObjectByProperty( 'id', id );\n\n\t}\n\n\tgetObjectByName( name ) {\n\n\t\treturn this.getObjectByProperty( 'name', name );\n\n\t}\n\n\tgetObjectByProperty( name, value ) {\n\n\t\tif ( this[ name ] === value ) return this;\n\n\t\tfor ( let i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\tconst child = this.children[ i ];\n\t\t\tconst object = child.getObjectByProperty( name, value );\n\n\t\t\tif ( object !== undefined ) {\n\n\t\t\t\treturn object;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t}\n\n\tgetWorldPosition( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\treturn target.setFromMatrixPosition( this.matrixWorld );\n\n\t}\n\n\tgetWorldQuaternion( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tthis.matrixWorld.decompose( _position$3, target, _scale$2 );\n\n\t\treturn target;\n\n\t}\n\n\tgetWorldScale( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tthis.matrixWorld.decompose( _position$3, _quaternion$2, target );\n\n\t\treturn target;\n\n\t}\n\n\tgetWorldDirection( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tconst e = this.matrixWorld.elements;\n\n\t\treturn target.set( e[ 8 ], e[ 9 ], e[ 10 ] ).normalize();\n\n\t}\n\n\traycast() {}\n\n\ttraverse( callback ) {\n\n\t\tcallback( this );\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverse( callback );\n\n\t\t}\n\n\t}\n\n\ttraverseVisible( callback ) {\n\n\t\tif ( this.visible === false ) return;\n\n\t\tcallback( this );\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverseVisible( callback );\n\n\t\t}\n\n\t}\n\n\ttraverseAncestors( callback ) {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tcallback( parent );\n\n\t\t\tparent.traverseAncestors( callback );\n\n\t\t}\n\n\t}\n\n\tupdateMatrix() {\n\n\t\tthis.matrix.compose( this.position, this.quaternion, this.scale );\n\n\t\tthis.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.matrixWorldNeedsUpdate || force ) {\n\n\t\t\tif ( this.parent === null ) {\n\n\t\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t\t}\n\n\t\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\t\tforce = true;\n\n\t\t}\n\n\t\t// update children\n\n\t\tconst children = this.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].updateMatrixWorld( force );\n\n\t\t}\n\n\t}\n\n\tupdateWorldMatrix( updateParents, updateChildren ) {\n\n\t\tconst parent = this.parent;\n\n\t\tif ( updateParents === true && parent !== null ) {\n\n\t\t\tparent.updateWorldMatrix( true, false );\n\n\t\t}\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.parent === null ) {\n\n\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t} else {\n\n\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t}\n\n\t\t// update children\n\n\t\tif ( updateChildren === true ) {\n\n\t\t\tconst children = this.children;\n\n\t\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateWorldMatrix( false, true );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\t// meta is a string when called from JSON.stringify\n\t\tconst isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tconst output = {};\n\n\t\t// meta is a hash used to collect geometries, materials.\n\t\t// not providing it implies that this is the root object\n\t\t// being serialized.\n\t\tif ( isRootObject ) {\n\n\t\t\t// initialize meta obj\n\t\t\tmeta = {\n\t\t\t\tgeometries: {},\n\t\t\t\tmaterials: {},\n\t\t\t\ttextures: {},\n\t\t\t\timages: {},\n\t\t\t\tshapes: {},\n\t\t\t\tskeletons: {},\n\t\t\t\tanimations: {}\n\t\t\t};\n\n\t\t\toutput.metadata = {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Object',\n\t\t\t\tgenerator: 'Object3D.toJSON'\n\t\t\t};\n\n\t\t}\n\n\t\t// standard Object3D serialization\n\n\t\tconst object = {};\n\n\t\tobject.uuid = this.uuid;\n\t\tobject.type = this.type;\n\n\t\tif ( this.name !== '' ) object.name = this.name;\n\t\tif ( this.castShadow === true ) object.castShadow = true;\n\t\tif ( this.receiveShadow === true ) object.receiveShadow = true;\n\t\tif ( this.visible === false ) object.visible = false;\n\t\tif ( this.frustumCulled === false ) object.frustumCulled = false;\n\t\tif ( this.renderOrder !== 0 ) object.renderOrder = this.renderOrder;\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) object.userData = this.userData;\n\n\t\tobject.layers = this.layers.mask;\n\t\tobject.matrix = this.matrix.toArray();\n\n\t\tif ( this.matrixAutoUpdate === false ) object.matrixAutoUpdate = false;\n\n\t\t// object specific properties\n\n\t\tif ( this.isInstancedMesh ) {\n\n\t\t\tobject.type = 'InstancedMesh';\n\t\t\tobject.count = this.count;\n\t\t\tobject.instanceMatrix = this.instanceMatrix.toJSON();\n\t\t\tif ( this.instanceColor !== null ) object.instanceColor = this.instanceColor.toJSON();\n\n\t\t}\n\n\t\t//\n\n\t\tfunction serialize( library, element ) {\n\n\t\t\tif ( library[ element.uuid ] === undefined ) {\n\n\t\t\t\tlibrary[ element.uuid ] = element.toJSON( meta );\n\n\t\t\t}\n\n\t\t\treturn element.uuid;\n\n\t\t}\n\n\t\tif ( this.isScene ) {\n\n\t\t\tif ( this.background ) {\n\n\t\t\t\tif ( this.background.isColor ) {\n\n\t\t\t\t\tobject.background = this.background.toJSON();\n\n\t\t\t\t} else if ( this.background.isTexture ) {\n\n\t\t\t\t\tobject.background = this.background.toJSON( meta ).uuid;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( this.environment && this.environment.isTexture ) {\n\n\t\t\t\tobject.environment = this.environment.toJSON( meta ).uuid;\n\n\t\t\t}\n\n\t\t} else if ( this.isMesh || this.isLine || this.isPoints ) {\n\n\t\t\tobject.geometry = serialize( meta.geometries, this.geometry );\n\n\t\t\tconst parameters = this.geometry.parameters;\n\n\t\t\tif ( parameters !== undefined && parameters.shapes !== undefined ) {\n\n\t\t\t\tconst shapes = parameters.shapes;\n\n\t\t\t\tif ( Array.isArray( shapes ) ) {\n\n\t\t\t\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tconst shape = shapes[ i ];\n\n\t\t\t\t\t\tserialize( meta.shapes, shape );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tserialize( meta.shapes, shapes );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.isSkinnedMesh ) {\n\n\t\t\tobject.bindMode = this.bindMode;\n\t\t\tobject.bindMatrix = this.bindMatrix.toArray();\n\n\t\t\tif ( this.skeleton !== undefined ) {\n\n\t\t\t\tserialize( meta.skeletons, this.skeleton );\n\n\t\t\t\tobject.skeleton = this.skeleton.uuid;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.material !== undefined ) {\n\n\t\t\tif ( Array.isArray( this.material ) ) {\n\n\t\t\t\tconst uuids = [];\n\n\t\t\t\tfor ( let i = 0, l = this.material.length; i < l; i ++ ) {\n\n\t\t\t\t\tuuids.push( serialize( meta.materials, this.material[ i ] ) );\n\n\t\t\t\t}\n\n\t\t\t\tobject.material = uuids;\n\n\t\t\t} else {\n\n\t\t\t\tobject.material = serialize( meta.materials, this.material );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.children.length > 0 ) {\n\n\t\t\tobject.children = [];\n\n\t\t\tfor ( let i = 0; i < this.children.length; i ++ ) {\n\n\t\t\t\tobject.children.push( this.children[ i ].toJSON( meta ).object );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.animations.length > 0 ) {\n\n\t\t\tobject.animations = [];\n\n\t\t\tfor ( let i = 0; i < this.animations.length; i ++ ) {\n\n\t\t\t\tconst animation = this.animations[ i ];\n\n\t\t\t\tobject.animations.push( serialize( meta.animations, animation ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( isRootObject ) {\n\n\t\t\tconst geometries = extractFromCache( meta.geometries );\n\t\t\tconst materials = extractFromCache( meta.materials );\n\t\t\tconst textures = extractFromCache( meta.textures );\n\t\t\tconst images = extractFromCache( meta.images );\n\t\t\tconst shapes = extractFromCache( meta.shapes );\n\t\t\tconst skeletons = extractFromCache( meta.skeletons );\n\t\t\tconst animations = extractFromCache( meta.animations );\n\n\t\t\tif ( geometries.length > 0 ) output.geometries = geometries;\n\t\t\tif ( materials.length > 0 ) output.materials = materials;\n\t\t\tif ( textures.length > 0 ) output.textures = textures;\n\t\t\tif ( images.length > 0 ) output.images = images;\n\t\t\tif ( shapes.length > 0 ) output.shapes = shapes;\n\t\t\tif ( skeletons.length > 0 ) output.skeletons = skeletons;\n\t\t\tif ( animations.length > 0 ) output.animations = animations;\n\n\t\t}\n\n\t\toutput.object = object;\n\n\t\treturn output;\n\n\t\t// extract data from the cache hash\n\t\t// remove metadata on each item\n\t\t// and return as array\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tconst values = [];\n\t\t\tfor ( const key in cache ) {\n\n\t\t\t\tconst data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t}\n\n\tclone( recursive ) {\n\n\t\treturn new this.constructor().copy( this, recursive );\n\n\t}\n\n\tcopy( source, recursive = true ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.up.copy( source.up );\n\n\t\tthis.position.copy( source.position );\n\t\tthis.rotation.order = source.rotation.order;\n\t\tthis.quaternion.copy( source.quaternion );\n\t\tthis.scale.copy( source.scale );\n\n\t\tthis.matrix.copy( source.matrix );\n\t\tthis.matrixWorld.copy( source.matrixWorld );\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n\n\t\tthis.layers.mask = source.layers.mask;\n\t\tthis.visible = source.visible;\n\n\t\tthis.castShadow = source.castShadow;\n\t\tthis.receiveShadow = source.receiveShadow;\n\n\t\tthis.frustumCulled = source.frustumCulled;\n\t\tthis.renderOrder = source.renderOrder;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tif ( recursive === true ) {\n\n\t\t\tfor ( let i = 0; i < source.children.length; i ++ ) {\n\n\t\t\t\tconst child = source.children[ i ];\n\t\t\t\tthis.add( child.clone() );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nObject3D.DefaultUp = new Vector3( 0, 1, 0 );\nObject3D.DefaultMatrixAutoUpdate = true;\n\nObject3D.prototype.isObject3D = true;\n\nconst _v0$1 = /*@__PURE__*/ new Vector3();\nconst _v1$3 = /*@__PURE__*/ new Vector3();\nconst _v2$2 = /*@__PURE__*/ new Vector3();\nconst _v3$1 = /*@__PURE__*/ new Vector3();\n\nconst _vab = /*@__PURE__*/ new Vector3();\nconst _vac = /*@__PURE__*/ new Vector3();\nconst _vbc = /*@__PURE__*/ new Vector3();\nconst _vap = /*@__PURE__*/ new Vector3();\nconst _vbp = /*@__PURE__*/ new Vector3();\nconst _vcp = /*@__PURE__*/ new Vector3();\n\nclass Triangle {\n\n\tconstructor( a = new Vector3(), b = new Vector3(), c = new Vector3() ) {\n\n\t\tthis.a = a;\n\t\tthis.b = b;\n\t\tthis.c = c;\n\n\t}\n\n\tstatic getNormal( a, b, c, target ) {\n\n\t\ttarget.subVectors( c, b );\n\t\t_v0$1.subVectors( a, b );\n\t\ttarget.cross( _v0$1 );\n\n\t\tconst targetLengthSq = target.lengthSq();\n\t\tif ( targetLengthSq > 0 ) {\n\n\t\t\treturn target.multiplyScalar( 1 / Math.sqrt( targetLengthSq ) );\n\n\t\t}\n\n\t\treturn target.set( 0, 0, 0 );\n\n\t}\n\n\t// static/instance method to calculate barycentric coordinates\n\t// based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n\tstatic getBarycoord( point, a, b, c, target ) {\n\n\t\t_v0$1.subVectors( c, a );\n\t\t_v1$3.subVectors( b, a );\n\t\t_v2$2.subVectors( point, a );\n\n\t\tconst dot00 = _v0$1.dot( _v0$1 );\n\t\tconst dot01 = _v0$1.dot( _v1$3 );\n\t\tconst dot02 = _v0$1.dot( _v2$2 );\n\t\tconst dot11 = _v1$3.dot( _v1$3 );\n\t\tconst dot12 = _v1$3.dot( _v2$2 );\n\n\t\tconst denom = ( dot00 * dot11 - dot01 * dot01 );\n\n\t\t// collinear or singular triangle\n\t\tif ( denom === 0 ) {\n\n\t\t\t// arbitrary location outside of triangle?\n\t\t\t// not sure if this is the best idea, maybe should be returning undefined\n\t\t\treturn target.set( - 2, - 1, - 1 );\n\n\t\t}\n\n\t\tconst invDenom = 1 / denom;\n\t\tconst u = ( dot11 * dot02 - dot01 * dot12 ) * invDenom;\n\t\tconst v = ( dot00 * dot12 - dot01 * dot02 ) * invDenom;\n\n\t\t// barycentric coordinates must always sum to 1\n\t\treturn target.set( 1 - u - v, v, u );\n\n\t}\n\n\tstatic containsPoint( point, a, b, c ) {\n\n\t\tthis.getBarycoord( point, a, b, c, _v3$1 );\n\n\t\treturn ( _v3$1.x >= 0 ) && ( _v3$1.y >= 0 ) && ( ( _v3$1.x + _v3$1.y ) <= 1 );\n\n\t}\n\n\tstatic getUV( point, p1, p2, p3, uv1, uv2, uv3, target ) {\n\n\t\tthis.getBarycoord( point, p1, p2, p3, _v3$1 );\n\n\t\ttarget.set( 0, 0 );\n\t\ttarget.addScaledVector( uv1, _v3$1.x );\n\t\ttarget.addScaledVector( uv2, _v3$1.y );\n\t\ttarget.addScaledVector( uv3, _v3$1.z );\n\n\t\treturn target;\n\n\t}\n\n\tstatic isFrontFacing( a, b, c, direction ) {\n\n\t\t_v0$1.subVectors( c, b );\n\t\t_v1$3.subVectors( a, b );\n\n\t\t// strictly front facing\n\t\treturn ( _v0$1.cross( _v1$3 ).dot( direction ) < 0 ) ? true : false;\n\n\t}\n\n\tset( a, b, c ) {\n\n\t\tthis.a.copy( a );\n\t\tthis.b.copy( b );\n\t\tthis.c.copy( c );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPointsAndIndices( points, i0, i1, i2 ) {\n\n\t\tthis.a.copy( points[ i0 ] );\n\t\tthis.b.copy( points[ i1 ] );\n\t\tthis.c.copy( points[ i2 ] );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( triangle ) {\n\n\t\tthis.a.copy( triangle.a );\n\t\tthis.b.copy( triangle.b );\n\t\tthis.c.copy( triangle.c );\n\n\t\treturn this;\n\n\t}\n\n\tgetArea() {\n\n\t\t_v0$1.subVectors( this.c, this.b );\n\t\t_v1$3.subVectors( this.a, this.b );\n\n\t\treturn _v0$1.cross( _v1$3 ).length() * 0.5;\n\n\t}\n\n\tgetMidpoint( target ) {\n\n\t\treturn target.addVectors( this.a, this.b ).add( this.c ).multiplyScalar( 1 / 3 );\n\n\t}\n\n\tgetNormal( target ) {\n\n\t\treturn Triangle.getNormal( this.a, this.b, this.c, target );\n\n\t}\n\n\tgetPlane( target ) {\n\n\t\treturn target.setFromCoplanarPoints( this.a, this.b, this.c );\n\n\t}\n\n\tgetBarycoord( point, target ) {\n\n\t\treturn Triangle.getBarycoord( point, this.a, this.b, this.c, target );\n\n\t}\n\n\tgetUV( point, uv1, uv2, uv3, target ) {\n\n\t\treturn Triangle.getUV( point, this.a, this.b, this.c, uv1, uv2, uv3, target );\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn Triangle.containsPoint( point, this.a, this.b, this.c );\n\n\t}\n\n\tisFrontFacing( direction ) {\n\n\t\treturn Triangle.isFrontFacing( this.a, this.b, this.c, direction );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsTriangle( this );\n\n\t}\n\n\tclosestPointToPoint( p, target ) {\n\n\t\tconst a = this.a, b = this.b, c = this.c;\n\t\tlet v, w;\n\n\t\t// algorithm thanks to Real-Time Collision Detection by Christer Ericson,\n\t\t// published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,\n\t\t// under the accompanying license; see chapter 5.1.5 for detailed explanation.\n\t\t// basically, we're distinguishing which of the voronoi regions of the triangle\n\t\t// the point lies in with the minimum amount of redundant computation.\n\n\t\t_vab.subVectors( b, a );\n\t\t_vac.subVectors( c, a );\n\t\t_vap.subVectors( p, a );\n\t\tconst d1 = _vab.dot( _vap );\n\t\tconst d2 = _vac.dot( _vap );\n\t\tif ( d1 <= 0 && d2 <= 0 ) {\n\n\t\t\t// vertex region of A; barycentric coords (1, 0, 0)\n\t\t\treturn target.copy( a );\n\n\t\t}\n\n\t\t_vbp.subVectors( p, b );\n\t\tconst d3 = _vab.dot( _vbp );\n\t\tconst d4 = _vac.dot( _vbp );\n\t\tif ( d3 >= 0 && d4 <= d3 ) {\n\n\t\t\t// vertex region of B; barycentric coords (0, 1, 0)\n\t\t\treturn target.copy( b );\n\n\t\t}\n\n\t\tconst vc = d1 * d4 - d3 * d2;\n\t\tif ( vc <= 0 && d1 >= 0 && d3 <= 0 ) {\n\n\t\t\tv = d1 / ( d1 - d3 );\n\t\t\t// edge region of AB; barycentric coords (1-v, v, 0)\n\t\t\treturn target.copy( a ).addScaledVector( _vab, v );\n\n\t\t}\n\n\t\t_vcp.subVectors( p, c );\n\t\tconst d5 = _vab.dot( _vcp );\n\t\tconst d6 = _vac.dot( _vcp );\n\t\tif ( d6 >= 0 && d5 <= d6 ) {\n\n\t\t\t// vertex region of C; barycentric coords (0, 0, 1)\n\t\t\treturn target.copy( c );\n\n\t\t}\n\n\t\tconst vb = d5 * d2 - d1 * d6;\n\t\tif ( vb <= 0 && d2 >= 0 && d6 <= 0 ) {\n\n\t\t\tw = d2 / ( d2 - d6 );\n\t\t\t// edge region of AC; barycentric coords (1-w, 0, w)\n\t\t\treturn target.copy( a ).addScaledVector( _vac, w );\n\n\t\t}\n\n\t\tconst va = d3 * d6 - d5 * d4;\n\t\tif ( va <= 0 && ( d4 - d3 ) >= 0 && ( d5 - d6 ) >= 0 ) {\n\n\t\t\t_vbc.subVectors( c, b );\n\t\t\tw = ( d4 - d3 ) / ( ( d4 - d3 ) + ( d5 - d6 ) );\n\t\t\t// edge region of BC; barycentric coords (0, 1-w, w)\n\t\t\treturn target.copy( b ).addScaledVector( _vbc, w ); // edge region of BC\n\n\t\t}\n\n\t\t// face region\n\t\tconst denom = 1 / ( va + vb + vc );\n\t\t// u = va * denom\n\t\tv = vb * denom;\n\t\tw = vc * denom;\n\n\t\treturn target.copy( a ).addScaledVector( _vab, v ).addScaledVector( _vac, w );\n\n\t}\n\n\tequals( triangle ) {\n\n\t\treturn triangle.a.equals( this.a ) && triangle.b.equals( this.b ) && triangle.c.equals( this.c );\n\n\t}\n\n}\n\nlet materialId = 0;\n\nclass Material extends EventDispatcher {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tObject.defineProperty( this, 'id', { value: materialId ++ } );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.name = '';\n\t\tthis.type = 'Material';\n\n\t\tthis.fog = true;\n\n\t\tthis.blending = NormalBlending;\n\t\tthis.side = FrontSide;\n\t\tthis.vertexColors = false;\n\n\t\tthis.opacity = 1;\n\t\tthis.format = RGBAFormat;\n\t\tthis.transparent = false;\n\n\t\tthis.blendSrc = SrcAlphaFactor;\n\t\tthis.blendDst = OneMinusSrcAlphaFactor;\n\t\tthis.blendEquation = AddEquation;\n\t\tthis.blendSrcAlpha = null;\n\t\tthis.blendDstAlpha = null;\n\t\tthis.blendEquationAlpha = null;\n\n\t\tthis.depthFunc = LessEqualDepth;\n\t\tthis.depthTest = true;\n\t\tthis.depthWrite = true;\n\n\t\tthis.stencilWriteMask = 0xff;\n\t\tthis.stencilFunc = AlwaysStencilFunc;\n\t\tthis.stencilRef = 0;\n\t\tthis.stencilFuncMask = 0xff;\n\t\tthis.stencilFail = KeepStencilOp;\n\t\tthis.stencilZFail = KeepStencilOp;\n\t\tthis.stencilZPass = KeepStencilOp;\n\t\tthis.stencilWrite = false;\n\n\t\tthis.clippingPlanes = null;\n\t\tthis.clipIntersection = false;\n\t\tthis.clipShadows = false;\n\n\t\tthis.shadowSide = null;\n\n\t\tthis.colorWrite = true;\n\n\t\tthis.precision = null; // override the renderer's default precision for this material\n\n\t\tthis.polygonOffset = false;\n\t\tthis.polygonOffsetFactor = 0;\n\t\tthis.polygonOffsetUnits = 0;\n\n\t\tthis.dithering = false;\n\n\t\tthis.alphaToCoverage = false;\n\t\tthis.premultipliedAlpha = false;\n\n\t\tthis.visible = true;\n\n\t\tthis.toneMapped = true;\n\n\t\tthis.userData = {};\n\n\t\tthis.version = 0;\n\n\t\tthis._alphaTest = 0;\n\n\t}\n\n\tget alphaTest() {\n\n\t\treturn this._alphaTest;\n\n\t}\n\n\tset alphaTest( value ) {\n\n\t\tif ( this._alphaTest > 0 !== value > 0 ) {\n\n\t\t\tthis.version ++;\n\n\t\t}\n\n\t\tthis._alphaTest = value;\n\n\t}\n\n\tonBuild( /* shaderobject, renderer */ ) {}\n\n\tonBeforeCompile( /* shaderobject, renderer */ ) {}\n\n\tcustomProgramCacheKey() {\n\n\t\treturn this.onBeforeCompile.toString();\n\n\t}\n\n\tsetValues( values ) {\n\n\t\tif ( values === undefined ) return;\n\n\t\tfor ( const key in values ) {\n\n\t\t\tconst newValue = values[ key ];\n\n\t\t\tif ( newValue === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.Material: \\'' + key + '\\' parameter is undefined.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// for backward compatability if shading is set in the constructor\n\t\t\tif ( key === 'shading' ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\t\tthis.flatShading = ( newValue === FlatShading ) ? true : false;\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tconst currentValue = this[ key ];\n\n\t\t\tif ( currentValue === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': \\'' + key + '\\' is not a property of this material.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( currentValue && currentValue.isColor ) {\n\n\t\t\t\tcurrentValue.set( newValue );\n\n\t\t\t} else if ( ( currentValue && currentValue.isVector3 ) && ( newValue && newValue.isVector3 ) ) {\n\n\t\t\t\tcurrentValue.copy( newValue );\n\n\t\t\t} else {\n\n\t\t\t\tthis[ key ] = newValue;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst isRoot = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( isRoot ) {\n\n\t\t\tmeta = {\n\t\t\t\ttextures: {},\n\t\t\t\timages: {}\n\t\t\t};\n\n\t\t}\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Material',\n\t\t\t\tgenerator: 'Material.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Material serialization\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.color && this.color.isColor ) data.color = this.color.getHex();\n\n\t\tif ( this.roughness !== undefined ) data.roughness = this.roughness;\n\t\tif ( this.metalness !== undefined ) data.metalness = this.metalness;\n\n\t\tif ( this.sheenTint && this.sheenTint.isColor ) data.sheenTint = this.sheenTint.getHex();\n\t\tif ( this.emissive && this.emissive.isColor ) data.emissive = this.emissive.getHex();\n\t\tif ( this.emissiveIntensity && this.emissiveIntensity !== 1 ) data.emissiveIntensity = this.emissiveIntensity;\n\n\t\tif ( this.specular && this.specular.isColor ) data.specular = this.specular.getHex();\n\t\tif ( this.specularIntensity !== undefined ) data.specularIntensity = this.specularIntensity;\n\t\tif ( this.specularTint && this.specularTint.isColor ) data.specularTint = this.specularTint.getHex();\n\t\tif ( this.shininess !== undefined ) data.shininess = this.shininess;\n\t\tif ( this.clearcoat !== undefined ) data.clearcoat = this.clearcoat;\n\t\tif ( this.clearcoatRoughness !== undefined ) data.clearcoatRoughness = this.clearcoatRoughness;\n\n\t\tif ( this.clearcoatMap && this.clearcoatMap.isTexture ) {\n\n\t\t\tdata.clearcoatMap = this.clearcoatMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.clearcoatRoughnessMap && this.clearcoatRoughnessMap.isTexture ) {\n\n\t\t\tdata.clearcoatRoughnessMap = this.clearcoatRoughnessMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture ) {\n\n\t\t\tdata.clearcoatNormalMap = this.clearcoatNormalMap.toJSON( meta ).uuid;\n\t\t\tdata.clearcoatNormalScale = this.clearcoatNormalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.map && this.map.isTexture ) data.map = this.map.toJSON( meta ).uuid;\n\t\tif ( this.matcap && this.matcap.isTexture ) data.matcap = this.matcap.toJSON( meta ).uuid;\n\t\tif ( this.alphaMap && this.alphaMap.isTexture ) data.alphaMap = this.alphaMap.toJSON( meta ).uuid;\n\n\t\tif ( this.lightMap && this.lightMap.isTexture ) {\n\n\t\t\tdata.lightMap = this.lightMap.toJSON( meta ).uuid;\n\t\t\tdata.lightMapIntensity = this.lightMapIntensity;\n\n\t\t}\n\n\t\tif ( this.aoMap && this.aoMap.isTexture ) {\n\n\t\t\tdata.aoMap = this.aoMap.toJSON( meta ).uuid;\n\t\t\tdata.aoMapIntensity = this.aoMapIntensity;\n\n\t\t}\n\n\t\tif ( this.bumpMap && this.bumpMap.isTexture ) {\n\n\t\t\tdata.bumpMap = this.bumpMap.toJSON( meta ).uuid;\n\t\t\tdata.bumpScale = this.bumpScale;\n\n\t\t}\n\n\t\tif ( this.normalMap && this.normalMap.isTexture ) {\n\n\t\t\tdata.normalMap = this.normalMap.toJSON( meta ).uuid;\n\t\t\tdata.normalMapType = this.normalMapType;\n\t\t\tdata.normalScale = this.normalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.displacementMap && this.displacementMap.isTexture ) {\n\n\t\t\tdata.displacementMap = this.displacementMap.toJSON( meta ).uuid;\n\t\t\tdata.displacementScale = this.displacementScale;\n\t\t\tdata.displacementBias = this.displacementBias;\n\n\t\t}\n\n\t\tif ( this.roughnessMap && this.roughnessMap.isTexture ) data.roughnessMap = this.roughnessMap.toJSON( meta ).uuid;\n\t\tif ( this.metalnessMap && this.metalnessMap.isTexture ) data.metalnessMap = this.metalnessMap.toJSON( meta ).uuid;\n\n\t\tif ( this.emissiveMap && this.emissiveMap.isTexture ) data.emissiveMap = this.emissiveMap.toJSON( meta ).uuid;\n\t\tif ( this.specularMap && this.specularMap.isTexture ) data.specularMap = this.specularMap.toJSON( meta ).uuid;\n\t\tif ( this.specularIntensityMap && this.specularIntensityMap.isTexture ) data.specularIntensityMap = this.specularIntensityMap.toJSON( meta ).uuid;\n\t\tif ( this.specularTintMap && this.specularTintMap.isTexture ) data.specularTintMap = this.specularTintMap.toJSON( meta ).uuid;\n\n\t\tif ( this.envMap && this.envMap.isTexture ) {\n\n\t\t\tdata.envMap = this.envMap.toJSON( meta ).uuid;\n\n\t\t\tif ( this.combine !== undefined ) data.combine = this.combine;\n\n\t\t}\n\n\t\tif ( this.envMapIntensity !== undefined ) data.envMapIntensity = this.envMapIntensity;\n\t\tif ( this.reflectivity !== undefined ) data.reflectivity = this.reflectivity;\n\t\tif ( this.refractionRatio !== undefined ) data.refractionRatio = this.refractionRatio;\n\n\t\tif ( this.gradientMap && this.gradientMap.isTexture ) {\n\n\t\t\tdata.gradientMap = this.gradientMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.transmission !== undefined ) data.transmission = this.transmission;\n\t\tif ( this.transmissionMap && this.transmissionMap.isTexture ) data.transmissionMap = this.transmissionMap.toJSON( meta ).uuid;\n\t\tif ( this.thickness !== undefined ) data.thickness = this.thickness;\n\t\tif ( this.thicknessMap && this.thicknessMap.isTexture ) data.thicknessMap = this.thicknessMap.toJSON( meta ).uuid;\n\t\tif ( this.attenuationDistance !== undefined ) data.attenuationDistance = this.attenuationDistance;\n\t\tif ( this.attenuationTint !== undefined ) data.attenuationTint = this.attenuationTint.getHex();\n\n\t\tif ( this.size !== undefined ) data.size = this.size;\n\t\tif ( this.shadowSide !== null ) data.shadowSide = this.shadowSide;\n\t\tif ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\n\n\t\tif ( this.blending !== NormalBlending ) data.blending = this.blending;\n\t\tif ( this.side !== FrontSide ) data.side = this.side;\n\t\tif ( this.vertexColors ) data.vertexColors = true;\n\n\t\tif ( this.opacity < 1 ) data.opacity = this.opacity;\n\t\tif ( this.format !== RGBAFormat ) data.format = this.format;\n\t\tif ( this.transparent === true ) data.transparent = this.transparent;\n\n\t\tdata.depthFunc = this.depthFunc;\n\t\tdata.depthTest = this.depthTest;\n\t\tdata.depthWrite = this.depthWrite;\n\t\tdata.colorWrite = this.colorWrite;\n\n\t\tdata.stencilWrite = this.stencilWrite;\n\t\tdata.stencilWriteMask = this.stencilWriteMask;\n\t\tdata.stencilFunc = this.stencilFunc;\n\t\tdata.stencilRef = this.stencilRef;\n\t\tdata.stencilFuncMask = this.stencilFuncMask;\n\t\tdata.stencilFail = this.stencilFail;\n\t\tdata.stencilZFail = this.stencilZFail;\n\t\tdata.stencilZPass = this.stencilZPass;\n\n\t\t// rotation (SpriteMaterial)\n\t\tif ( this.rotation && this.rotation !== 0 ) data.rotation = this.rotation;\n\n\t\tif ( this.polygonOffset === true ) data.polygonOffset = true;\n\t\tif ( this.polygonOffsetFactor !== 0 ) data.polygonOffsetFactor = this.polygonOffsetFactor;\n\t\tif ( this.polygonOffsetUnits !== 0 ) data.polygonOffsetUnits = this.polygonOffsetUnits;\n\n\t\tif ( this.linewidth && this.linewidth !== 1 ) data.linewidth = this.linewidth;\n\t\tif ( this.dashSize !== undefined ) data.dashSize = this.dashSize;\n\t\tif ( this.gapSize !== undefined ) data.gapSize = this.gapSize;\n\t\tif ( this.scale !== undefined ) data.scale = this.scale;\n\n\t\tif ( this.dithering === true ) data.dithering = true;\n\n\t\tif ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\n\t\tif ( this.alphaToCoverage === true ) data.alphaToCoverage = this.alphaToCoverage;\n\t\tif ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\n\n\t\tif ( this.wireframe === true ) data.wireframe = this.wireframe;\n\t\tif ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\n\t\tif ( this.wireframeLinecap !== 'round' ) data.wireframeLinecap = this.wireframeLinecap;\n\t\tif ( this.wireframeLinejoin !== 'round' ) data.wireframeLinejoin = this.wireframeLinejoin;\n\n\t\tif ( this.flatShading === true ) data.flatShading = this.flatShading;\n\n\t\tif ( this.visible === false ) data.visible = false;\n\n\t\tif ( this.toneMapped === false ) data.toneMapped = false;\n\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\n\n\t\t// TODO: Copied from Object3D.toJSON\n\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tconst values = [];\n\n\t\t\tfor ( const key in cache ) {\n\n\t\t\t\tconst data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t\tif ( isRoot ) {\n\n\t\t\tconst textures = extractFromCache( meta.textures );\n\t\t\tconst images = extractFromCache( meta.images );\n\n\t\t\tif ( textures.length > 0 ) data.textures = textures;\n\t\t\tif ( images.length > 0 ) data.images = images;\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.fog = source.fog;\n\n\t\tthis.blending = source.blending;\n\t\tthis.side = source.side;\n\t\tthis.vertexColors = source.vertexColors;\n\n\t\tthis.opacity = source.opacity;\n\t\tthis.format = source.format;\n\t\tthis.transparent = source.transparent;\n\n\t\tthis.blendSrc = source.blendSrc;\n\t\tthis.blendDst = source.blendDst;\n\t\tthis.blendEquation = source.blendEquation;\n\t\tthis.blendSrcAlpha = source.blendSrcAlpha;\n\t\tthis.blendDstAlpha = source.blendDstAlpha;\n\t\tthis.blendEquationAlpha = source.blendEquationAlpha;\n\n\t\tthis.depthFunc = source.depthFunc;\n\t\tthis.depthTest = source.depthTest;\n\t\tthis.depthWrite = source.depthWrite;\n\n\t\tthis.stencilWriteMask = source.stencilWriteMask;\n\t\tthis.stencilFunc = source.stencilFunc;\n\t\tthis.stencilRef = source.stencilRef;\n\t\tthis.stencilFuncMask = source.stencilFuncMask;\n\t\tthis.stencilFail = source.stencilFail;\n\t\tthis.stencilZFail = source.stencilZFail;\n\t\tthis.stencilZPass = source.stencilZPass;\n\t\tthis.stencilWrite = source.stencilWrite;\n\n\t\tconst srcPlanes = source.clippingPlanes;\n\t\tlet dstPlanes = null;\n\n\t\tif ( srcPlanes !== null ) {\n\n\t\t\tconst n = srcPlanes.length;\n\t\t\tdstPlanes = new Array( n );\n\n\t\t\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\t\t\tdstPlanes[ i ] = srcPlanes[ i ].clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.clippingPlanes = dstPlanes;\n\t\tthis.clipIntersection = source.clipIntersection;\n\t\tthis.clipShadows = source.clipShadows;\n\n\t\tthis.shadowSide = source.shadowSide;\n\n\t\tthis.colorWrite = source.colorWrite;\n\n\t\tthis.precision = source.precision;\n\n\t\tthis.polygonOffset = source.polygonOffset;\n\t\tthis.polygonOffsetFactor = source.polygonOffsetFactor;\n\t\tthis.polygonOffsetUnits = source.polygonOffsetUnits;\n\n\t\tthis.dithering = source.dithering;\n\n\t\tthis.alphaTest = source.alphaTest;\n\t\tthis.alphaToCoverage = source.alphaToCoverage;\n\t\tthis.premultipliedAlpha = source.premultipliedAlpha;\n\n\t\tthis.visible = source.visible;\n\n\t\tthis.toneMapped = source.toneMapped;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n}\n\nMaterial.prototype.isMaterial = true;\n\nconst _colorKeywords = { 'aliceblue': 0xF0F8FF, 'antiquewhite': 0xFAEBD7, 'aqua': 0x00FFFF, 'aquamarine': 0x7FFFD4, 'azure': 0xF0FFFF,\n\t'beige': 0xF5F5DC, 'bisque': 0xFFE4C4, 'black': 0x000000, 'blanchedalmond': 0xFFEBCD, 'blue': 0x0000FF, 'blueviolet': 0x8A2BE2,\n\t'brown': 0xA52A2A, 'burlywood': 0xDEB887, 'cadetblue': 0x5F9EA0, 'chartreuse': 0x7FFF00, 'chocolate': 0xD2691E, 'coral': 0xFF7F50,\n\t'cornflowerblue': 0x6495ED, 'cornsilk': 0xFFF8DC, 'crimson': 0xDC143C, 'cyan': 0x00FFFF, 'darkblue': 0x00008B, 'darkcyan': 0x008B8B,\n\t'darkgoldenrod': 0xB8860B, 'darkgray': 0xA9A9A9, 'darkgreen': 0x006400, 'darkgrey': 0xA9A9A9, 'darkkhaki': 0xBDB76B, 'darkmagenta': 0x8B008B,\n\t'darkolivegreen': 0x556B2F, 'darkorange': 0xFF8C00, 'darkorchid': 0x9932CC, 'darkred': 0x8B0000, 'darksalmon': 0xE9967A, 'darkseagreen': 0x8FBC8F,\n\t'darkslateblue': 0x483D8B, 'darkslategray': 0x2F4F4F, 'darkslategrey': 0x2F4F4F, 'darkturquoise': 0x00CED1, 'darkviolet': 0x9400D3,\n\t'deeppink': 0xFF1493, 'deepskyblue': 0x00BFFF, 'dimgray': 0x696969, 'dimgrey': 0x696969, 'dodgerblue': 0x1E90FF, 'firebrick': 0xB22222,\n\t'floralwhite': 0xFFFAF0, 'forestgreen': 0x228B22, 'fuchsia': 0xFF00FF, 'gainsboro': 0xDCDCDC, 'ghostwhite': 0xF8F8FF, 'gold': 0xFFD700,\n\t'goldenrod': 0xDAA520, 'gray': 0x808080, 'green': 0x008000, 'greenyellow': 0xADFF2F, 'grey': 0x808080, 'honeydew': 0xF0FFF0, 'hotpink': 0xFF69B4,\n\t'indianred': 0xCD5C5C, 'indigo': 0x4B0082, 'ivory': 0xFFFFF0, 'khaki': 0xF0E68C, 'lavender': 0xE6E6FA, 'lavenderblush': 0xFFF0F5, 'lawngreen': 0x7CFC00,\n\t'lemonchiffon': 0xFFFACD, 'lightblue': 0xADD8E6, 'lightcoral': 0xF08080, 'lightcyan': 0xE0FFFF, 'lightgoldenrodyellow': 0xFAFAD2, 'lightgray': 0xD3D3D3,\n\t'lightgreen': 0x90EE90, 'lightgrey': 0xD3D3D3, 'lightpink': 0xFFB6C1, 'lightsalmon': 0xFFA07A, 'lightseagreen': 0x20B2AA, 'lightskyblue': 0x87CEFA,\n\t'lightslategray': 0x778899, 'lightslategrey': 0x778899, 'lightsteelblue': 0xB0C4DE, 'lightyellow': 0xFFFFE0, 'lime': 0x00FF00, 'limegreen': 0x32CD32,\n\t'linen': 0xFAF0E6, 'magenta': 0xFF00FF, 'maroon': 0x800000, 'mediumaquamarine': 0x66CDAA, 'mediumblue': 0x0000CD, 'mediumorchid': 0xBA55D3,\n\t'mediumpurple': 0x9370DB, 'mediumseagreen': 0x3CB371, 'mediumslateblue': 0x7B68EE, 'mediumspringgreen': 0x00FA9A, 'mediumturquoise': 0x48D1CC,\n\t'mediumvioletred': 0xC71585, 'midnightblue': 0x191970, 'mintcream': 0xF5FFFA, 'mistyrose': 0xFFE4E1, 'moccasin': 0xFFE4B5, 'navajowhite': 0xFFDEAD,\n\t'navy': 0x000080, 'oldlace': 0xFDF5E6, 'olive': 0x808000, 'olivedrab': 0x6B8E23, 'orange': 0xFFA500, 'orangered': 0xFF4500, 'orchid': 0xDA70D6,\n\t'palegoldenrod': 0xEEE8AA, 'palegreen': 0x98FB98, 'paleturquoise': 0xAFEEEE, 'palevioletred': 0xDB7093, 'papayawhip': 0xFFEFD5, 'peachpuff': 0xFFDAB9,\n\t'peru': 0xCD853F, 'pink': 0xFFC0CB, 'plum': 0xDDA0DD, 'powderblue': 0xB0E0E6, 'purple': 0x800080, 'rebeccapurple': 0x663399, 'red': 0xFF0000, 'rosybrown': 0xBC8F8F,\n\t'royalblue': 0x4169E1, 'saddlebrown': 0x8B4513, 'salmon': 0xFA8072, 'sandybrown': 0xF4A460, 'seagreen': 0x2E8B57, 'seashell': 0xFFF5EE,\n\t'sienna': 0xA0522D, 'silver': 0xC0C0C0, 'skyblue': 0x87CEEB, 'slateblue': 0x6A5ACD, 'slategray': 0x708090, 'slategrey': 0x708090, 'snow': 0xFFFAFA,\n\t'springgreen': 0x00FF7F, 'steelblue': 0x4682B4, 'tan': 0xD2B48C, 'teal': 0x008080, 'thistle': 0xD8BFD8, 'tomato': 0xFF6347, 'turquoise': 0x40E0D0,\n\t'violet': 0xEE82EE, 'wheat': 0xF5DEB3, 'white': 0xFFFFFF, 'whitesmoke': 0xF5F5F5, 'yellow': 0xFFFF00, 'yellowgreen': 0x9ACD32 };\n\nconst _hslA = { h: 0, s: 0, l: 0 };\nconst _hslB = { h: 0, s: 0, l: 0 };\n\nfunction hue2rgb( p, q, t ) {\n\n\tif ( t < 0 ) t += 1;\n\tif ( t > 1 ) t -= 1;\n\tif ( t < 1 / 6 ) return p + ( q - p ) * 6 * t;\n\tif ( t < 1 / 2 ) return q;\n\tif ( t < 2 / 3 ) return p + ( q - p ) * 6 * ( 2 / 3 - t );\n\treturn p;\n\n}\n\nfunction SRGBToLinear( c ) {\n\n\treturn ( c < 0.04045 ) ? c * 0.0773993808 : Math.pow( c * 0.9478672986 + 0.0521327014, 2.4 );\n\n}\n\nfunction LinearToSRGB( c ) {\n\n\treturn ( c < 0.0031308 ) ? c * 12.92 : 1.055 * ( Math.pow( c, 0.41666 ) ) - 0.055;\n\n}\n\nclass Color {\n\n\tconstructor( r, g, b ) {\n\n\t\tif ( g === undefined && b === undefined ) {\n\n\t\t\t// r is THREE.Color, hex or string\n\t\t\treturn this.set( r );\n\n\t\t}\n\n\t\treturn this.setRGB( r, g, b );\n\n\t}\n\n\tset( value ) {\n\n\t\tif ( value && value.isColor ) {\n\n\t\t\tthis.copy( value );\n\n\t\t} else if ( typeof value === 'number' ) {\n\n\t\t\tthis.setHex( value );\n\n\t\t} else if ( typeof value === 'string' ) {\n\n\t\t\tthis.setStyle( value );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetScalar( scalar ) {\n\n\t\tthis.r = scalar;\n\t\tthis.g = scalar;\n\t\tthis.b = scalar;\n\n\t\treturn this;\n\n\t}\n\n\tsetHex( hex ) {\n\n\t\thex = Math.floor( hex );\n\n\t\tthis.r = ( hex >> 16 & 255 ) / 255;\n\t\tthis.g = ( hex >> 8 & 255 ) / 255;\n\t\tthis.b = ( hex & 255 ) / 255;\n\n\t\treturn this;\n\n\t}\n\n\tsetRGB( r, g, b ) {\n\n\t\tthis.r = r;\n\t\tthis.g = g;\n\t\tthis.b = b;\n\n\t\treturn this;\n\n\t}\n\n\tsetHSL( h, s, l ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\t\th = euclideanModulo( h, 1 );\n\t\ts = clamp( s, 0, 1 );\n\t\tl = clamp( l, 0, 1 );\n\n\t\tif ( s === 0 ) {\n\n\t\t\tthis.r = this.g = this.b = l;\n\n\t\t} else {\n\n\t\t\tconst p = l <= 0.5 ? l * ( 1 + s ) : l + s - ( l * s );\n\t\t\tconst q = ( 2 * l ) - p;\n\n\t\t\tthis.r = hue2rgb( q, p, h + 1 / 3 );\n\t\t\tthis.g = hue2rgb( q, p, h );\n\t\t\tthis.b = hue2rgb( q, p, h - 1 / 3 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetStyle( style ) {\n\n\t\tfunction handleAlpha( string ) {\n\n\t\t\tif ( string === undefined ) return;\n\n\t\t\tif ( parseFloat( string ) < 1 ) {\n\n\t\t\t\tconsole.warn( 'THREE.Color: Alpha component of ' + style + ' will be ignored.' );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tlet m;\n\n\t\tif ( m = /^((?:rgb|hsl)a?)\\(([^\\)]*)\\)/.exec( style ) ) {\n\n\t\t\t// rgb / hsl\n\n\t\t\tlet color;\n\t\t\tconst name = m[ 1 ];\n\t\t\tconst components = m[ 2 ];\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'rgb':\n\t\t\t\tcase 'rgba':\n\n\t\t\t\t\tif ( color = /^\\s*(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(255,0,0) rgba(255,0,0,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 255, parseInt( color[ 1 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.g = Math.min( 255, parseInt( color[ 2 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.b = Math.min( 255, parseInt( color[ 3 ], 10 ) ) / 255;\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( color = /^\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 100, parseInt( color[ 1 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.g = Math.min( 100, parseInt( color[ 2 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.b = Math.min( 100, parseInt( color[ 3 ], 10 ) ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'hsl':\n\t\t\t\tcase 'hsla':\n\n\t\t\t\t\tif ( color = /^\\s*(\\d*\\.?\\d+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(?:,\\s*(\\d*\\.?\\d+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n\t\t\t\t\t\tconst h = parseFloat( color[ 1 ] ) / 360;\n\t\t\t\t\t\tconst s = parseInt( color[ 2 ], 10 ) / 100;\n\t\t\t\t\t\tconst l = parseInt( color[ 3 ], 10 ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 4 ] );\n\n\t\t\t\t\t\treturn this.setHSL( h, s, l );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t} else if ( m = /^\\#([A-Fa-f\\d]+)$/.exec( style ) ) {\n\n\t\t\t// hex color\n\n\t\t\tconst hex = m[ 1 ];\n\t\t\tconst size = hex.length;\n\n\t\t\tif ( size === 3 ) {\n\n\t\t\t\t// #ff0\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 0 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 1 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 2 ) + hex.charAt( 2 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t} else if ( size === 6 ) {\n\n\t\t\t\t// #ff0000\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 2 ) + hex.charAt( 3 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 4 ) + hex.charAt( 5 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( style && style.length > 0 ) {\n\n\t\t\treturn this.setColorName( style );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetColorName( style ) {\n\n\t\t// color keywords\n\t\tconst hex = _colorKeywords[ style.toLowerCase() ];\n\n\t\tif ( hex !== undefined ) {\n\n\t\t\t// red\n\t\t\tthis.setHex( hex );\n\n\t\t} else {\n\n\t\t\t// unknown color\n\t\t\tconsole.warn( 'THREE.Color: Unknown color ' + style );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.r, this.g, this.b );\n\n\t}\n\n\tcopy( color ) {\n\n\t\tthis.r = color.r;\n\t\tthis.g = color.g;\n\t\tthis.b = color.b;\n\n\t\treturn this;\n\n\t}\n\n\tcopyGammaToLinear( color, gammaFactor = 2.0 ) {\n\n\t\tthis.r = Math.pow( color.r, gammaFactor );\n\t\tthis.g = Math.pow( color.g, gammaFactor );\n\t\tthis.b = Math.pow( color.b, gammaFactor );\n\n\t\treturn this;\n\n\t}\n\n\tcopyLinearToGamma( color, gammaFactor = 2.0 ) {\n\n\t\tconst safeInverse = ( gammaFactor > 0 ) ? ( 1.0 / gammaFactor ) : 1.0;\n\n\t\tthis.r = Math.pow( color.r, safeInverse );\n\t\tthis.g = Math.pow( color.g, safeInverse );\n\t\tthis.b = Math.pow( color.b, safeInverse );\n\n\t\treturn this;\n\n\t}\n\n\tconvertGammaToLinear( gammaFactor ) {\n\n\t\tthis.copyGammaToLinear( this, gammaFactor );\n\n\t\treturn this;\n\n\t}\n\n\tconvertLinearToGamma( gammaFactor ) {\n\n\t\tthis.copyLinearToGamma( this, gammaFactor );\n\n\t\treturn this;\n\n\t}\n\n\tcopySRGBToLinear( color ) {\n\n\t\tthis.r = SRGBToLinear( color.r );\n\t\tthis.g = SRGBToLinear( color.g );\n\t\tthis.b = SRGBToLinear( color.b );\n\n\t\treturn this;\n\n\t}\n\n\tcopyLinearToSRGB( color ) {\n\n\t\tthis.r = LinearToSRGB( color.r );\n\t\tthis.g = LinearToSRGB( color.g );\n\t\tthis.b = LinearToSRGB( color.b );\n\n\t\treturn this;\n\n\t}\n\n\tconvertSRGBToLinear() {\n\n\t\tthis.copySRGBToLinear( this );\n\n\t\treturn this;\n\n\t}\n\n\tconvertLinearToSRGB() {\n\n\t\tthis.copyLinearToSRGB( this );\n\n\t\treturn this;\n\n\t}\n\n\tgetHex() {\n\n\t\treturn ( this.r * 255 ) << 16 ^ ( this.g * 255 ) << 8 ^ ( this.b * 255 ) << 0;\n\n\t}\n\n\tgetHexString() {\n\n\t\treturn ( '000000' + this.getHex().toString( 16 ) ).slice( - 6 );\n\n\t}\n\n\tgetHSL( target ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\n\t\tconst r = this.r, g = this.g, b = this.b;\n\n\t\tconst max = Math.max( r, g, b );\n\t\tconst min = Math.min( r, g, b );\n\n\t\tlet hue, saturation;\n\t\tconst lightness = ( min + max ) / 2.0;\n\n\t\tif ( min === max ) {\n\n\t\t\thue = 0;\n\t\t\tsaturation = 0;\n\n\t\t} else {\n\n\t\t\tconst delta = max - min;\n\n\t\t\tsaturation = lightness <= 0.5 ? delta / ( max + min ) : delta / ( 2 - max - min );\n\n\t\t\tswitch ( max ) {\n\n\t\t\t\tcase r: hue = ( g - b ) / delta + ( g < b ? 6 : 0 ); break;\n\t\t\t\tcase g: hue = ( b - r ) / delta + 2; break;\n\t\t\t\tcase b: hue = ( r - g ) / delta + 4; break;\n\n\t\t\t}\n\n\t\t\thue /= 6;\n\n\t\t}\n\n\t\ttarget.h = hue;\n\t\ttarget.s = saturation;\n\t\ttarget.l = lightness;\n\n\t\treturn target;\n\n\t}\n\n\tgetStyle() {\n\n\t\treturn 'rgb(' + ( ( this.r * 255 ) | 0 ) + ',' + ( ( this.g * 255 ) | 0 ) + ',' + ( ( this.b * 255 ) | 0 ) + ')';\n\n\t}\n\n\toffsetHSL( h, s, l ) {\n\n\t\tthis.getHSL( _hslA );\n\n\t\t_hslA.h += h; _hslA.s += s; _hslA.l += l;\n\n\t\tthis.setHSL( _hslA.h, _hslA.s, _hslA.l );\n\n\t\treturn this;\n\n\t}\n\n\tadd( color ) {\n\n\t\tthis.r += color.r;\n\t\tthis.g += color.g;\n\t\tthis.b += color.b;\n\n\t\treturn this;\n\n\t}\n\n\taddColors( color1, color2 ) {\n\n\t\tthis.r = color1.r + color2.r;\n\t\tthis.g = color1.g + color2.g;\n\t\tthis.b = color1.b + color2.b;\n\n\t\treturn this;\n\n\t}\n\n\taddScalar( s ) {\n\n\t\tthis.r += s;\n\t\tthis.g += s;\n\t\tthis.b += s;\n\n\t\treturn this;\n\n\t}\n\n\tsub( color ) {\n\n\t\tthis.r = Math.max( 0, this.r - color.r );\n\t\tthis.g = Math.max( 0, this.g - color.g );\n\t\tthis.b = Math.max( 0, this.b - color.b );\n\n\t\treturn this;\n\n\t}\n\n\tmultiply( color ) {\n\n\t\tthis.r *= color.r;\n\t\tthis.g *= color.g;\n\t\tthis.b *= color.b;\n\n\t\treturn this;\n\n\t}\n\n\tmultiplyScalar( s ) {\n\n\t\tthis.r *= s;\n\t\tthis.g *= s;\n\t\tthis.b *= s;\n\n\t\treturn this;\n\n\t}\n\n\tlerp( color, alpha ) {\n\n\t\tthis.r += ( color.r - this.r ) * alpha;\n\t\tthis.g += ( color.g - this.g ) * alpha;\n\t\tthis.b += ( color.b - this.b ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpColors( color1, color2, alpha ) {\n\n\t\tthis.r = color1.r + ( color2.r - color1.r ) * alpha;\n\t\tthis.g = color1.g + ( color2.g - color1.g ) * alpha;\n\t\tthis.b = color1.b + ( color2.b - color1.b ) * alpha;\n\n\t\treturn this;\n\n\t}\n\n\tlerpHSL( color, alpha ) {\n\n\t\tthis.getHSL( _hslA );\n\t\tcolor.getHSL( _hslB );\n\n\t\tconst h = lerp( _hslA.h, _hslB.h, alpha );\n\t\tconst s = lerp( _hslA.s, _hslB.s, alpha );\n\t\tconst l = lerp( _hslA.l, _hslB.l, alpha );\n\n\t\tthis.setHSL( h, s, l );\n\n\t\treturn this;\n\n\t}\n\n\tequals( c ) {\n\n\t\treturn ( c.r === this.r ) && ( c.g === this.g ) && ( c.b === this.b );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tthis.r = array[ offset ];\n\t\tthis.g = array[ offset + 1 ];\n\t\tthis.b = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tarray[ offset ] = this.r;\n\t\tarray[ offset + 1 ] = this.g;\n\t\tarray[ offset + 2 ] = this.b;\n\n\t\treturn array;\n\n\t}\n\n\tfromBufferAttribute( attribute, index ) {\n\n\t\tthis.r = attribute.getX( index );\n\t\tthis.g = attribute.getY( index );\n\t\tthis.b = attribute.getZ( index );\n\n\t\tif ( attribute.normalized === true ) {\n\n\t\t\t// assuming Uint8Array\n\n\t\t\tthis.r /= 255;\n\t\t\tthis.g /= 255;\n\t\t\tthis.b /= 255;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\treturn this.getHex();\n\n\t}\n\n}\n\nColor.NAMES = _colorKeywords;\n\nColor.prototype.isColor = true;\nColor.prototype.r = 1;\nColor.prototype.g = 1;\nColor.prototype.b = 1;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n * }\n */\n\nclass MeshBasicMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshBasicMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // emissive\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.specularMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.combine = MultiplyOperation;\n\t\tthis.reflectivity = 1;\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.specularMap = source.specularMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.combine = source.combine;\n\t\tthis.reflectivity = source.reflectivity;\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshBasicMaterial.prototype.isMeshBasicMaterial = true;\n\nconst _vector$9 = /*@__PURE__*/ new Vector3();\nconst _vector2$1 = /*@__PURE__*/ new Vector2();\n\nclass BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tif ( Array.isArray( array ) ) {\n\n\t\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t\t}\n\n\t\tthis.name = '';\n\n\t\tthis.array = array;\n\t\tthis.itemSize = itemSize;\n\t\tthis.count = array !== undefined ? array.length / itemSize : 0;\n\t\tthis.normalized = normalized === true;\n\n\t\tthis.usage = StaticDrawUsage;\n\t\tthis.updateRange = { offset: 0, count: - 1 };\n\n\t\tthis.version = 0;\n\n\t}\n\n\tonUploadCallback() {}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\tsetUsage( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.name = source.name;\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.itemSize = source.itemSize;\n\t\tthis.count = source.count;\n\t\tthis.normalized = source.normalized;\n\n\t\tthis.usage = source.usage;\n\n\t\treturn this;\n\n\t}\n\n\tcopyAt( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.itemSize;\n\t\tindex2 *= attribute.itemSize;\n\n\t\tfor ( let i = 0, l = this.itemSize; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyArray( array ) {\n\n\t\tthis.array.set( array );\n\n\t\treturn this;\n\n\t}\n\n\tcopyColorsArray( colors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = colors.length; i < l; i ++ ) {\n\n\t\t\tlet color = colors[ i ];\n\n\t\t\tif ( color === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyColorsArray(): color is undefined', i );\n\t\t\t\tcolor = new Color();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = color.r;\n\t\t\tarray[ offset ++ ] = color.g;\n\t\t\tarray[ offset ++ ] = color.b;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyVector2sArray( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector2();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyVector3sArray( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector3();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcopyVector4sArray( vectors ) {\n\n\t\tconst array = this.array;\n\t\tlet offset = 0;\n\n\t\tfor ( let i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tlet vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector4();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\t\t\tarray[ offset ++ ] = vector.w;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix3( m ) {\n\n\t\tif ( this.itemSize === 2 ) {\n\n\t\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t\t_vector2$1.fromBufferAttribute( this, i );\n\t\t\t\t_vector2$1.applyMatrix3( m );\n\n\t\t\t\tthis.setXY( i, _vector2$1.x, _vector2$1.y );\n\n\t\t\t}\n\n\t\t} else if ( this.itemSize === 3 ) {\n\n\t\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t\t_vector$9.fromBufferAttribute( this, i );\n\t\t\t\t_vector$9.applyMatrix3( m );\n\n\t\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$9.x = this.getX( i );\n\t\t\t_vector$9.y = this.getY( i );\n\t\t\t_vector$9.z = this.getZ( i );\n\n\t\t\t_vector$9.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$9.x = this.getX( i );\n\t\t\t_vector$9.y = this.getY( i );\n\t\t\t_vector$9.z = this.getZ( i );\n\n\t\t\t_vector$9.applyNormalMatrix( m );\n\n\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$9.x = this.getX( i );\n\t\t\t_vector$9.y = this.getY( i );\n\t\t\t_vector$9.z = this.getZ( i );\n\n\t\t\t_vector$9.transformDirection( m );\n\n\t\t\tthis.setXYZ( i, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tset( value, offset = 0 ) {\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t}\n\n\tgetX( index ) {\n\n\t\treturn this.array[ index * this.itemSize ];\n\n\t}\n\n\tsetX( index, x ) {\n\n\t\tthis.array[ index * this.itemSize ] = x;\n\n\t\treturn this;\n\n\t}\n\n\tgetY( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 1 ];\n\n\t}\n\n\tsetY( index, y ) {\n\n\t\tthis.array[ index * this.itemSize + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tgetZ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 2 ];\n\n\t}\n\n\tsetZ( index, z ) {\n\n\t\tthis.array[ index * this.itemSize + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tgetW( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 3 ];\n\n\t}\n\n\tsetW( index, w ) {\n\n\t\tthis.array[ index * this.itemSize + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetXY( index, x, y ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZ( index, x, y, z ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZW( index, x, y, z, w ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\t\tthis.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tonUpload( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.array, this.itemSize ).copy( this );\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\titemSize: this.itemSize,\n\t\t\ttype: this.array.constructor.name,\n\t\t\tarray: Array.prototype.slice.call( this.array ),\n\t\t\tnormalized: this.normalized\n\t\t};\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( this.usage !== StaticDrawUsage ) data.usage = this.usage;\n\t\tif ( this.updateRange.offset !== 0 || this.updateRange.count !== - 1 ) data.updateRange = this.updateRange;\n\n\t\treturn data;\n\n\t}\n\n}\n\nBufferAttribute.prototype.isBufferAttribute = true;\n\nclass Uint16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint16Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Uint32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nclass Float16BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Uint16Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nFloat16BufferAttribute.prototype.isFloat16BufferAttribute = true;\n\nclass Float32BufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized ) {\n\n\t\tsuper( new Float32Array( array ), itemSize, normalized );\n\n\t}\n\n}\n\nfunction arrayMax( array ) {\n\n\tif ( array.length === 0 ) return - Infinity;\n\n\tlet max = array[ 0 ];\n\n\tfor ( let i = 1, l = array.length; i < l; ++ i ) {\n\n\t\tif ( array[ i ] > max ) max = array[ i ];\n\n\t}\n\n\treturn max;\n\n}\n\nlet _id = 0;\n\nconst _m1 = /*@__PURE__*/ new Matrix4();\nconst _obj = /*@__PURE__*/ new Object3D();\nconst _offset = /*@__PURE__*/ new Vector3();\nconst _box$1 = /*@__PURE__*/ new Box3();\nconst _boxMorphTargets = /*@__PURE__*/ new Box3();\nconst _vector$8 = /*@__PURE__*/ new Vector3();\n\nclass BufferGeometry extends EventDispatcher {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tObject.defineProperty( this, 'id', { value: _id ++ } );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.name = '';\n\t\tthis.type = 'BufferGeometry';\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\n\t\tthis.morphAttributes = {};\n\t\tthis.morphTargetsRelative = false;\n\n\t\tthis.groups = [];\n\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\tthis.drawRange = { start: 0, count: Infinity };\n\n\t\tthis.userData = {};\n\n\t}\n\n\tgetIndex() {\n\n\t\treturn this.index;\n\n\t}\n\n\tsetIndex( index ) {\n\n\t\tif ( Array.isArray( index ) ) {\n\n\t\t\tthis.index = new ( arrayMax( index ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( index, 1 );\n\n\t\t} else {\n\n\t\t\tthis.index = index;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetAttribute( name ) {\n\n\t\treturn this.attributes[ name ];\n\n\t}\n\n\tsetAttribute( name, attribute ) {\n\n\t\tthis.attributes[ name ] = attribute;\n\n\t\treturn this;\n\n\t}\n\n\tdeleteAttribute( name ) {\n\n\t\tdelete this.attributes[ name ];\n\n\t\treturn this;\n\n\t}\n\n\thasAttribute( name ) {\n\n\t\treturn this.attributes[ name ] !== undefined;\n\n\t}\n\n\taddGroup( start, count, materialIndex = 0 ) {\n\n\t\tthis.groups.push( {\n\n\t\t\tstart: start,\n\t\t\tcount: count,\n\t\t\tmaterialIndex: materialIndex\n\n\t\t} );\n\n\t}\n\n\tclearGroups() {\n\n\t\tthis.groups = [];\n\n\t}\n\n\tsetDrawRange( start, count ) {\n\n\t\tthis.drawRange.start = start;\n\t\tthis.drawRange.count = count;\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tconst position = this.attributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tposition.applyMatrix4( matrix );\n\n\t\t\tposition.needsUpdate = true;\n\n\t\t}\n\n\t\tconst normal = this.attributes.normal;\n\n\t\tif ( normal !== undefined ) {\n\n\t\t\tconst normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t\tnormal.applyNormalMatrix( normalMatrix );\n\n\t\t\tnormal.needsUpdate = true;\n\n\t\t}\n\n\t\tconst tangent = this.attributes.tangent;\n\n\t\tif ( tangent !== undefined ) {\n\n\t\t\ttangent.transformDirection( matrix );\n\n\t\t\ttangent.needsUpdate = true;\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyQuaternion( q ) {\n\n\t\t_m1.makeRotationFromQuaternion( q );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateX( angle ) {\n\n\t\t// rotate geometry around world x-axis\n\n\t\t_m1.makeRotationX( angle );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateY( angle ) {\n\n\t\t// rotate geometry around world y-axis\n\n\t\t_m1.makeRotationY( angle );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\trotateZ( angle ) {\n\n\t\t// rotate geometry around world z-axis\n\n\t\t_m1.makeRotationZ( angle );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( x, y, z ) {\n\n\t\t// translate geometry\n\n\t\t_m1.makeTranslation( x, y, z );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\tscale( x, y, z ) {\n\n\t\t// scale geometry\n\n\t\t_m1.makeScale( x, y, z );\n\n\t\tthis.applyMatrix4( _m1 );\n\n\t\treturn this;\n\n\t}\n\n\tlookAt( vector ) {\n\n\t\t_obj.lookAt( vector );\n\n\t\t_obj.updateMatrix();\n\n\t\tthis.applyMatrix4( _obj.matrix );\n\n\t\treturn this;\n\n\t}\n\n\tcenter() {\n\n\t\tthis.computeBoundingBox();\n\n\t\tthis.boundingBox.getCenter( _offset ).negate();\n\n\t\tthis.translate( _offset.x, _offset.y, _offset.z );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tconst position = [];\n\n\t\tfor ( let i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tconst point = points[ i ];\n\t\t\tposition.push( point.x, point.y, point.z || 0 );\n\n\t\t}\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( position, 3 ) );\n\n\t\treturn this;\n\n\t}\n\n\tcomputeBoundingBox() {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tconst position = this.attributes.position;\n\t\tconst morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position && position.isGLBufferAttribute ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set \"mesh.frustumCulled\" to \"false\".', this );\n\n\t\t\tthis.boundingBox.set(\n\t\t\t\tnew Vector3( - Infinity, - Infinity, - Infinity ),\n\t\t\t\tnew Vector3( + Infinity, + Infinity, + Infinity )\n\t\t\t);\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tthis.boundingBox.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_box$1.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector$8.addVectors( this.boundingBox.min, _box$1.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$8 );\n\n\t\t\t\t\t\t_vector$8.addVectors( this.boundingBox.max, _box$1.max );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$8 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$1.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$1.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.boundingBox.makeEmpty();\n\n\t\t}\n\n\t\tif ( isNaN( this.boundingBox.min.x ) || isNaN( this.boundingBox.min.y ) || isNaN( this.boundingBox.min.z ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t}\n\n\t}\n\n\tcomputeBoundingSphere() {\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tconst position = this.attributes.position;\n\t\tconst morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position && position.isGLBufferAttribute ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set \"mesh.frustumCulled\" to \"false\".', this );\n\n\t\t\tthis.boundingSphere.set( new Vector3(), Infinity );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( position ) {\n\n\t\t\t// first, find the center of the bounding sphere\n\n\t\t\tconst center = this.boundingSphere.center;\n\n\t\t\t_box$1.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_boxMorphTargets.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector$8.addVectors( _box$1.min, _boxMorphTargets.min );\n\t\t\t\t\t\t_box$1.expandByPoint( _vector$8 );\n\n\t\t\t\t\t\t_vector$8.addVectors( _box$1.max, _boxMorphTargets.max );\n\t\t\t\t\t\t_box$1.expandByPoint( _vector$8 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t_box$1.expandByPoint( _boxMorphTargets.min );\n\t\t\t\t\t\t_box$1.expandByPoint( _boxMorphTargets.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t_box$1.getCenter( center );\n\n\t\t\t// second, try to find a boundingSphere with a radius smaller than the\n\t\t\t// boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n\t\t\tlet maxRadiusSq = 0;\n\n\t\t\tfor ( let i = 0, il = position.count; i < il; i ++ ) {\n\n\t\t\t\t_vector$8.fromBufferAttribute( position, i );\n\n\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$8 ) );\n\n\t\t\t}\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( let i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\tconst morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t\t\t\tfor ( let j = 0, jl = morphAttribute.count; j < jl; j ++ ) {\n\n\t\t\t\t\t\t_vector$8.fromBufferAttribute( morphAttribute, j );\n\n\t\t\t\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t\t\t\t_offset.fromBufferAttribute( position, j );\n\t\t\t\t\t\t\t_vector$8.add( _offset );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$8 ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.boundingSphere.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\tif ( isNaN( this.boundingSphere.radius ) ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tcomputeTangents() {\n\n\t\tconst index = this.index;\n\t\tconst attributes = this.attributes;\n\n\t\t// based on http://www.terathon.com/code/tangent.html\n\t\t// (per vertex tangents)\n\n\t\tif ( index === null ||\n\t\t\t attributes.position === undefined ||\n\t\t\t attributes.normal === undefined ||\n\t\t\t attributes.uv === undefined ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst indices = index.array;\n\t\tconst positions = attributes.position.array;\n\t\tconst normals = attributes.normal.array;\n\t\tconst uvs = attributes.uv.array;\n\n\t\tconst nVertices = positions.length / 3;\n\n\t\tif ( attributes.tangent === undefined ) {\n\n\t\t\tthis.setAttribute( 'tangent', new BufferAttribute( new Float32Array( 4 * nVertices ), 4 ) );\n\n\t\t}\n\n\t\tconst tangents = attributes.tangent.array;\n\n\t\tconst tan1 = [], tan2 = [];\n\n\t\tfor ( let i = 0; i < nVertices; i ++ ) {\n\n\t\t\ttan1[ i ] = new Vector3();\n\t\t\ttan2[ i ] = new Vector3();\n\n\t\t}\n\n\t\tconst vA = new Vector3(),\n\t\t\tvB = new Vector3(),\n\t\t\tvC = new Vector3(),\n\n\t\t\tuvA = new Vector2(),\n\t\t\tuvB = new Vector2(),\n\t\t\tuvC = new Vector2(),\n\n\t\t\tsdir = new Vector3(),\n\t\t\ttdir = new Vector3();\n\n\t\tfunction handleTriangle( a, b, c ) {\n\n\t\t\tvA.fromArray( positions, a * 3 );\n\t\t\tvB.fromArray( positions, b * 3 );\n\t\t\tvC.fromArray( positions, c * 3 );\n\n\t\t\tuvA.fromArray( uvs, a * 2 );\n\t\t\tuvB.fromArray( uvs, b * 2 );\n\t\t\tuvC.fromArray( uvs, c * 2 );\n\n\t\t\tvB.sub( vA );\n\t\t\tvC.sub( vA );\n\n\t\t\tuvB.sub( uvA );\n\t\t\tuvC.sub( uvA );\n\n\t\t\tconst r = 1.0 / ( uvB.x * uvC.y - uvC.x * uvB.y );\n\n\t\t\t// silently ignore degenerate uv triangles having coincident or colinear vertices\n\n\t\t\tif ( ! isFinite( r ) ) return;\n\n\t\t\tsdir.copy( vB ).multiplyScalar( uvC.y ).addScaledVector( vC, - uvB.y ).multiplyScalar( r );\n\t\t\ttdir.copy( vC ).multiplyScalar( uvB.x ).addScaledVector( vB, - uvC.x ).multiplyScalar( r );\n\n\t\t\ttan1[ a ].add( sdir );\n\t\t\ttan1[ b ].add( sdir );\n\t\t\ttan1[ c ].add( sdir );\n\n\t\t\ttan2[ a ].add( tdir );\n\t\t\ttan2[ b ].add( tdir );\n\t\t\ttan2[ c ].add( tdir );\n\n\t\t}\n\n\t\tlet groups = this.groups;\n\n\t\tif ( groups.length === 0 ) {\n\n\t\t\tgroups = [ {\n\t\t\t\tstart: 0,\n\t\t\t\tcount: indices.length\n\t\t\t} ];\n\n\t\t}\n\n\t\tfor ( let i = 0, il = groups.length; i < il; ++ i ) {\n\n\t\t\tconst group = groups[ i ];\n\n\t\t\tconst start = group.start;\n\t\t\tconst count = group.count;\n\n\t\t\tfor ( let j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\thandleTriangle(\n\t\t\t\t\tindices[ j + 0 ],\n\t\t\t\t\tindices[ j + 1 ],\n\t\t\t\t\tindices[ j + 2 ]\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst tmp = new Vector3(), tmp2 = new Vector3();\n\t\tconst n = new Vector3(), n2 = new Vector3();\n\n\t\tfunction handleVertex( v ) {\n\n\t\t\tn.fromArray( normals, v * 3 );\n\t\t\tn2.copy( n );\n\n\t\t\tconst t = tan1[ v ];\n\n\t\t\t// Gram-Schmidt orthogonalize\n\n\t\t\ttmp.copy( t );\n\t\t\ttmp.sub( n.multiplyScalar( n.dot( t ) ) ).normalize();\n\n\t\t\t// Calculate handedness\n\n\t\t\ttmp2.crossVectors( n2, t );\n\t\t\tconst test = tmp2.dot( tan2[ v ] );\n\t\t\tconst w = ( test < 0.0 ) ? - 1.0 : 1.0;\n\n\t\t\ttangents[ v * 4 ] = tmp.x;\n\t\t\ttangents[ v * 4 + 1 ] = tmp.y;\n\t\t\ttangents[ v * 4 + 2 ] = tmp.z;\n\t\t\ttangents[ v * 4 + 3 ] = w;\n\n\t\t}\n\n\t\tfor ( let i = 0, il = groups.length; i < il; ++ i ) {\n\n\t\t\tconst group = groups[ i ];\n\n\t\t\tconst start = group.start;\n\t\t\tconst count = group.count;\n\n\t\t\tfor ( let j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\thandleVertex( indices[ j + 0 ] );\n\t\t\t\thandleVertex( indices[ j + 1 ] );\n\t\t\t\thandleVertex( indices[ j + 2 ] );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tcomputeVertexNormals() {\n\n\t\tconst index = this.index;\n\t\tconst positionAttribute = this.getAttribute( 'position' );\n\n\t\tif ( positionAttribute !== undefined ) {\n\n\t\t\tlet normalAttribute = this.getAttribute( 'normal' );\n\n\t\t\tif ( normalAttribute === undefined ) {\n\n\t\t\t\tnormalAttribute = new BufferAttribute( new Float32Array( positionAttribute.count * 3 ), 3 );\n\t\t\t\tthis.setAttribute( 'normal', normalAttribute );\n\n\t\t\t} else {\n\n\t\t\t\t// reset existing normals to zero\n\n\t\t\t\tfor ( let i = 0, il = normalAttribute.count; i < il; i ++ ) {\n\n\t\t\t\t\tnormalAttribute.setXYZ( i, 0, 0, 0 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst pA = new Vector3(), pB = new Vector3(), pC = new Vector3();\n\t\t\tconst nA = new Vector3(), nB = new Vector3(), nC = new Vector3();\n\t\t\tconst cb = new Vector3(), ab = new Vector3();\n\n\t\t\t// indexed elements\n\n\t\t\tif ( index ) {\n\n\t\t\t\tfor ( let i = 0, il = index.count; i < il; i += 3 ) {\n\n\t\t\t\t\tconst vA = index.getX( i + 0 );\n\t\t\t\t\tconst vB = index.getX( i + 1 );\n\t\t\t\t\tconst vC = index.getX( i + 2 );\n\n\t\t\t\t\tpA.fromBufferAttribute( positionAttribute, vA );\n\t\t\t\t\tpB.fromBufferAttribute( positionAttribute, vB );\n\t\t\t\t\tpC.fromBufferAttribute( positionAttribute, vC );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnA.fromBufferAttribute( normalAttribute, vA );\n\t\t\t\t\tnB.fromBufferAttribute( normalAttribute, vB );\n\t\t\t\t\tnC.fromBufferAttribute( normalAttribute, vC );\n\n\t\t\t\t\tnA.add( cb );\n\t\t\t\t\tnB.add( cb );\n\t\t\t\t\tnC.add( cb );\n\n\t\t\t\t\tnormalAttribute.setXYZ( vA, nA.x, nA.y, nA.z );\n\t\t\t\t\tnormalAttribute.setXYZ( vB, nB.x, nB.y, nB.z );\n\t\t\t\t\tnormalAttribute.setXYZ( vC, nC.x, nC.y, nC.z );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed elements (unconnected triangle soup)\n\n\t\t\t\tfor ( let i = 0, il = positionAttribute.count; i < il; i += 3 ) {\n\n\t\t\t\t\tpA.fromBufferAttribute( positionAttribute, i + 0 );\n\t\t\t\t\tpB.fromBufferAttribute( positionAttribute, i + 1 );\n\t\t\t\t\tpC.fromBufferAttribute( positionAttribute, i + 2 );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormalAttribute.setXYZ( i + 0, cb.x, cb.y, cb.z );\n\t\t\t\t\tnormalAttribute.setXYZ( i + 1, cb.x, cb.y, cb.z );\n\t\t\t\t\tnormalAttribute.setXYZ( i + 2, cb.x, cb.y, cb.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.normalizeNormals();\n\n\t\t\tnormalAttribute.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n\tmerge( geometry, offset ) {\n\n\t\tif ( ! ( geometry && geometry.isBufferGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( offset === undefined ) {\n\n\t\t\toffset = 0;\n\n\t\t\tconsole.warn(\n\t\t\t\t'THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. '\n\t\t\t\t+ 'Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.'\n\t\t\t);\n\n\t\t}\n\n\t\tconst attributes = this.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tif ( geometry.attributes[ key ] === undefined ) continue;\n\n\t\t\tconst attribute1 = attributes[ key ];\n\t\t\tconst attributeArray1 = attribute1.array;\n\n\t\t\tconst attribute2 = geometry.attributes[ key ];\n\t\t\tconst attributeArray2 = attribute2.array;\n\n\t\t\tconst attributeOffset = attribute2.itemSize * offset;\n\t\t\tconst length = Math.min( attributeArray2.length, attributeArray1.length - attributeOffset );\n\n\t\t\tfor ( let i = 0, j = attributeOffset; i < length; i ++, j ++ ) {\n\n\t\t\t\tattributeArray1[ j ] = attributeArray2[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tnormalizeNormals() {\n\n\t\tconst normals = this.attributes.normal;\n\n\t\tfor ( let i = 0, il = normals.count; i < il; i ++ ) {\n\n\t\t\t_vector$8.fromBufferAttribute( normals, i );\n\n\t\t\t_vector$8.normalize();\n\n\t\t\tnormals.setXYZ( i, _vector$8.x, _vector$8.y, _vector$8.z );\n\n\t\t}\n\n\t}\n\n\ttoNonIndexed() {\n\n\t\tfunction convertBufferAttribute( attribute, indices ) {\n\n\t\t\tconst array = attribute.array;\n\t\t\tconst itemSize = attribute.itemSize;\n\t\t\tconst normalized = attribute.normalized;\n\n\t\t\tconst array2 = new array.constructor( indices.length * itemSize );\n\n\t\t\tlet index = 0, index2 = 0;\n\n\t\t\tfor ( let i = 0, l = indices.length; i < l; i ++ ) {\n\n\t\t\t\tif ( attribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\tindex = indices[ i ] * attribute.data.stride + attribute.offset;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tindex = indices[ i ] * itemSize;\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let j = 0; j < itemSize; j ++ ) {\n\n\t\t\t\t\tarray2[ index2 ++ ] = array[ index ++ ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( array2, itemSize, normalized );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.index === null ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed.' );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tconst geometry2 = new BufferGeometry();\n\n\t\tconst indices = this.index.array;\n\t\tconst attributes = this.attributes;\n\n\t\t// attributes\n\n\t\tfor ( const name in attributes ) {\n\n\t\t\tconst attribute = attributes[ name ];\n\n\t\t\tconst newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\tgeometry2.setAttribute( name, newAttribute );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tconst morphAttributes = this.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst morphArray = [];\n\t\t\tconst morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( let i = 0, il = morphAttribute.length; i < il; i ++ ) {\n\n\t\t\t\tconst attribute = morphAttribute[ i ];\n\n\t\t\t\tconst newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\t\tmorphArray.push( newAttribute );\n\n\t\t\t}\n\n\t\t\tgeometry2.morphAttributes[ name ] = morphArray;\n\n\t\t}\n\n\t\tgeometry2.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tconst groups = this.groups;\n\n\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tconst group = groups[ i ];\n\t\t\tgeometry2.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\treturn geometry2;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'BufferGeometry',\n\t\t\t\tgenerator: 'BufferGeometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard BufferGeometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( Object.keys( this.userData ).length > 0 ) data.userData = this.userData;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tconst parameters = this.parameters;\n\n\t\t\tfor ( const key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\t// for simplicity the code assumes attributes are not shared across geometries, see #15811\n\n\t\tdata.data = { attributes: {} };\n\n\t\tconst index = this.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tdata.data.index = {\n\t\t\t\ttype: index.array.constructor.name,\n\t\t\t\tarray: Array.prototype.slice.call( index.array )\n\t\t\t};\n\n\t\t}\n\n\t\tconst attributes = this.attributes;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\n\t\t\tdata.data.attributes[ key ] = attribute.toJSON( data.data );\n\n\t\t}\n\n\t\tconst morphAttributes = {};\n\t\tlet hasMorphAttributes = false;\n\n\t\tfor ( const key in this.morphAttributes ) {\n\n\t\t\tconst attributeArray = this.morphAttributes[ key ];\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\tconst attribute = attributeArray[ i ];\n\n\t\t\t\tarray.push( attribute.toJSON( data.data ) );\n\n\t\t\t}\n\n\t\t\tif ( array.length > 0 ) {\n\n\t\t\t\tmorphAttributes[ key ] = array;\n\n\t\t\t\thasMorphAttributes = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( hasMorphAttributes ) {\n\n\t\t\tdata.data.morphAttributes = morphAttributes;\n\t\t\tdata.data.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t}\n\n\t\tconst groups = this.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tdata.data.groups = JSON.parse( JSON.stringify( groups ) );\n\n\t\t}\n\n\t\tconst boundingSphere = this.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tdata.data.boundingSphere = {\n\t\t\t\tcenter: boundingSphere.center.toArray(),\n\t\t\t\tradius: boundingSphere.radius\n\t\t\t};\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tclone() {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t const parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t const values = [];\n\n\t\t for ( const key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t const geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new BufferGeometry().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\t// reset\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\t\tthis.morphAttributes = {};\n\t\tthis.groups = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// used for storing cloned, shared data\n\n\t\tconst data = {};\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// index\n\n\t\tconst index = source.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tthis.setIndex( index.clone( data ) );\n\n\t\t}\n\n\t\t// attributes\n\n\t\tconst attributes = source.attributes;\n\n\t\tfor ( const name in attributes ) {\n\n\t\t\tconst attribute = attributes[ name ];\n\t\t\tthis.setAttribute( name, attribute.clone( data ) );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tconst morphAttributes = source.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst array = [];\n\t\t\tconst morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( let i = 0, l = morphAttribute.length; i < l; i ++ ) {\n\n\t\t\t\tarray.push( morphAttribute[ i ].clone( data ) );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\tthis.morphTargetsRelative = source.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tconst groups = source.groups;\n\n\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tconst group = groups[ i ];\n\t\t\tthis.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tconst boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tconst boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// draw range\n\n\t\tthis.drawRange.start = source.drawRange.start;\n\t\tthis.drawRange.count = source.drawRange.count;\n\n\t\t// user data\n\n\t\tthis.userData = source.userData;\n\n\t\treturn this;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n}\n\nBufferGeometry.prototype.isBufferGeometry = true;\n\nconst _inverseMatrix$2 = /*@__PURE__*/ new Matrix4();\nconst _ray$2 = /*@__PURE__*/ new Ray();\nconst _sphere$3 = /*@__PURE__*/ new Sphere();\n\nconst _vA$1 = /*@__PURE__*/ new Vector3();\nconst _vB$1 = /*@__PURE__*/ new Vector3();\nconst _vC$1 = /*@__PURE__*/ new Vector3();\n\nconst _tempA = /*@__PURE__*/ new Vector3();\nconst _tempB = /*@__PURE__*/ new Vector3();\nconst _tempC = /*@__PURE__*/ new Vector3();\n\nconst _morphA = /*@__PURE__*/ new Vector3();\nconst _morphB = /*@__PURE__*/ new Vector3();\nconst _morphC = /*@__PURE__*/ new Vector3();\n\nconst _uvA$1 = /*@__PURE__*/ new Vector2();\nconst _uvB$1 = /*@__PURE__*/ new Vector2();\nconst _uvC$1 = /*@__PURE__*/ new Vector2();\n\nconst _intersectionPoint = /*@__PURE__*/ new Vector3();\nconst _intersectionPointWorld = /*@__PURE__*/ new Vector3();\n\nclass Mesh extends Object3D {\n\n\tconstructor( geometry = new BufferGeometry(), material = new MeshBasicMaterial() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Mesh';\n\n\t\tthis.geometry = geometry;\n\t\tthis.material = material;\n\n\t\tthis.updateMorphTargets();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tif ( source.morphTargetInfluences !== undefined ) {\n\n\t\t\tthis.morphTargetInfluences = source.morphTargetInfluences.slice();\n\n\t\t}\n\n\t\tif ( source.morphTargetDictionary !== undefined ) {\n\n\t\t\tthis.morphTargetDictionary = Object.assign( {}, source.morphTargetDictionary );\n\n\t\t}\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\t\t\tconst keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst material = this.material;\n\t\tconst matrixWorld = this.matrixWorld;\n\n\t\tif ( material === undefined ) return;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$3.copy( geometry.boundingSphere );\n\t\t_sphere$3.applyMatrix4( matrixWorld );\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$3 ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix$2.copy( matrixWorld ).invert();\n\t\t_ray$2.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$2 );\n\n\t\t// Check boundingBox before continuing\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tif ( _ray$2.intersectsBox( geometry.boundingBox ) === false ) return;\n\n\t\t}\n\n\t\tlet intersection;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst index = geometry.index;\n\t\t\tconst position = geometry.attributes.position;\n\t\t\tconst morphPosition = geometry.morphAttributes.position;\n\t\t\tconst morphTargetsRelative = geometry.morphTargetsRelative;\n\t\t\tconst uv = geometry.attributes.uv;\n\t\t\tconst uv2 = geometry.attributes.uv2;\n\t\t\tconst groups = geometry.groups;\n\t\t\tconst drawRange = geometry.drawRange;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\t// indexed buffer geometry\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( let i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tconst start = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\tconst end = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( let j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\tconst a = index.getX( j );\n\t\t\t\t\t\t\tconst b = index.getX( j + 1 );\n\t\t\t\t\t\t\tconst c = index.getX( j + 2 );\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\tfor ( let i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\tconst a = index.getX( i );\n\t\t\t\t\t\tconst b = index.getX( i + 1 );\n\t\t\t\t\t\tconst c = index.getX( i + 2 );\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( position !== undefined ) {\n\n\t\t\t\t// non-indexed buffer geometry\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( let i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tconst start = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\tconst end = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( let j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\tconst a = j;\n\t\t\t\t\t\t\tconst b = j + 1;\n\t\t\t\t\t\t\tconst c = j + 2;\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\t\tconst end = Math.min( position.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\tfor ( let i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\tconst a = i;\n\t\t\t\t\t\tconst b = i + 1;\n\t\t\t\t\t\tconst c = i + 2;\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray$2, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconsole.error( 'THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t}\n\n}\n\nMesh.prototype.isMesh = true;\n\nfunction checkIntersection( object, material, raycaster, ray, pA, pB, pC, point ) {\n\n\tlet intersect;\n\n\tif ( material.side === BackSide ) {\n\n\t\tintersect = ray.intersectTriangle( pC, pB, pA, true, point );\n\n\t} else {\n\n\t\tintersect = ray.intersectTriangle( pA, pB, pC, material.side !== DoubleSide, point );\n\n\t}\n\n\tif ( intersect === null ) return null;\n\n\t_intersectionPointWorld.copy( point );\n\t_intersectionPointWorld.applyMatrix4( object.matrixWorld );\n\n\tconst distance = raycaster.ray.origin.distanceTo( _intersectionPointWorld );\n\n\tif ( distance < raycaster.near || distance > raycaster.far ) return null;\n\n\treturn {\n\t\tdistance: distance,\n\t\tpoint: _intersectionPointWorld.clone(),\n\t\tobject: object\n\t};\n\n}\n\nfunction checkBufferGeometryIntersection( object, material, raycaster, ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c ) {\n\n\t_vA$1.fromBufferAttribute( position, a );\n\t_vB$1.fromBufferAttribute( position, b );\n\t_vC$1.fromBufferAttribute( position, c );\n\n\tconst morphInfluences = object.morphTargetInfluences;\n\n\tif ( morphPosition && morphInfluences ) {\n\n\t\t_morphA.set( 0, 0, 0 );\n\t\t_morphB.set( 0, 0, 0 );\n\t\t_morphC.set( 0, 0, 0 );\n\n\t\tfor ( let i = 0, il = morphPosition.length; i < il; i ++ ) {\n\n\t\t\tconst influence = morphInfluences[ i ];\n\t\t\tconst morphAttribute = morphPosition[ i ];\n\n\t\t\tif ( influence === 0 ) continue;\n\n\t\t\t_tempA.fromBufferAttribute( morphAttribute, a );\n\t\t\t_tempB.fromBufferAttribute( morphAttribute, b );\n\t\t\t_tempC.fromBufferAttribute( morphAttribute, c );\n\n\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t_morphA.addScaledVector( _tempA, influence );\n\t\t\t\t_morphB.addScaledVector( _tempB, influence );\n\t\t\t\t_morphC.addScaledVector( _tempC, influence );\n\n\t\t\t} else {\n\n\t\t\t\t_morphA.addScaledVector( _tempA.sub( _vA$1 ), influence );\n\t\t\t\t_morphB.addScaledVector( _tempB.sub( _vB$1 ), influence );\n\t\t\t\t_morphC.addScaledVector( _tempC.sub( _vC$1 ), influence );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_vA$1.add( _morphA );\n\t\t_vB$1.add( _morphB );\n\t\t_vC$1.add( _morphC );\n\n\t}\n\n\tif ( object.isSkinnedMesh ) {\n\n\t\tobject.boneTransform( a, _vA$1 );\n\t\tobject.boneTransform( b, _vB$1 );\n\t\tobject.boneTransform( c, _vC$1 );\n\n\t}\n\n\tconst intersection = checkIntersection( object, material, raycaster, ray, _vA$1, _vB$1, _vC$1, _intersectionPoint );\n\n\tif ( intersection ) {\n\n\t\tif ( uv ) {\n\n\t\t\t_uvA$1.fromBufferAttribute( uv, a );\n\t\t\t_uvB$1.fromBufferAttribute( uv, b );\n\t\t\t_uvC$1.fromBufferAttribute( uv, c );\n\n\t\t\tintersection.uv = Triangle.getUV( _intersectionPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2() );\n\n\t\t}\n\n\t\tif ( uv2 ) {\n\n\t\t\t_uvA$1.fromBufferAttribute( uv2, a );\n\t\t\t_uvB$1.fromBufferAttribute( uv2, b );\n\t\t\t_uvC$1.fromBufferAttribute( uv2, c );\n\n\t\t\tintersection.uv2 = Triangle.getUV( _intersectionPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2() );\n\n\t\t}\n\n\t\tconst face = {\n\t\t\ta: a,\n\t\t\tb: b,\n\t\t\tc: c,\n\t\t\tnormal: new Vector3(),\n\t\t\tmaterialIndex: 0\n\t\t};\n\n\t\tTriangle.getNormal( _vA$1, _vB$1, _vC$1, face.normal );\n\n\t\tintersection.face = face;\n\n\t}\n\n\treturn intersection;\n\n}\n\nclass BoxGeometry extends BufferGeometry {\n\n\tconstructor( width = 1, height = 1, depth = 1, widthSegments = 1, heightSegments = 1, depthSegments = 1 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'BoxGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\tdepth: depth,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tdepthSegments: depthSegments\n\t\t};\n\n\t\tconst scope = this;\n\n\t\t// segments\n\n\t\twidthSegments = Math.floor( widthSegments );\n\t\theightSegments = Math.floor( heightSegments );\n\t\tdepthSegments = Math.floor( depthSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet numberOfVertices = 0;\n\t\tlet groupStart = 0;\n\n\t\t// build each side of the box geometry\n\n\t\tbuildPlane( 'z', 'y', 'x', - 1, - 1, depth, height, width, depthSegments, heightSegments, 0 ); // px\n\t\tbuildPlane( 'z', 'y', 'x', 1, - 1, depth, height, - width, depthSegments, heightSegments, 1 ); // nx\n\t\tbuildPlane( 'x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2 ); // py\n\t\tbuildPlane( 'x', 'z', 'y', 1, - 1, width, depth, - height, widthSegments, depthSegments, 3 ); // ny\n\t\tbuildPlane( 'x', 'y', 'z', 1, - 1, width, height, depth, widthSegments, heightSegments, 4 ); // pz\n\t\tbuildPlane( 'x', 'y', 'z', - 1, - 1, width, height, - depth, widthSegments, heightSegments, 5 ); // nz\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\tfunction buildPlane( u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex ) {\n\n\t\t\tconst segmentWidth = width / gridX;\n\t\t\tconst segmentHeight = height / gridY;\n\n\t\t\tconst widthHalf = width / 2;\n\t\t\tconst heightHalf = height / 2;\n\t\t\tconst depthHalf = depth / 2;\n\n\t\t\tconst gridX1 = gridX + 1;\n\t\t\tconst gridY1 = gridY + 1;\n\n\t\t\tlet vertexCounter = 0;\n\t\t\tlet groupCount = 0;\n\n\t\t\tconst vector = new Vector3();\n\n\t\t\t// generate vertices, normals and uvs\n\n\t\t\tfor ( let iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\t\tconst y = iy * segmentHeight - heightHalf;\n\n\t\t\t\tfor ( let ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\t\tconst x = ix * segmentWidth - widthHalf;\n\n\t\t\t\t\t// set values to correct vector component\n\n\t\t\t\t\tvector[ u ] = x * udir;\n\t\t\t\t\tvector[ v ] = y * vdir;\n\t\t\t\t\tvector[ w ] = depthHalf;\n\n\t\t\t\t\t// now apply vector to vertex buffer\n\n\t\t\t\t\tvertices.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t\t// set values to correct vector component\n\n\t\t\t\t\tvector[ u ] = 0;\n\t\t\t\t\tvector[ v ] = 0;\n\t\t\t\t\tvector[ w ] = depth > 0 ? 1 : - 1;\n\n\t\t\t\t\t// now apply vector to normal buffer\n\n\t\t\t\t\tnormals.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t\t// uvs\n\n\t\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t\t\t// counters\n\n\t\t\t\t\tvertexCounter += 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// indices\n\n\t\t\t// 1. you need three indices to draw a single face\n\t\t\t// 2. a single segment consists of two faces\n\t\t\t// 3. so we need to generate six (2*3) indices per segment\n\n\t\t\tfor ( let iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\t\tfor ( let ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\t\tconst a = numberOfVertices + ix + gridX1 * iy;\n\t\t\t\t\tconst b = numberOfVertices + ix + gridX1 * ( iy + 1 );\n\t\t\t\t\tconst c = numberOfVertices + ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\t\tconst d = numberOfVertices + ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t\t// increase counter\n\n\t\t\t\t\tgroupCount += 6;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, materialIndex );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t\t// update total number of vertices\n\n\t\t\tnumberOfVertices += vertexCounter;\n\n\t\t}\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new BoxGeometry( data.width, data.height, data.depth, data.widthSegments, data.heightSegments, data.depthSegments );\n\n\t}\n\n}\n\n/**\n * Uniform Utilities\n */\n\nfunction cloneUniforms( src ) {\n\n\tconst dst = {};\n\n\tfor ( const u in src ) {\n\n\t\tdst[ u ] = {};\n\n\t\tfor ( const p in src[ u ] ) {\n\n\t\t\tconst property = src[ u ][ p ];\n\n\t\t\tif ( property && ( property.isColor ||\n\t\t\t\tproperty.isMatrix3 || property.isMatrix4 ||\n\t\t\t\tproperty.isVector2 || property.isVector3 || property.isVector4 ||\n\t\t\t\tproperty.isTexture || property.isQuaternion ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.clone();\n\n\t\t\t} else if ( Array.isArray( property ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.slice();\n\n\t\t\t} else {\n\n\t\t\t\tdst[ u ][ p ] = property;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn dst;\n\n}\n\nfunction mergeUniforms( uniforms ) {\n\n\tconst merged = {};\n\n\tfor ( let u = 0; u < uniforms.length; u ++ ) {\n\n\t\tconst tmp = cloneUniforms( uniforms[ u ] );\n\n\t\tfor ( const p in tmp ) {\n\n\t\t\tmerged[ p ] = tmp[ p ];\n\n\t\t}\n\n\t}\n\n\treturn merged;\n\n}\n\n// Legacy\n\nconst UniformsUtils = { clone: cloneUniforms, merge: mergeUniforms };\n\nvar default_vertex = \"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\";\n\nvar default_fragment = \"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\";\n\n/**\n * parameters = {\n *  defines: { \"label\" : \"value\" },\n *  uniforms: { \"parameter1\": { value: 1.0 }, \"parameter2\": { value2: 2 } },\n *\n *  fragmentShader: <string>,\n *  vertexShader: <string>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  lights: <bool>\n * }\n */\n\nclass ShaderMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ShaderMaterial';\n\n\t\tthis.defines = {};\n\t\tthis.uniforms = {};\n\n\t\tthis.vertexShader = default_vertex;\n\t\tthis.fragmentShader = default_fragment;\n\n\t\tthis.linewidth = 1;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\n\t\tthis.fog = false; // set to use scene fog\n\t\tthis.lights = false; // set to use scene lights\n\t\tthis.clipping = false; // set to use user-defined clipping planes\n\n\t\tthis.extensions = {\n\t\t\tderivatives: false, // set to use derivatives\n\t\t\tfragDepth: false, // set to use fragment depth values\n\t\t\tdrawBuffers: false, // set to use draw buffers\n\t\t\tshaderTextureLOD: false // set to use shader texture LOD\n\t\t};\n\n\t\t// When rendered geometry doesn't include these attributes but the material does,\n\t\t// use these default values in WebGL. This avoids errors when buffer data is missing.\n\t\tthis.defaultAttributeValues = {\n\t\t\t'color': [ 1, 1, 1 ],\n\t\t\t'uv': [ 0, 0 ],\n\t\t\t'uv2': [ 0, 0 ]\n\t\t};\n\n\t\tthis.index0AttributeName = undefined;\n\t\tthis.uniformsNeedUpdate = false;\n\n\t\tthis.glslVersion = null;\n\n\t\tif ( parameters !== undefined ) {\n\n\t\t\tif ( parameters.attributes !== undefined ) {\n\n\t\t\t\tconsole.error( 'THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t\tthis.setValues( parameters );\n\n\t\t}\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.fragmentShader = source.fragmentShader;\n\t\tthis.vertexShader = source.vertexShader;\n\n\t\tthis.uniforms = cloneUniforms( source.uniforms );\n\n\t\tthis.defines = Object.assign( {}, source.defines );\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\t\tthis.lights = source.lights;\n\t\tthis.clipping = source.clipping;\n\n\t\tthis.extensions = Object.assign( {}, source.extensions );\n\n\t\tthis.glslVersion = source.glslVersion;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.glslVersion = this.glslVersion;\n\t\tdata.uniforms = {};\n\n\t\tfor ( const name in this.uniforms ) {\n\n\t\t\tconst uniform = this.uniforms[ name ];\n\t\t\tconst value = uniform.value;\n\n\t\t\tif ( value && value.isTexture ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 't',\n\t\t\t\t\tvalue: value.toJSON( meta ).uuid\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isColor ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'c',\n\t\t\t\t\tvalue: value.getHex()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isVector2 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'v2',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isVector3 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'v3',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isVector4 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'v4',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isMatrix3 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'm3',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else if ( value && value.isMatrix4 ) {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\ttype: 'm4',\n\t\t\t\t\tvalue: value.toArray()\n\t\t\t\t};\n\n\t\t\t} else {\n\n\t\t\t\tdata.uniforms[ name ] = {\n\t\t\t\t\tvalue: value\n\t\t\t\t};\n\n\t\t\t\t// note: the array variants v2v, v3v, v4v, m4v and tv are not supported so far\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( Object.keys( this.defines ).length > 0 ) data.defines = this.defines;\n\n\t\tdata.vertexShader = this.vertexShader;\n\t\tdata.fragmentShader = this.fragmentShader;\n\n\t\tconst extensions = {};\n\n\t\tfor ( const key in this.extensions ) {\n\n\t\t\tif ( this.extensions[ key ] === true ) extensions[ key ] = true;\n\n\t\t}\n\n\t\tif ( Object.keys( extensions ).length > 0 ) data.extensions = extensions;\n\n\t\treturn data;\n\n\t}\n\n}\n\nShaderMaterial.prototype.isShaderMaterial = true;\n\nclass Camera extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'Camera';\n\n\t\tthis.matrixWorldInverse = new Matrix4();\n\n\t\tthis.projectionMatrix = new Matrix4();\n\t\tthis.projectionMatrixInverse = new Matrix4();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.matrixWorldInverse.copy( source.matrixWorldInverse );\n\n\t\tthis.projectionMatrix.copy( source.projectionMatrix );\n\t\tthis.projectionMatrixInverse.copy( source.projectionMatrixInverse );\n\n\t\treturn this;\n\n\t}\n\n\tgetWorldDirection( target ) {\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\tconst e = this.matrixWorld.elements;\n\n\t\treturn target.set( - e[ 8 ], - e[ 9 ], - e[ 10 ] ).normalize();\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tthis.matrixWorldInverse.copy( this.matrixWorld ).invert();\n\n\t}\n\n\tupdateWorldMatrix( updateParents, updateChildren ) {\n\n\t\tsuper.updateWorldMatrix( updateParents, updateChildren );\n\n\t\tthis.matrixWorldInverse.copy( this.matrixWorld ).invert();\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nCamera.prototype.isCamera = true;\n\nclass PerspectiveCamera extends Camera {\n\n\tconstructor( fov = 50, aspect = 1, near = 0.1, far = 2000 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'PerspectiveCamera';\n\n\t\tthis.fov = fov;\n\t\tthis.zoom = 1;\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\t\tthis.focus = 10;\n\n\t\tthis.aspect = aspect;\n\t\tthis.view = null;\n\n\t\tthis.filmGauge = 35;\t// width of the film (default in millimeters)\n\t\tthis.filmOffset = 0;\t// horizontal film offset (same unit as gauge)\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.fov = source.fov;\n\t\tthis.zoom = source.zoom;\n\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\t\tthis.focus = source.focus;\n\n\t\tthis.aspect = source.aspect;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\tthis.filmGauge = source.filmGauge;\n\t\tthis.filmOffset = source.filmOffset;\n\n\t\treturn this;\n\n\t}\n\n\t/**\n\t * Sets the FOV by focal length in respect to the current .filmGauge.\n\t *\n\t * The default film gauge is 35, so that the focal length can be specified for\n\t * a 35mm (full frame) camera.\n\t *\n\t * Values for focal length and film gauge must have the same unit.\n\t */\n\tsetFocalLength( focalLength ) {\n\n\t\t/** see {@link http://www.bobatkins.com/photography/technical/field_of_view.html} */\n\t\tconst vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n\n\t\tthis.fov = RAD2DEG * 2 * Math.atan( vExtentSlope );\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\t/**\n\t * Calculates the focal length from the current .fov and .filmGauge.\n\t */\n\tgetFocalLength() {\n\n\t\tconst vExtentSlope = Math.tan( DEG2RAD * 0.5 * this.fov );\n\n\t\treturn 0.5 * this.getFilmHeight() / vExtentSlope;\n\n\t}\n\n\tgetEffectiveFOV() {\n\n\t\treturn RAD2DEG * 2 * Math.atan(\n\t\t\tMath.tan( DEG2RAD * 0.5 * this.fov ) / this.zoom );\n\n\t}\n\n\tgetFilmWidth() {\n\n\t\t// film not completely covered in portrait format (aspect < 1)\n\t\treturn this.filmGauge * Math.min( this.aspect, 1 );\n\n\t}\n\n\tgetFilmHeight() {\n\n\t\t// film not completely covered in landscape format (aspect > 1)\n\t\treturn this.filmGauge / Math.max( this.aspect, 1 );\n\n\t}\n\n\t/**\n\t * Sets an offset in a larger frustum. This is useful for multi-window or\n\t * multi-monitor/multi-machine setups.\n\t *\n\t * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n\t * the monitors are in grid like this\n\t *\n\t *   +---+---+---+\n\t *   | A | B | C |\n\t *   +---+---+---+\n\t *   | D | E | F |\n\t *   +---+---+---+\n\t *\n\t * then for each monitor you would call it like this\n\t *\n\t *   const w = 1920;\n\t *   const h = 1080;\n\t *   const fullWidth = w * 3;\n\t *   const fullHeight = h * 2;\n\t *\n\t *   --A--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n\t *   --B--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n\t *   --C--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n\t *   --D--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n\t *   --E--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n\t *   --F--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n\t *\n\t *   Note there is no reason monitors have to be the same size or in a grid.\n\t */\n\tsetViewOffset( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tthis.aspect = fullWidth / fullHeight;\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tclearViewOffset() {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tupdateProjectionMatrix() {\n\n\t\tconst near = this.near;\n\t\tlet top = near * Math.tan( DEG2RAD * 0.5 * this.fov ) / this.zoom;\n\t\tlet height = 2 * top;\n\t\tlet width = this.aspect * height;\n\t\tlet left = - 0.5 * width;\n\t\tconst view = this.view;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tconst fullWidth = view.fullWidth,\n\t\t\t\tfullHeight = view.fullHeight;\n\n\t\t\tleft += view.offsetX * width / fullWidth;\n\t\t\ttop -= view.offsetY * height / fullHeight;\n\t\t\twidth *= view.width / fullWidth;\n\t\t\theight *= view.height / fullHeight;\n\n\t\t}\n\n\t\tconst skew = this.filmOffset;\n\t\tif ( skew !== 0 ) left += near * skew / this.getFilmWidth();\n\n\t\tthis.projectionMatrix.makePerspective( left, left + width, top, top - height, near, this.far );\n\n\t\tthis.projectionMatrixInverse.copy( this.projectionMatrix ).invert();\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.fov = this.fov;\n\t\tdata.object.zoom = this.zoom;\n\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\t\tdata.object.focus = this.focus;\n\n\t\tdata.object.aspect = this.aspect;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\tdata.object.filmGauge = this.filmGauge;\n\t\tdata.object.filmOffset = this.filmOffset;\n\n\t\treturn data;\n\n\t}\n\n}\n\nPerspectiveCamera.prototype.isPerspectiveCamera = true;\n\nconst fov = 90, aspect = 1;\n\nclass CubeCamera extends Object3D {\n\n\tconstructor( near, far, renderTarget ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CubeCamera';\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget !== true ) {\n\n\t\t\tconsole.error( 'THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.renderTarget = renderTarget;\n\n\t\tconst cameraPX = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraPX.layers = this.layers;\n\t\tcameraPX.up.set( 0, - 1, 0 );\n\t\tcameraPX.lookAt( new Vector3( 1, 0, 0 ) );\n\t\tthis.add( cameraPX );\n\n\t\tconst cameraNX = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraNX.layers = this.layers;\n\t\tcameraNX.up.set( 0, - 1, 0 );\n\t\tcameraNX.lookAt( new Vector3( - 1, 0, 0 ) );\n\t\tthis.add( cameraNX );\n\n\t\tconst cameraPY = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraPY.layers = this.layers;\n\t\tcameraPY.up.set( 0, 0, 1 );\n\t\tcameraPY.lookAt( new Vector3( 0, 1, 0 ) );\n\t\tthis.add( cameraPY );\n\n\t\tconst cameraNY = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraNY.layers = this.layers;\n\t\tcameraNY.up.set( 0, 0, - 1 );\n\t\tcameraNY.lookAt( new Vector3( 0, - 1, 0 ) );\n\t\tthis.add( cameraNY );\n\n\t\tconst cameraPZ = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraPZ.layers = this.layers;\n\t\tcameraPZ.up.set( 0, - 1, 0 );\n\t\tcameraPZ.lookAt( new Vector3( 0, 0, 1 ) );\n\t\tthis.add( cameraPZ );\n\n\t\tconst cameraNZ = new PerspectiveCamera( fov, aspect, near, far );\n\t\tcameraNZ.layers = this.layers;\n\t\tcameraNZ.up.set( 0, - 1, 0 );\n\t\tcameraNZ.lookAt( new Vector3( 0, 0, - 1 ) );\n\t\tthis.add( cameraNZ );\n\n\t}\n\n\tupdate( renderer, scene ) {\n\n\t\tif ( this.parent === null ) this.updateMatrixWorld();\n\n\t\tconst renderTarget = this.renderTarget;\n\n\t\tconst [ cameraPX, cameraNX, cameraPY, cameraNY, cameraPZ, cameraNZ ] = this.children;\n\n\t\tconst currentXrEnabled = renderer.xr.enabled;\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\trenderer.xr.enabled = false;\n\n\t\tconst generateMipmaps = renderTarget.texture.generateMipmaps;\n\n\t\trenderTarget.texture.generateMipmaps = false;\n\n\t\trenderer.setRenderTarget( renderTarget, 0 );\n\t\trenderer.render( scene, cameraPX );\n\n\t\trenderer.setRenderTarget( renderTarget, 1 );\n\t\trenderer.render( scene, cameraNX );\n\n\t\trenderer.setRenderTarget( renderTarget, 2 );\n\t\trenderer.render( scene, cameraPY );\n\n\t\trenderer.setRenderTarget( renderTarget, 3 );\n\t\trenderer.render( scene, cameraNY );\n\n\t\trenderer.setRenderTarget( renderTarget, 4 );\n\t\trenderer.render( scene, cameraPZ );\n\n\t\trenderTarget.texture.generateMipmaps = generateMipmaps;\n\n\t\trenderer.setRenderTarget( renderTarget, 5 );\n\t\trenderer.render( scene, cameraNZ );\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t\trenderer.xr.enabled = currentXrEnabled;\n\n\t}\n\n}\n\nclass CubeTexture extends Texture {\n\n\tconstructor( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\t\timages = images !== undefined ? images : [];\n\t\tmapping = mapping !== undefined ? mapping : CubeReflectionMapping;\n\t\tformat = format !== undefined ? format : RGBFormat$1;\n\n\t\tsuper( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\t\tthis.flipY = false;\n\n\t}\n\n\tget images() {\n\n\t\treturn this.image;\n\n\t}\n\n\tset images( value ) {\n\n\t\tthis.image = value;\n\n\t}\n\n}\n\nCubeTexture.prototype.isCubeTexture = true;\n\nclass WebGLCubeRenderTarget extends WebGLRenderTarget {\n\n\tconstructor( size, options, dummy ) {\n\n\t\tif ( Number.isInteger( options ) ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )' );\n\n\t\t\toptions = dummy;\n\n\t\t}\n\n\t\tsuper( size, size, options );\n\n\t\toptions = options || {};\n\n\t\t// By convention -- likely based on the RenderMan spec from the 1990's -- cube maps are specified by WebGL (and three.js)\n\t\t// in a coordinate system in which positive-x is to the right when looking up the positive-z axis -- in other words,\n\t\t// in a left-handed coordinate system. By continuing this convention, preexisting cube maps continued to render correctly.\n\n\t\t// three.js uses a right-handed coordinate system. So environment maps used in three.js appear to have px and nx swapped\n\t\t// and the flag isRenderTargetTexture controls this conversion. The flip is not required when using WebGLCubeRenderTarget.texture\n\t\t// as a cube texture (this is detected when isRenderTargetTexture is set to true for cube textures).\n\n\t\tthis.texture = new CubeTexture( undefined, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\t\tthis.texture.isRenderTargetTexture = true;\n\n\t\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\t\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n\t\tthis.texture._needsFlipEnvMap = false;\n\n\t}\n\n\tfromEquirectangularTexture( renderer, texture ) {\n\n\t\tthis.texture.type = texture.type;\n\t\tthis.texture.format = RGBAFormat; // see #18859\n\t\tthis.texture.encoding = texture.encoding;\n\n\t\tthis.texture.generateMipmaps = texture.generateMipmaps;\n\t\tthis.texture.minFilter = texture.minFilter;\n\t\tthis.texture.magFilter = texture.magFilter;\n\n\t\tconst shader = {\n\n\t\t\tuniforms: {\n\t\t\t\ttEquirect: { value: null },\n\t\t\t},\n\n\t\t\tvertexShader: /* glsl */`\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t`,\n\n\t\t\tfragmentShader: /* glsl */`\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t`\n\t\t};\n\n\t\tconst geometry = new BoxGeometry( 5, 5, 5 );\n\n\t\tconst material = new ShaderMaterial( {\n\n\t\t\tname: 'CubemapFromEquirect',\n\n\t\t\tuniforms: cloneUniforms( shader.uniforms ),\n\t\t\tvertexShader: shader.vertexShader,\n\t\t\tfragmentShader: shader.fragmentShader,\n\t\t\tside: BackSide,\n\t\t\tblending: NoBlending\n\n\t\t} );\n\n\t\tmaterial.uniforms.tEquirect.value = texture;\n\n\t\tconst mesh = new Mesh( geometry, material );\n\n\t\tconst currentMinFilter = texture.minFilter;\n\n\t\t// Avoid blurred poles\n\t\tif ( texture.minFilter === LinearMipmapLinearFilter ) texture.minFilter = LinearFilter;\n\n\t\tconst camera = new CubeCamera( 1, 10, this );\n\t\tcamera.update( renderer, mesh );\n\n\t\ttexture.minFilter = currentMinFilter;\n\n\t\tmesh.geometry.dispose();\n\t\tmesh.material.dispose();\n\n\t\treturn this;\n\n\t}\n\n\tclear( renderer, color, depth, stencil ) {\n\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\trenderer.setRenderTarget( this, i );\n\n\t\t\trenderer.clear( color, depth, stencil );\n\n\t\t}\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t}\n\n}\n\nWebGLCubeRenderTarget.prototype.isWebGLCubeRenderTarget = true;\n\nconst _vector1 = /*@__PURE__*/ new Vector3();\nconst _vector2 = /*@__PURE__*/ new Vector3();\nconst _normalMatrix = /*@__PURE__*/ new Matrix3();\n\nclass Plane {\n\n\tconstructor( normal = new Vector3( 1, 0, 0 ), constant = 0 ) {\n\n\t\t// normal is assumed to be normalized\n\n\t\tthis.normal = normal;\n\t\tthis.constant = constant;\n\n\t}\n\n\tset( normal, constant ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = constant;\n\n\t\treturn this;\n\n\t}\n\n\tsetComponents( x, y, z, w ) {\n\n\t\tthis.normal.set( x, y, z );\n\t\tthis.constant = w;\n\n\t\treturn this;\n\n\t}\n\n\tsetFromNormalAndCoplanarPoint( normal, point ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = - point.dot( this.normal );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCoplanarPoints( a, b, c ) {\n\n\t\tconst normal = _vector1.subVectors( c, b ).cross( _vector2.subVectors( a, b ) ).normalize();\n\n\t\t// Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n\t\tthis.setFromNormalAndCoplanarPoint( normal, a );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( plane ) {\n\n\t\tthis.normal.copy( plane.normal );\n\t\tthis.constant = plane.constant;\n\n\t\treturn this;\n\n\t}\n\n\tnormalize() {\n\n\t\t// Note: will lead to a divide by zero if the plane is invalid.\n\n\t\tconst inverseNormalLength = 1.0 / this.normal.length();\n\t\tthis.normal.multiplyScalar( inverseNormalLength );\n\t\tthis.constant *= inverseNormalLength;\n\n\t\treturn this;\n\n\t}\n\n\tnegate() {\n\n\t\tthis.constant *= - 1;\n\t\tthis.normal.negate();\n\n\t\treturn this;\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\treturn this.normal.dot( point ) + this.constant;\n\n\t}\n\n\tdistanceToSphere( sphere ) {\n\n\t\treturn this.distanceToPoint( sphere.center ) - sphere.radius;\n\n\t}\n\n\tprojectPoint( point, target ) {\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.distanceToPoint( point ) ).add( point );\n\n\t}\n\n\tintersectLine( line, target ) {\n\n\t\tconst direction = line.delta( _vector1 );\n\n\t\tconst denominator = this.normal.dot( direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( this.distanceToPoint( line.start ) === 0 ) {\n\n\t\t\t\treturn target.copy( line.start );\n\n\t\t\t}\n\n\t\t\t// Unsure if this is the correct method to handle this case.\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst t = - ( line.start.dot( this.normal ) + this.constant ) / denominator;\n\n\t\tif ( t < 0 || t > 1 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn target.copy( direction ).multiplyScalar( t ).add( line.start );\n\n\t}\n\n\tintersectsLine( line ) {\n\n\t\t// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n\n\t\tconst startSign = this.distanceToPoint( line.start );\n\t\tconst endSign = this.distanceToPoint( line.end );\n\n\t\treturn ( startSign < 0 && endSign > 0 ) || ( endSign < 0 && startSign > 0 );\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\treturn box.intersectsPlane( this );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\treturn sphere.intersectsPlane( this );\n\n\t}\n\n\tcoplanarPoint( target ) {\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.constant );\n\n\t}\n\n\tapplyMatrix4( matrix, optionalNormalMatrix ) {\n\n\t\tconst normalMatrix = optionalNormalMatrix || _normalMatrix.getNormalMatrix( matrix );\n\n\t\tconst referencePoint = this.coplanarPoint( _vector1 ).applyMatrix4( matrix );\n\n\t\tconst normal = this.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\tthis.constant = - referencePoint.dot( normal );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.constant -= offset.dot( this.normal );\n\n\t\treturn this;\n\n\t}\n\n\tequals( plane ) {\n\n\t\treturn plane.normal.equals( this.normal ) && ( plane.constant === this.constant );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nPlane.prototype.isPlane = true;\n\nconst _sphere$2 = /*@__PURE__*/ new Sphere();\nconst _vector$7 = /*@__PURE__*/ new Vector3();\n\nclass Frustum {\n\n\tconstructor( p0 = new Plane(), p1 = new Plane(), p2 = new Plane(), p3 = new Plane(), p4 = new Plane(), p5 = new Plane() ) {\n\n\t\tthis.planes = [ p0, p1, p2, p3, p4, p5 ];\n\n\t}\n\n\tset( p0, p1, p2, p3, p4, p5 ) {\n\n\t\tconst planes = this.planes;\n\n\t\tplanes[ 0 ].copy( p0 );\n\t\tplanes[ 1 ].copy( p1 );\n\t\tplanes[ 2 ].copy( p2 );\n\t\tplanes[ 3 ].copy( p3 );\n\t\tplanes[ 4 ].copy( p4 );\n\t\tplanes[ 5 ].copy( p5 );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( frustum ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tplanes[ i ].copy( frustum.planes[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromProjectionMatrix( m ) {\n\n\t\tconst planes = this.planes;\n\t\tconst me = m.elements;\n\t\tconst me0 = me[ 0 ], me1 = me[ 1 ], me2 = me[ 2 ], me3 = me[ 3 ];\n\t\tconst me4 = me[ 4 ], me5 = me[ 5 ], me6 = me[ 6 ], me7 = me[ 7 ];\n\t\tconst me8 = me[ 8 ], me9 = me[ 9 ], me10 = me[ 10 ], me11 = me[ 11 ];\n\t\tconst me12 = me[ 12 ], me13 = me[ 13 ], me14 = me[ 14 ], me15 = me[ 15 ];\n\n\t\tplanes[ 0 ].setComponents( me3 - me0, me7 - me4, me11 - me8, me15 - me12 ).normalize();\n\t\tplanes[ 1 ].setComponents( me3 + me0, me7 + me4, me11 + me8, me15 + me12 ).normalize();\n\t\tplanes[ 2 ].setComponents( me3 + me1, me7 + me5, me11 + me9, me15 + me13 ).normalize();\n\t\tplanes[ 3 ].setComponents( me3 - me1, me7 - me5, me11 - me9, me15 - me13 ).normalize();\n\t\tplanes[ 4 ].setComponents( me3 - me2, me7 - me6, me11 - me10, me15 - me14 ).normalize();\n\t\tplanes[ 5 ].setComponents( me3 + me2, me7 + me6, me11 + me10, me15 + me14 ).normalize();\n\n\t\treturn this;\n\n\t}\n\n\tintersectsObject( object ) {\n\n\t\tconst geometry = object.geometry;\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$2.copy( geometry.boundingSphere ).applyMatrix4( object.matrixWorld );\n\n\t\treturn this.intersectsSphere( _sphere$2 );\n\n\t}\n\n\tintersectsSprite( sprite ) {\n\n\t\t_sphere$2.center.set( 0, 0, 0 );\n\t\t_sphere$2.radius = 0.7071067811865476;\n\t\t_sphere$2.applyMatrix4( sprite.matrixWorld );\n\n\t\treturn this.intersectsSphere( _sphere$2 );\n\n\t}\n\n\tintersectsSphere( sphere ) {\n\n\t\tconst planes = this.planes;\n\t\tconst center = sphere.center;\n\t\tconst negRadius = - sphere.radius;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst distance = planes[ i ].distanceToPoint( center );\n\n\t\t\tif ( distance < negRadius ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst plane = planes[ i ];\n\n\t\t\t// corner at max distance\n\n\t\t\t_vector$7.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n\t\t\t_vector$7.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n\t\t\t_vector$7.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\n\t\t\tif ( plane.distanceToPoint( _vector$7 ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\tconst planes = this.planes;\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tif ( planes[ i ].distanceToPoint( point ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nfunction WebGLAnimation() {\n\n\tlet context = null;\n\tlet isAnimating = false;\n\tlet animationLoop = null;\n\tlet requestId = null;\n\n\tfunction onAnimationFrame( time, frame ) {\n\n\t\tanimationLoop( time, frame );\n\n\t\trequestId = context.requestAnimationFrame( onAnimationFrame );\n\n\t}\n\n\treturn {\n\n\t\tstart: function () {\n\n\t\t\tif ( isAnimating === true ) return;\n\t\t\tif ( animationLoop === null ) return;\n\n\t\t\trequestId = context.requestAnimationFrame( onAnimationFrame );\n\n\t\t\tisAnimating = true;\n\n\t\t},\n\n\t\tstop: function () {\n\n\t\t\tcontext.cancelAnimationFrame( requestId );\n\n\t\t\tisAnimating = false;\n\n\t\t},\n\n\t\tsetAnimationLoop: function ( callback ) {\n\n\t\t\tanimationLoop = callback;\n\n\t\t},\n\n\t\tsetContext: function ( value ) {\n\n\t\t\tcontext = value;\n\n\t\t}\n\n\t};\n\n}\n\nfunction WebGLAttributes( gl, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tconst buffers = new WeakMap();\n\n\tfunction createBuffer( attribute, bufferType ) {\n\n\t\tconst array = attribute.array;\n\t\tconst usage = attribute.usage;\n\n\t\tconst buffer = gl.createBuffer();\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\t\tgl.bufferData( bufferType, array, usage );\n\n\t\tattribute.onUploadCallback();\n\n\t\tlet type = 5126;\n\n\t\tif ( array instanceof Float32Array ) {\n\n\t\t\ttype = 5126;\n\n\t\t} else if ( array instanceof Float64Array ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.' );\n\n\t\t} else if ( array instanceof Uint16Array ) {\n\n\t\t\tif ( attribute.isFloat16BufferAttribute ) {\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\ttype = 5131;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\ttype = 5123;\n\n\t\t\t}\n\n\t\t} else if ( array instanceof Int16Array ) {\n\n\t\t\ttype = 5122;\n\n\t\t} else if ( array instanceof Uint32Array ) {\n\n\t\t\ttype = 5125;\n\n\t\t} else if ( array instanceof Int32Array ) {\n\n\t\t\ttype = 5124;\n\n\t\t} else if ( array instanceof Int8Array ) {\n\n\t\t\ttype = 5120;\n\n\t\t} else if ( array instanceof Uint8Array ) {\n\n\t\t\ttype = 5121;\n\n\t\t} else if ( array instanceof Uint8ClampedArray ) {\n\n\t\t\ttype = 5121;\n\n\t\t}\n\n\t\treturn {\n\t\t\tbuffer: buffer,\n\t\t\ttype: type,\n\t\t\tbytesPerElement: array.BYTES_PER_ELEMENT,\n\t\t\tversion: attribute.version\n\t\t};\n\n\t}\n\n\tfunction updateBuffer( buffer, attribute, bufferType ) {\n\n\t\tconst array = attribute.array;\n\t\tconst updateRange = attribute.updateRange;\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\n\t\tif ( updateRange.count === - 1 ) {\n\n\t\t\t// Not using update ranges\n\n\t\t\tgl.bufferSubData( bufferType, 0, array );\n\n\t\t} else {\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\t\tarray, updateRange.offset, updateRange.count );\n\n\t\t\t} else {\n\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\t\tarray.subarray( updateRange.offset, updateRange.offset + updateRange.count ) );\n\n\t\t\t}\n\n\t\t\tupdateRange.count = - 1; // reset range\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction get( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\treturn buffers.get( attribute );\n\n\t}\n\n\tfunction remove( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tconst data = buffers.get( attribute );\n\n\t\tif ( data ) {\n\n\t\t\tgl.deleteBuffer( data.buffer );\n\n\t\t\tbuffers.delete( attribute );\n\n\t\t}\n\n\t}\n\n\tfunction update( attribute, bufferType ) {\n\n\t\tif ( attribute.isGLBufferAttribute ) {\n\n\t\t\tconst cached = buffers.get( attribute );\n\n\t\t\tif ( ! cached || cached.version < attribute.version ) {\n\n\t\t\t\tbuffers.set( attribute, {\n\t\t\t\t\tbuffer: attribute.buffer,\n\t\t\t\t\ttype: attribute.type,\n\t\t\t\t\tbytesPerElement: attribute.elementSize,\n\t\t\t\t\tversion: attribute.version\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tconst data = buffers.get( attribute );\n\n\t\tif ( data === undefined ) {\n\n\t\t\tbuffers.set( attribute, createBuffer( attribute, bufferType ) );\n\n\t\t} else if ( data.version < attribute.version ) {\n\n\t\t\tupdateBuffer( data.buffer, attribute, bufferType );\n\n\t\t\tdata.version = attribute.version;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update\n\n\t};\n\n}\n\nclass PlaneGeometry extends BufferGeometry {\n\n\tconstructor( width = 1, height = 1, widthSegments = 1, heightSegments = 1 ) {\n\n\t\tsuper();\n\t\tthis.type = 'PlaneGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments\n\t\t};\n\n\t\tconst width_half = width / 2;\n\t\tconst height_half = height / 2;\n\n\t\tconst gridX = Math.floor( widthSegments );\n\t\tconst gridY = Math.floor( heightSegments );\n\n\t\tconst gridX1 = gridX + 1;\n\t\tconst gridY1 = gridY + 1;\n\n\t\tconst segment_width = width / gridX;\n\t\tconst segment_height = height / gridY;\n\n\t\t//\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\tfor ( let iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\tconst y = iy * segment_height - height_half;\n\n\t\t\tfor ( let ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\tconst x = ix * segment_width - width_half;\n\n\t\t\t\tvertices.push( x, - y, 0 );\n\n\t\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\tfor ( let ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\tconst a = ix + gridX1 * iy;\n\t\t\t\tconst b = ix + gridX1 * ( iy + 1 );\n\t\t\t\tconst c = ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\tconst d = ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new PlaneGeometry( data.width, data.height, data.widthSegments, data.heightSegments );\n\n\t}\n\n}\n\nvar alphamap_fragment = \"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\";\n\nvar alphamap_pars_fragment = \"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar alphatest_fragment = \"#ifdef USE_ALPHATEST\\n\\tif ( diffuseColor.a < alphaTest ) discard;\\n#endif\";\n\nvar alphatest_pars_fragment = \"#ifdef USE_ALPHATEST\\n\\tuniform float alphaTest;\\n#endif\";\n\nvar aomap_fragment = \"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\\n\\t#endif\\n#endif\";\n\nvar aomap_pars_fragment = \"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\";\n\nvar begin_vertex = \"vec3 transformed = vec3( position );\";\n\nvar beginnormal_vertex = \"vec3 objectNormal = vec3( normal );\\n#ifdef USE_TANGENT\\n\\tvec3 objectTangent = vec3( tangent.xyz );\\n#endif\";\n\nvar bsdfs = \"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\\n\\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\\n\\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\\n}\\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\\n\\tvec3 F = F_Schlick( f0, f90, dotVH );\\n\\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( V * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\treturn vec3( result );\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotVH = saturate( dot( geometry.viewDir, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\n#if defined( USE_SHEEN )\\nfloat D_Charlie( float roughness, float NoH ) {\\n\\tfloat invAlpha = 1.0 / roughness;\\n\\tfloat cos2h = NoH * NoH;\\n\\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\\n\\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\\n}\\nfloat V_Neubelt( float NoV, float NoL ) {\\n\\treturn saturate( 1.0 / ( 4.0 * ( NoL + NoV - NoL * NoV ) ) );\\n}\\nvec3 BRDF_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\\n\\tvec3 N = geometry.normal;\\n\\tvec3 V = geometry.viewDir;\\n\\tvec3 H = normalize( V + L );\\n\\tfloat dotNH = saturate( dot( N, H ) );\\n\\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\\n}\\n#endif\";\n\nvar bumpmap_pars_fragment = \"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\";\n\nvar clipping_planes_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvec4 plane;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t\\tif ( clipped ) discard;\\n\\t#endif\\n#endif\";\n\nvar clipping_planes_pars_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\";\n\nvar clipping_planes_pars_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvarying vec3 vClipPosition;\\n#endif\";\n\nvar clipping_planes_vertex = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvClipPosition = - mvPosition.xyz;\\n#endif\";\n\nvar color_fragment = \"#if defined( USE_COLOR_ALPHA )\\n\\tdiffuseColor *= vColor;\\n#elif defined( USE_COLOR )\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\";\n\nvar color_pars_fragment = \"#if defined( USE_COLOR_ALPHA )\\n\\tvarying vec4 vColor;\\n#elif defined( USE_COLOR )\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_pars_vertex = \"#if defined( USE_COLOR_ALPHA )\\n\\tvarying vec4 vColor;\\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_vertex = \"#if defined( USE_COLOR_ALPHA )\\n\\tvColor = vec4( 1.0 );\\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\\n\\tvColor = vec3( 1.0 );\\n#endif\\n#ifdef USE_COLOR\\n\\tvColor *= color;\\n#endif\\n#ifdef USE_INSTANCING_COLOR\\n\\tvColor.xyz *= instanceColor.xyz;\\n#endif\";\n\nvar common = \"#define PI 3.141592653589793\\n#define PI2 6.283185307179586\\n#define PI_HALF 1.5707963267948966\\n#define RECIPROCAL_PI 0.3183098861837907\\n#define RECIPROCAL_PI2 0.15915494309189535\\n#define EPSILON 1e-6\\n#ifndef saturate\\n#define saturate( a ) clamp( a, 0.0, 1.0 )\\n#endif\\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract( sin( sn ) * c );\\n}\\n#ifdef HIGH_PRECISION\\n\\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\\n#else\\n\\tfloat precisionSafeLength( vec3 v ) {\\n\\t\\tfloat maxComponent = max3( abs( v ) );\\n\\t\\treturn length( v / maxComponent ) * maxComponent;\\n\\t}\\n#endif\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n#ifdef USE_CLEARCOAT\\n\\tvec3 clearcoatNormal;\\n#endif\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\treturn dot( weights, color.rgb );\\n}\\nbool isPerspectiveMatrix( mat4 m ) {\\n\\treturn m[ 2 ][ 3 ] == - 1.0;\\n}\\nvec2 equirectUv( in vec3 dir ) {\\n\\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\treturn vec2( u, v );\\n}\";\n\nvar cube_uv_reflection_fragment = \"#ifdef ENVMAP_TYPE_CUBE_UV\\n\\t#define cubeUV_maxMipLevel 8.0\\n\\t#define cubeUV_minMipLevel 4.0\\n\\t#define cubeUV_maxTileSize 256.0\\n\\t#define cubeUV_minTileSize 16.0\\n\\tfloat getFace( vec3 direction ) {\\n\\t\\tvec3 absDirection = abs( direction );\\n\\t\\tfloat face = - 1.0;\\n\\t\\tif ( absDirection.x > absDirection.z ) {\\n\\t\\t\\tif ( absDirection.x > absDirection.y )\\n\\t\\t\\t\\tface = direction.x > 0.0 ? 0.0 : 3.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t} else {\\n\\t\\t\\tif ( absDirection.z > absDirection.y )\\n\\t\\t\\t\\tface = direction.z > 0.0 ? 2.0 : 5.0;\\n\\t\\t\\telse\\n\\t\\t\\t\\tface = direction.y > 0.0 ? 1.0 : 4.0;\\n\\t\\t}\\n\\t\\treturn face;\\n\\t}\\n\\tvec2 getUV( vec3 direction, float face ) {\\n\\t\\tvec2 uv;\\n\\t\\tif ( face == 0.0 ) {\\n\\t\\t\\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 1.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\\n\\t\\t} else if ( face == 2.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\\n\\t\\t} else if ( face == 3.0 ) {\\n\\t\\t\\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\\n\\t\\t} else if ( face == 4.0 ) {\\n\\t\\t\\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\\n\\t\\t} else {\\n\\t\\t\\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\\n\\t\\t}\\n\\t\\treturn 0.5 * ( uv + 1.0 );\\n\\t}\\n\\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\\n\\t\\tfloat face = getFace( direction );\\n\\t\\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\\n\\t\\tmipInt = max( mipInt, cubeUV_minMipLevel );\\n\\t\\tfloat faceSize = exp2( mipInt );\\n\\t\\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\\n\\t\\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\\n\\t\\tvec2 f = fract( uv );\\n\\t\\tuv += 0.5 - f;\\n\\t\\tif ( face > 2.0 ) {\\n\\t\\t\\tuv.y += faceSize;\\n\\t\\t\\tface -= 3.0;\\n\\t\\t}\\n\\t\\tuv.x += face * faceSize;\\n\\t\\tif ( mipInt < cubeUV_maxMipLevel ) {\\n\\t\\t\\tuv.y += 2.0 * cubeUV_maxTileSize;\\n\\t\\t}\\n\\t\\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\\n\\t\\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\\n\\t\\tuv *= texelSize;\\n\\t\\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.x += texelSize;\\n\\t\\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.y += texelSize;\\n\\t\\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tuv.x -= texelSize;\\n\\t\\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\\n\\t\\tvec3 tm = mix( tl, tr, f.x );\\n\\t\\tvec3 bm = mix( bl, br, f.x );\\n\\t\\treturn mix( tm, bm, f.y );\\n\\t}\\n\\t#define r0 1.0\\n\\t#define v0 0.339\\n\\t#define m0 - 2.0\\n\\t#define r1 0.8\\n\\t#define v1 0.276\\n\\t#define m1 - 1.0\\n\\t#define r4 0.4\\n\\t#define v4 0.046\\n\\t#define m4 2.0\\n\\t#define r5 0.305\\n\\t#define v5 0.016\\n\\t#define m5 3.0\\n\\t#define r6 0.21\\n\\t#define v6 0.0038\\n\\t#define m6 4.0\\n\\tfloat roughnessToMip( float roughness ) {\\n\\t\\tfloat mip = 0.0;\\n\\t\\tif ( roughness >= r1 ) {\\n\\t\\t\\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\\n\\t\\t} else if ( roughness >= r4 ) {\\n\\t\\t\\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\\n\\t\\t} else if ( roughness >= r5 ) {\\n\\t\\t\\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\\n\\t\\t} else if ( roughness >= r6 ) {\\n\\t\\t\\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\\n\\t\\t} else {\\n\\t\\t\\tmip = - 2.0 * log2( 1.16 * roughness );\\t\\t}\\n\\t\\treturn mip;\\n\\t}\\n\\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\\n\\t\\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\\n\\t\\tfloat mipF = fract( mip );\\n\\t\\tfloat mipInt = floor( mip );\\n\\t\\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\\n\\t\\tif ( mipF == 0.0 ) {\\n\\t\\t\\treturn vec4( color0, 1.0 );\\n\\t\\t} else {\\n\\t\\t\\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\\n\\t\\t\\treturn vec4( mix( color0, color1, mipF ), 1.0 );\\n\\t\\t}\\n\\t}\\n#endif\";\n\nvar defaultnormal_vertex = \"vec3 transformedNormal = objectNormal;\\n#ifdef USE_INSTANCING\\n\\tmat3 m = mat3( instanceMatrix );\\n\\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\\n\\ttransformedNormal = m * transformedNormal;\\n#endif\\ntransformedNormal = normalMatrix * transformedNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n#ifdef USE_TANGENT\\n\\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#ifdef FLIP_SIDED\\n\\t\\ttransformedTangent = - transformedTangent;\\n\\t#endif\\n#endif\";\n\nvar displacementmap_pars_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\";\n\nvar displacementmap_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\\n#endif\";\n\nvar emissivemap_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\";\n\nvar emissivemap_pars_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\";\n\nvar encodings_fragment = \"gl_FragColor = linearToOutputTexel( gl_FragColor );\";\n\nvar encodings_pars_fragment = \"\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat D = max( maxRange / maxRGB, 1.0 );\\n\\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value ) {\\n\\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\\n\\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract( Le );\\n\\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\\n\\treturn vec4( max( vRGB, 0.0 ), 1.0 );\\n}\";\n\nvar envmap_fragment = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvec3 cameraToFrag;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\";\n\nvar envmap_common_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float envMapIntensity;\\n\\tuniform float flipEnvMap;\\n\\tuniform int maxMipLevel;\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\t\\n#endif\";\n\nvar envmap_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float reflectivity;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\";\n\nvar envmap_pars_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\t\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\";\n\nvar envmap_vertex = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex;\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\nvar fog_vertex = \"#ifdef USE_FOG\\n\\tvFogDepth = - mvPosition.z;\\n#endif\";\n\nvar fog_pars_vertex = \"#ifdef USE_FOG\\n\\tvarying float vFogDepth;\\n#endif\";\n\nvar fog_fragment = \"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\";\n\nvar fog_pars_fragment = \"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float vFogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\";\n\nvar gradientmap_pars_fragment = \"#ifdef USE_GRADIENTMAP\\n\\tuniform sampler2D gradientMap;\\n#endif\\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\tfloat dotNL = dot( normal, lightDirection );\\n\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t#ifdef USE_GRADIENTMAP\\n\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t#else\\n\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t#endif\\n}\";\n\nvar lightmap_fragment = \"#ifdef USE_LIGHTMAP\\n\\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\\n\\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tlightMapIrradiance *= PI;\\n\\t#endif\\n\\treflectedLight.indirectDiffuse += lightMapIrradiance;\\n#endif\";\n\nvar lightmap_pars_fragment = \"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\";\n\nvar lights_lambert_vertex = \"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\nvIndirectFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n\\tvIndirectBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\\n#ifdef DOUBLE_SIDED\\n\\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\\n\\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\";\n\nvar lights_pars_begin = \"uniform bool receiveShadow;\\nuniform vec3 ambientLightColor;\\nuniform vec3 lightProbe[ 9 ];\\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\\n\\tfloat x = normal.x, y = normal.y, z = normal.z;\\n\\tvec3 result = shCoefficients[ 0 ] * 0.886227;\\n\\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\\n\\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\\n\\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\\n\\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\\n\\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\\n\\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\\n\\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\\n\\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\\n\\treturn result;\\n}\\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\\n\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\\n\\treturn irradiance;\\n}\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\treturn irradiance;\\n}\\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n\\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\t\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\t\\tif ( cutoffDistance > 0.0 ) {\\n\\t\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t\\t}\\n\\t\\treturn distanceFalloff;\\n\\t#else\\n\\t\\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\\n\\t\\t\\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\t\\t}\\n\\t\\treturn 1.0;\\n\\t#endif\\n}\\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\\n\\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\\n\\t\\tlight.color = directionalLight.color;\\n\\t\\tlight.direction = directionalLight.direction;\\n\\t\\tlight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tlight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tlight.color = pointLight.color;\\n\\t\\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tlight.visible = ( light.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tlight.direction = normalize( lVector );\\n\\t\\tfloat angleCos = dot( light.direction, spotLight.direction );\\n\\t\\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\tif ( spotAttenuation > 0.0 ) {\\n\\t\\t\\tfloat lightDistance = length( lVector );\\n\\t\\t\\tlight.color = spotLight.color * spotAttenuation;\\n\\t\\t\\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tlight.visible = ( light.color != vec3( 0.0 ) );\\n\\t\\t} else {\\n\\t\\t\\tlight.color = vec3( 0.0 );\\n\\t\\t\\tlight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltc_1;\\tuniform sampler2D ltc_2;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\";\n\nvar envmap_physical_pars_fragment = \"#if defined( USE_ENVMAP )\\n\\t#ifdef ENVMAP_MODE_REFRACTION\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n\\tvec3 getIBLIrradiance( const in GeometricContext geometry ) {\\n\\t\\t#if defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\\n\\t\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t\\t#else\\n\\t\\t\\treturn vec3( 0.0 );\\n\\t\\t#endif\\n\\t}\\n\\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\\n\\t\\t#if defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec3 reflectVec;\\n\\t\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\t\\treflectVec = reflect( - viewDir, normal );\\n\\t\\t\\t\\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\treflectVec = refract( - viewDir, normal, refractionRatio );\\n\\t\\t\\t#endif\\n\\t\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\\n\\t\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t\\t#else\\n\\t\\t\\treturn vec3( 0.0 );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar lights_toon_fragment = \"ToonMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\";\n\nvar lights_toon_pars_fragment = \"varying vec3 vViewPosition;\\nstruct ToonMaterial {\\n\\tvec3 diffuseColor;\\n};\\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Toon\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Toon\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\nvar lights_phong_fragment = \"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\n\nvar lights_phong_pars_fragment = \"varying vec3 vViewPosition;\\nstruct BlinnPhongMaterial {\\n\\tvec3 diffuseColor;\\n\\tvec3 specularColor;\\n\\tfloat specularShininess;\\n\\tfloat specularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\nvar lights_physical_fragment = \"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\\nmaterial.roughness = min( material.roughness, 1.0 );\\n#ifdef IOR\\n\\t#ifdef SPECULAR\\n\\t\\tfloat specularIntensityFactor = specularIntensity;\\n\\t\\tvec3 specularTintFactor = specularTint;\\n\\t\\t#ifdef USE_SPECULARINTENSITYMAP\\n\\t\\t\\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\\n\\t\\t#endif\\n\\t\\t#ifdef USE_SPECULARTINTMAP\\n\\t\\t\\tspecularTintFactor *= specularTintMapTexelToLinear( texture2D( specularTintMap, vUv ) ).rgb;\\n\\t\\t#endif\\n\\t\\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\\n\\t#else\\n\\t\\tfloat specularIntensityFactor = 1.0;\\n\\t\\tvec3 specularTintFactor = vec3( 1.0 );\\n\\t\\tmaterial.specularF90 = 1.0;\\n\\t#endif\\n\\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularTintFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\\n\\tmaterial.specularF90 = 1.0;\\n#endif\\n#ifdef USE_CLEARCOAT\\n\\tmaterial.clearcoat = clearcoat;\\n\\tmaterial.clearcoatRoughness = clearcoatRoughness;\\n\\tmaterial.clearcoatF0 = vec3( 0.04 );\\n\\tmaterial.clearcoatF90 = 1.0;\\n\\t#ifdef USE_CLEARCOATMAP\\n\\t\\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\\n\\t#endif\\n\\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\t\\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\\n\\t#endif\\n\\tmaterial.clearcoat = saturate( material.clearcoat );\\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\\n\\tmaterial.clearcoatRoughness += geometryRoughness;\\n\\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\\n#endif\\n#ifdef USE_SHEEN\\n\\tmaterial.sheenTint = sheenTint;\\n#endif\";\n\nvar lights_physical_pars_fragment = \"struct PhysicalMaterial {\\n\\tvec3 diffuseColor;\\n\\tfloat roughness;\\n\\tvec3 specularColor;\\n\\tfloat specularF90;\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tfloat clearcoat;\\n\\t\\tfloat clearcoatRoughness;\\n\\t\\tvec3 clearcoatF0;\\n\\t\\tfloat clearcoatF90;\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\tvec3 sheenTint;\\n\\t#endif\\n};\\nvec3 clearcoatSpecular = vec3( 0.0 );\\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\\n\\treturn fab;\\n}\\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\\n\\tvec2 fab = DFGApprox( normal, viewDir, roughness );\\n\\treturn specularColor * fab.x + specularF90 * fab.y;\\n}\\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n\\tvec2 fab = DFGApprox( normal, viewDir, roughness );\\n\\tvec3 FssEss = specularColor * fab.x + specularF90 * fab.y;\\n\\tfloat Ess = fab.x + fab.y;\\n\\tfloat Ems = 1.0 - Ess;\\n\\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\\n\\tsingleScatter += FssEss;\\n\\tmultiScatter += Fms * Ems;\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.roughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(    0, 1,    0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\\n\\t\\tvec3 ccIrradiance = dotNLcc * directLight.color;\\n\\t\\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\treflectedLight.directSpecular += irradiance * BRDF_Sheen( material.roughness, directLight.direction, geometry, material.sheenTint );\\n\\t#else\\n\\t\\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\\n\\t#endif\\n\\tvec3 singleScattering = vec3( 0.0 );\\n\\tvec3 multiScattering = vec3( 0.0 );\\n\\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\\n\\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\\n\\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\\n\\treflectedLight.indirectSpecular += radiance * singleScattering;\\n\\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\\n\\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\";\n\nvar lights_fragment_begin = \"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\\n#ifdef USE_CLEARCOAT\\n\\tgeometry.clearcoatNormal = clearcoatNormal;\\n#endif\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointLightInfo( pointLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\\n\\t\\tpointLightShadow = pointLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotLightInfo( spotLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\\n\\t\\tspotLightShadow = spotLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\\n\\t\\tdirectionalLightShadow = directionalLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n\\t#pragma unroll_loop_end\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 iblIrradiance = vec3( 0.0 );\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\t#pragma unroll_loop_start\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearcoatRadiance = vec3( 0.0 );\\n#endif\";\n\nvar lights_fragment_maps = \"#if defined( RE_IndirectDiffuse )\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\\n\\t\\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tiblIrradiance += getIBLIrradiance( geometry );\\n\\t#endif\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\\n\\t#endif\\n#endif\";\n\nvar lights_fragment_end = \"#if defined( RE_IndirectDiffuse )\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\\n#endif\";\n\nvar logdepthbuf_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\";\n\nvar logdepthbuf_pars_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n\\tvarying float vIsPerspective;\\n#endif\";\n\nvar logdepthbuf_pars_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t\\tvarying float vIsPerspective;\\n\\t#else\\n\\t\\tuniform float logDepthBufFC;\\n\\t#endif\\n#endif\";\n\nvar logdepthbuf_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t\\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\\n\\t#else\\n\\t\\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\\n\\t\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\t\\tgl_Position.z *= gl_Position.w;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar map_fragment = \"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\";\n\nvar map_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\";\n\nvar map_particle_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n#endif\\n#ifdef USE_MAP\\n\\tvec4 mapTexel = texture2D( map, uv );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\\n#endif\";\n\nvar map_particle_pars_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tuniform mat3 uvTransform;\\n#endif\\n#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar metalnessmap_fragment = \"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\";\n\nvar metalnessmap_pars_fragment = \"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\";\n\nvar morphnormal_vertex = \"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal *= morphTargetBaseInfluence;\\n\\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\\n#endif\";\n\nvar morphtarget_pars_vertex = \"#ifdef USE_MORPHTARGETS\\n\\tuniform float morphTargetBaseInfluence;\\n\\t#ifndef USE_MORPHNORMALS\\n\\t\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\t\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\";\n\nvar morphtarget_vertex = \"#ifdef USE_MORPHTARGETS\\n\\ttransformed *= morphTargetBaseInfluence;\\n\\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\\n\\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\\n\\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\\n\\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\t\\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\\n\\t\\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\\n\\t\\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\\n\\t\\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\";\n\nvar normal_fragment_begin = \"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\\n#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * faceDirection;\\n\\t#endif\\n\\t#ifdef USE_TANGENT\\n\\t\\tvec3 tangent = normalize( vTangent );\\n\\t\\tvec3 bitangent = normalize( vBitangent );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\ttangent = tangent * faceDirection;\\n\\t\\t\\tbitangent = bitangent * faceDirection;\\n\\t\\t#endif\\n\\t\\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\\n\\t\\t\\tmat3 vTBN = mat3( tangent, bitangent, normal );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\nvec3 geometryNormal = normal;\";\n\nvar normal_fragment_maps = \"#ifdef OBJECTSPACE_NORMALMAP\\n\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t#ifdef FLIP_SIDED\\n\\t\\tnormal = - normal;\\n\\t#endif\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * faceDirection;\\n\\t#endif\\n\\tnormal = normalize( normalMatrix * normal );\\n#elif defined( TANGENTSPACE_NORMALMAP )\\n\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tmapN.xy *= normalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tnormal = normalize( vTBN * mapN );\\n\\t#else\\n\\t\\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\\n\\t#endif\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\\n#endif\";\n\nvar normal_pars_fragment = \"#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\";\n\nvar normal_pars_vertex = \"#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\";\n\nvar normal_vertex = \"#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\";\n\nvar normalmap_pars_fragment = \"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n#endif\\n#ifdef OBJECTSPACE_NORMALMAP\\n\\tuniform mat3 normalMatrix;\\n#endif\\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\\n\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tvec3 N = surf_norm;\\n\\t\\tvec3 q1perp = cross( q1, N );\\n\\t\\tvec3 q0perp = cross( N, q0 );\\n\\t\\tvec3 T = q1perp * st0.x + q0perp * st1.x;\\n\\t\\tvec3 B = q1perp * st0.y + q0perp * st1.y;\\n\\t\\tfloat det = max( dot( T, T ), dot( B, B ) );\\n\\t\\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\\n\\t\\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\\n\\t}\\n#endif\";\n\nvar clearcoat_normal_fragment_begin = \"#ifdef USE_CLEARCOAT\\n\\tvec3 clearcoatNormal = geometryNormal;\\n#endif\";\n\nvar clearcoat_normal_fragment_maps = \"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tclearcoatMapN.xy *= clearcoatNormalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\\n\\t#else\\n\\t\\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\\n\\t#endif\\n#endif\";\n\nvar clearcoat_pars_fragment = \"#ifdef USE_CLEARCOATMAP\\n\\tuniform sampler2D clearcoatMap;\\n#endif\\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\\n\\tuniform sampler2D clearcoatRoughnessMap;\\n#endif\\n#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tuniform sampler2D clearcoatNormalMap;\\n\\tuniform vec2 clearcoatNormalScale;\\n#endif\";\n\nvar output_fragment = \"#ifdef OPAQUE\\ndiffuseColor.a = 1.0;\\n#endif\\n#ifdef USE_TRANSMISSION\\ndiffuseColor.a *= transmissionAlpha + 0.1;\\n#endif\\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );\";\n\nvar packing = \"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nvec4 pack2HalfToRGBA( vec2 v ) {\\n\\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\\n\\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\\n}\\nvec2 unpackRGBATo2Half( vec4 v ) {\\n\\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\";\n\nvar premultiplied_alpha_fragment = \"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\";\n\nvar project_vertex = \"vec4 mvPosition = vec4( transformed, 1.0 );\\n#ifdef USE_INSTANCING\\n\\tmvPosition = instanceMatrix * mvPosition;\\n#endif\\nmvPosition = modelViewMatrix * mvPosition;\\ngl_Position = projectionMatrix * mvPosition;\";\n\nvar dithering_fragment = \"#ifdef DITHERING\\n\\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\";\n\nvar dithering_pars_fragment = \"#ifdef DITHERING\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\";\n\nvar roughnessmap_fragment = \"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\";\n\nvar roughnessmap_pars_fragment = \"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\";\n\nvar shadowmap_pars_fragment = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\\n\\t\\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\\n\\t}\\n\\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\\n\\t\\tfloat occlusion = 1.0;\\n\\t\\tvec2 distribution = texture2DDistribution( shadow, uv );\\n\\t\\tfloat hard_shadow = step( compare , distribution.x );\\n\\t\\tif (hard_shadow != 1.0 ) {\\n\\t\\t\\tfloat distance = compare - distribution.x ;\\n\\t\\t\\tfloat variance = max( 0.00000, distribution.y * distribution.y );\\n\\t\\t\\tfloat softness_probability = variance / (variance + distance * distance );\\t\\t\\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\\t\\t\\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\\n\\t\\t}\\n\\t\\treturn occlusion;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx2 = dx0 / 2.0;\\n\\t\\t\\tfloat dy2 = dy0 / 2.0;\\n\\t\\t\\tfloat dx3 = dx1 / 2.0;\\n\\t\\t\\tfloat dy3 = dy1 / 2.0;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 17.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx = texelSize.x;\\n\\t\\t\\tfloat dy = texelSize.y;\\n\\t\\t\\tvec2 uv = shadowCoord.xy;\\n\\t\\t\\tvec2 f = fract( uv * shadowMapSize + 0.5 );\\n\\t\\t\\tuv -= f * texelSize;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t f.y )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar shadowmap_pars_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowNormalBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n#endif\";\n\nvar shadowmap_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\tvec4 shadowWorldPosition;\\n\\t#endif\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n#endif\";\n\nvar shadowmask_pars_fragment = \"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tspotLight = spotLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLight;\\n\\t#pragma unroll_loop_start\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tpointLight = pointLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#pragma unroll_loop_end\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\";\n\nvar skinbase_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";\n\nvar skinning_pars_vertex = \"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform highp sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar skinning_vertex = \"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\";\n\nvar skinnormal_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n\\t#ifdef USE_TANGENT\\n\\t\\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#endif\\n#endif\";\n\nvar specularmap_fragment = \"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\";\n\nvar specularmap_pars_fragment = \"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\";\n\nvar tonemapping_fragment = \"#if defined( TONE_MAPPING )\\n\\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\";\n\nvar tonemapping_pars_fragment = \"#ifndef saturate\\n#define saturate( a ) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\nvec3 RRTAndODTFit( vec3 v ) {\\n\\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\\n\\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\\n\\treturn a / b;\\n}\\nvec3 ACESFilmicToneMapping( vec3 color ) {\\n\\tconst mat3 ACESInputMat = mat3(\\n\\t\\tvec3( 0.59719, 0.07600, 0.02840 ),\\t\\tvec3( 0.35458, 0.90834, 0.13383 ),\\n\\t\\tvec3( 0.04823, 0.01566, 0.83777 )\\n\\t);\\n\\tconst mat3 ACESOutputMat = mat3(\\n\\t\\tvec3(  1.60475, -0.10208, -0.00327 ),\\t\\tvec3( -0.53108,  1.10813, -0.07276 ),\\n\\t\\tvec3( -0.07367, -0.00605,  1.07602 )\\n\\t);\\n\\tcolor *= toneMappingExposure / 0.6;\\n\\tcolor = ACESInputMat * color;\\n\\tcolor = RRTAndODTFit( color );\\n\\tcolor = ACESOutputMat * color;\\n\\treturn saturate( color );\\n}\\nvec3 CustomToneMapping( vec3 color ) { return color; }\";\n\nvar transmission_fragment = \"#ifdef USE_TRANSMISSION\\n\\tfloat transmissionAlpha = 1.0;\\n\\tfloat transmissionFactor = transmission;\\n\\tfloat thicknessFactor = thickness;\\n\\t#ifdef USE_TRANSMISSIONMAP\\n\\t\\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\\n\\t#endif\\n\\t#ifdef USE_THICKNESSMAP\\n\\t\\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\\n\\t#endif\\n\\tvec3 pos = vWorldPosition;\\n\\tvec3 v = normalize( cameraPosition - pos );\\n\\tvec3 n = inverseTransformDirection( normal, viewMatrix );\\n\\tvec4 transmission = getIBLVolumeRefraction(\\n\\t\\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\\n\\t\\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\\n\\t\\tattenuationTint, attenuationDistance );\\n\\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\\n\\ttransmissionAlpha = transmission.a;\\n#endif\";\n\nvar transmission_pars_fragment = \"#ifdef USE_TRANSMISSION\\n\\tuniform float transmission;\\n\\tuniform float thickness;\\n\\tuniform float attenuationDistance;\\n\\tuniform vec3 attenuationTint;\\n\\t#ifdef USE_TRANSMISSIONMAP\\n\\t\\tuniform sampler2D transmissionMap;\\n\\t#endif\\n\\t#ifdef USE_THICKNESSMAP\\n\\t\\tuniform sampler2D thicknessMap;\\n\\t#endif\\n\\tuniform vec2 transmissionSamplerSize;\\n\\tuniform sampler2D transmissionSamplerMap;\\n\\tuniform mat4 modelMatrix;\\n\\tuniform mat4 projectionMatrix;\\n\\tvarying vec3 vWorldPosition;\\n\\tvec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {\\n\\t\\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\\n\\t\\tvec3 modelScale;\\n\\t\\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\\n\\t\\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\\n\\t\\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\\n\\t\\treturn normalize( refractionVector ) * thickness * modelScale;\\n\\t}\\n\\tfloat applyIorToRoughness( float roughness, float ior ) {\\n\\t\\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\\n\\t}\\n\\tvec4 getTransmissionSample( vec2 fragCoord, float roughness, float ior ) {\\n\\t\\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\\n\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\\n\\t\\t#else\\n\\t\\t\\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\\n\\t\\t#endif\\n\\t}\\n\\tvec3 applyVolumeAttenuation( vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance ) {\\n\\t\\tif ( attenuationDistance == 0.0 ) {\\n\\t\\t\\treturn radiance;\\n\\t\\t} else {\\n\\t\\t\\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\\n\\t\\t\\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\\t\\t\\treturn transmittance * radiance;\\n\\t\\t}\\n\\t}\\n\\tvec4 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 diffuseColor, vec3 specularColor, float specularF90,\\n\\t\\tvec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,\\n\\t\\tvec3 attenuationColor, float attenuationDistance ) {\\n\\t\\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\\n\\t\\tvec3 refractedRayExit = position + transmissionRay;\\n\\t\\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\\n\\t\\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\\n\\t\\trefractionCoords += 1.0;\\n\\t\\trefractionCoords /= 2.0;\\n\\t\\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\\n\\t\\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\\n\\t\\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\\n\\t\\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\\n\\t}\\n#endif\";\n\nvar uv_pars_fragment = \"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\\n\\tvarying vec2 vUv;\\n#endif\";\n\nvar uv_pars_vertex = \"#ifdef USE_UV\\n\\t#ifdef UVS_VERTEX_ONLY\\n\\t\\tvec2 vUv;\\n\\t#else\\n\\t\\tvarying vec2 vUv;\\n\\t#endif\\n\\tuniform mat3 uvTransform;\\n#endif\";\n\nvar uv_vertex = \"#ifdef USE_UV\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\";\n\nvar uv2_pars_fragment = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\";\n\nvar uv2_pars_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n\\tuniform mat3 uv2Transform;\\n#endif\";\n\nvar uv2_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\\n#endif\";\n\nvar worldpos_vertex = \"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\\n\\tvec4 worldPosition = vec4( transformed, 1.0 );\\n\\t#ifdef USE_INSTANCING\\n\\t\\tworldPosition = instanceMatrix * worldPosition;\\n\\t#endif\\n\\tworldPosition = modelMatrix * worldPosition;\\n#endif\";\n\nvar background_frag = \"uniform sampler2D t2D;\\nvarying vec2 vUv;\\nvoid main() {\\n\\tvec4 texColor = texture2D( t2D, vUv );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar background_vert = \"varying vec2 vUv;\\nuniform mat3 uvTransform;\\nvoid main() {\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\tgl_Position = vec4( position.xy, 1.0, 1.0 );\\n}\";\n\nvar cube_frag = \"#include <envmap_common_pars_fragment>\\nuniform float opacity;\\nvarying vec3 vWorldDirection;\\n#include <cube_uv_reflection_fragment>\\nvoid main() {\\n\\tvec3 vReflect = vWorldDirection;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = envColor;\\n\\tgl_FragColor.a *= opacity;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar cube_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\";\n\nvar depth_frag = \"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( fragCoordZ );\\n\\t#endif\\n}\";\n\nvar depth_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvHighPrecisionZW = gl_Position.zw;\\n}\";\n\nvar distanceRGBA_frag = \"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\";\n\nvar distanceRGBA_vert = \"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\";\n\nvar equirect_frag = \"uniform sampler2D tEquirect;\\nvarying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldDirection );\\n\\tvec2 sampleUV = equirectUv( direction );\\n\\tvec4 texColor = texture2D( tEquirect, sampleUV );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar equirect_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\";\n\nvar linedashed_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nvar linedashed_vert = \"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\tvLineDistance = scale * lineDistance;\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshbasic_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshbasic_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinbase_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshlambert_frag = \"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vIndirectFront;\\n\\t#endif\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshlambert_vert = \"#define LAMBERT\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshmatcap_frag = \"#define MATCAP\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <normal_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\n\\t#ifdef USE_MATCAP\\n\\t\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\t\\tmatcapColor = matcapTexelToLinear( matcapColor );\\n\\t#else\\n\\t\\tvec4 matcapColor = vec4( 1.0 );\\n\\t#endif\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshmatcap_vert = \"#define MATCAP\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <color_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n}\";\n\nvar meshnormal_frag = \"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <normal_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\";\n\nvar meshnormal_vert = \"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\";\n\nvar meshphong_frag = \"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <normal_pars_fragment>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshphong_vert = \"#define PHONG\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshphysical_frag = \"#define STANDARD\\n#ifdef PHYSICAL\\n\\t#define IOR\\n\\t#define SPECULAR\\n#endif\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifdef IOR\\n\\tuniform float ior;\\n#endif\\n#ifdef SPECULAR\\n\\tuniform float specularIntensity;\\n\\tuniform vec3 specularTint;\\n\\t#ifdef USE_SPECULARINTENSITYMAP\\n\\t\\tuniform sampler2D specularIntensityMap;\\n\\t#endif\\n\\t#ifdef USE_SPECULARTINTMAP\\n\\t\\tuniform sampler2D specularTintMap;\\n\\t#endif\\n#endif\\n#ifdef USE_CLEARCOAT\\n\\tuniform float clearcoat;\\n\\tuniform float clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tuniform vec3 sheenTint;\\n#endif\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <normal_pars_fragment>\\n#include <lights_physical_pars_fragment>\\n#include <transmission_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <clearcoat_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <clearcoat_normal_fragment_begin>\\n\\t#include <clearcoat_normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\\n\\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\\n\\t#include <transmission_fragment>\\n\\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\\n\\t#ifdef USE_CLEARCOAT\\n\\t\\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\\n\\t\\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\\n\\t\\toutgoingLight = outgoingLight * ( 1.0 - clearcoat * Fcc ) + clearcoatSpecular * clearcoat;\\n\\t#endif\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshphysical_vert = \"#define STANDARD\\nvarying vec3 vViewPosition;\\n#ifdef USE_TRANSMISSION\\n\\tvarying vec3 vWorldPosition;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n#ifdef USE_TRANSMISSION\\n\\tvWorldPosition = worldPosition.xyz;\\n#endif\\n}\";\n\nvar meshtoon_frag = \"#define TOON\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <normal_pars_fragment>\\n#include <lights_toon_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_toon_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshtoon_vert = \"#define TOON\\nvarying vec3 vViewPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <normal_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <normal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar points_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nvar points_vert = \"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\tgl_PointSize = size;\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar shadow_frag = \"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar shadow_vert = \"#include <common>\\n#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar sprite_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <alphatest_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\t#include <output_fragment>\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar sprite_vert = \"uniform float rotation;\\nuniform vec2 center;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\t#ifndef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\t#endif\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\tmvPosition.xy += rotatedPosition;\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nconst ShaderChunk = {\n\talphamap_fragment: alphamap_fragment,\n\talphamap_pars_fragment: alphamap_pars_fragment,\n\talphatest_fragment: alphatest_fragment,\n\talphatest_pars_fragment: alphatest_pars_fragment,\n\taomap_fragment: aomap_fragment,\n\taomap_pars_fragment: aomap_pars_fragment,\n\tbegin_vertex: begin_vertex,\n\tbeginnormal_vertex: beginnormal_vertex,\n\tbsdfs: bsdfs,\n\tbumpmap_pars_fragment: bumpmap_pars_fragment,\n\tclipping_planes_fragment: clipping_planes_fragment,\n\tclipping_planes_pars_fragment: clipping_planes_pars_fragment,\n\tclipping_planes_pars_vertex: clipping_planes_pars_vertex,\n\tclipping_planes_vertex: clipping_planes_vertex,\n\tcolor_fragment: color_fragment,\n\tcolor_pars_fragment: color_pars_fragment,\n\tcolor_pars_vertex: color_pars_vertex,\n\tcolor_vertex: color_vertex,\n\tcommon: common,\n\tcube_uv_reflection_fragment: cube_uv_reflection_fragment,\n\tdefaultnormal_vertex: defaultnormal_vertex,\n\tdisplacementmap_pars_vertex: displacementmap_pars_vertex,\n\tdisplacementmap_vertex: displacementmap_vertex,\n\temissivemap_fragment: emissivemap_fragment,\n\temissivemap_pars_fragment: emissivemap_pars_fragment,\n\tencodings_fragment: encodings_fragment,\n\tencodings_pars_fragment: encodings_pars_fragment,\n\tenvmap_fragment: envmap_fragment,\n\tenvmap_common_pars_fragment: envmap_common_pars_fragment,\n\tenvmap_pars_fragment: envmap_pars_fragment,\n\tenvmap_pars_vertex: envmap_pars_vertex,\n\tenvmap_physical_pars_fragment: envmap_physical_pars_fragment,\n\tenvmap_vertex: envmap_vertex,\n\tfog_vertex: fog_vertex,\n\tfog_pars_vertex: fog_pars_vertex,\n\tfog_fragment: fog_fragment,\n\tfog_pars_fragment: fog_pars_fragment,\n\tgradientmap_pars_fragment: gradientmap_pars_fragment,\n\tlightmap_fragment: lightmap_fragment,\n\tlightmap_pars_fragment: lightmap_pars_fragment,\n\tlights_lambert_vertex: lights_lambert_vertex,\n\tlights_pars_begin: lights_pars_begin,\n\tlights_toon_fragment: lights_toon_fragment,\n\tlights_toon_pars_fragment: lights_toon_pars_fragment,\n\tlights_phong_fragment: lights_phong_fragment,\n\tlights_phong_pars_fragment: lights_phong_pars_fragment,\n\tlights_physical_fragment: lights_physical_fragment,\n\tlights_physical_pars_fragment: lights_physical_pars_fragment,\n\tlights_fragment_begin: lights_fragment_begin,\n\tlights_fragment_maps: lights_fragment_maps,\n\tlights_fragment_end: lights_fragment_end,\n\tlogdepthbuf_fragment: logdepthbuf_fragment,\n\tlogdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\n\tlogdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\n\tlogdepthbuf_vertex: logdepthbuf_vertex,\n\tmap_fragment: map_fragment,\n\tmap_pars_fragment: map_pars_fragment,\n\tmap_particle_fragment: map_particle_fragment,\n\tmap_particle_pars_fragment: map_particle_pars_fragment,\n\tmetalnessmap_fragment: metalnessmap_fragment,\n\tmetalnessmap_pars_fragment: metalnessmap_pars_fragment,\n\tmorphnormal_vertex: morphnormal_vertex,\n\tmorphtarget_pars_vertex: morphtarget_pars_vertex,\n\tmorphtarget_vertex: morphtarget_vertex,\n\tnormal_fragment_begin: normal_fragment_begin,\n\tnormal_fragment_maps: normal_fragment_maps,\n\tnormal_pars_fragment: normal_pars_fragment,\n\tnormal_pars_vertex: normal_pars_vertex,\n\tnormal_vertex: normal_vertex,\n\tnormalmap_pars_fragment: normalmap_pars_fragment,\n\tclearcoat_normal_fragment_begin: clearcoat_normal_fragment_begin,\n\tclearcoat_normal_fragment_maps: clearcoat_normal_fragment_maps,\n\tclearcoat_pars_fragment: clearcoat_pars_fragment,\n\toutput_fragment: output_fragment,\n\tpacking: packing,\n\tpremultiplied_alpha_fragment: premultiplied_alpha_fragment,\n\tproject_vertex: project_vertex,\n\tdithering_fragment: dithering_fragment,\n\tdithering_pars_fragment: dithering_pars_fragment,\n\troughnessmap_fragment: roughnessmap_fragment,\n\troughnessmap_pars_fragment: roughnessmap_pars_fragment,\n\tshadowmap_pars_fragment: shadowmap_pars_fragment,\n\tshadowmap_pars_vertex: shadowmap_pars_vertex,\n\tshadowmap_vertex: shadowmap_vertex,\n\tshadowmask_pars_fragment: shadowmask_pars_fragment,\n\tskinbase_vertex: skinbase_vertex,\n\tskinning_pars_vertex: skinning_pars_vertex,\n\tskinning_vertex: skinning_vertex,\n\tskinnormal_vertex: skinnormal_vertex,\n\tspecularmap_fragment: specularmap_fragment,\n\tspecularmap_pars_fragment: specularmap_pars_fragment,\n\ttonemapping_fragment: tonemapping_fragment,\n\ttonemapping_pars_fragment: tonemapping_pars_fragment,\n\ttransmission_fragment: transmission_fragment,\n\ttransmission_pars_fragment: transmission_pars_fragment,\n\tuv_pars_fragment: uv_pars_fragment,\n\tuv_pars_vertex: uv_pars_vertex,\n\tuv_vertex: uv_vertex,\n\tuv2_pars_fragment: uv2_pars_fragment,\n\tuv2_pars_vertex: uv2_pars_vertex,\n\tuv2_vertex: uv2_vertex,\n\tworldpos_vertex: worldpos_vertex,\n\n\tbackground_frag: background_frag,\n\tbackground_vert: background_vert,\n\tcube_frag: cube_frag,\n\tcube_vert: cube_vert,\n\tdepth_frag: depth_frag,\n\tdepth_vert: depth_vert,\n\tdistanceRGBA_frag: distanceRGBA_frag,\n\tdistanceRGBA_vert: distanceRGBA_vert,\n\tequirect_frag: equirect_frag,\n\tequirect_vert: equirect_vert,\n\tlinedashed_frag: linedashed_frag,\n\tlinedashed_vert: linedashed_vert,\n\tmeshbasic_frag: meshbasic_frag,\n\tmeshbasic_vert: meshbasic_vert,\n\tmeshlambert_frag: meshlambert_frag,\n\tmeshlambert_vert: meshlambert_vert,\n\tmeshmatcap_frag: meshmatcap_frag,\n\tmeshmatcap_vert: meshmatcap_vert,\n\tmeshnormal_frag: meshnormal_frag,\n\tmeshnormal_vert: meshnormal_vert,\n\tmeshphong_frag: meshphong_frag,\n\tmeshphong_vert: meshphong_vert,\n\tmeshphysical_frag: meshphysical_frag,\n\tmeshphysical_vert: meshphysical_vert,\n\tmeshtoon_frag: meshtoon_frag,\n\tmeshtoon_vert: meshtoon_vert,\n\tpoints_frag: points_frag,\n\tpoints_vert: points_vert,\n\tshadow_frag: shadow_frag,\n\tshadow_vert: shadow_vert,\n\tsprite_frag: sprite_frag,\n\tsprite_vert: sprite_vert\n};\n\n/**\n * Uniforms library for shared webgl shaders\n */\n\nconst UniformsLib = {\n\n\tcommon: {\n\n\t\tdiffuse: { value: new Color( 0xffffff ) },\n\t\topacity: { value: 1.0 },\n\n\t\tmap: { value: null },\n\t\tuvTransform: { value: new Matrix3() },\n\t\tuv2Transform: { value: new Matrix3() },\n\n\t\talphaMap: { value: null },\n\t\talphaTest: { value: 0 }\n\n\t},\n\n\tspecularmap: {\n\n\t\tspecularMap: { value: null },\n\n\t},\n\n\tenvmap: {\n\n\t\tenvMap: { value: null },\n\t\tflipEnvMap: { value: - 1 },\n\t\treflectivity: { value: 1.0 }, // basic, lambert, phong\n\t\tior: { value: 1.5 }, // standard, physical\n\t\trefractionRatio: { value: 0.98 },\n\t\tmaxMipLevel: { value: 0 }\n\n\t},\n\n\taomap: {\n\n\t\taoMap: { value: null },\n\t\taoMapIntensity: { value: 1 }\n\n\t},\n\n\tlightmap: {\n\n\t\tlightMap: { value: null },\n\t\tlightMapIntensity: { value: 1 }\n\n\t},\n\n\temissivemap: {\n\n\t\temissiveMap: { value: null }\n\n\t},\n\n\tbumpmap: {\n\n\t\tbumpMap: { value: null },\n\t\tbumpScale: { value: 1 }\n\n\t},\n\n\tnormalmap: {\n\n\t\tnormalMap: { value: null },\n\t\tnormalScale: { value: new Vector2( 1, 1 ) }\n\n\t},\n\n\tdisplacementmap: {\n\n\t\tdisplacementMap: { value: null },\n\t\tdisplacementScale: { value: 1 },\n\t\tdisplacementBias: { value: 0 }\n\n\t},\n\n\troughnessmap: {\n\n\t\troughnessMap: { value: null }\n\n\t},\n\n\tmetalnessmap: {\n\n\t\tmetalnessMap: { value: null }\n\n\t},\n\n\tgradientmap: {\n\n\t\tgradientMap: { value: null }\n\n\t},\n\n\tfog: {\n\n\t\tfogDensity: { value: 0.00025 },\n\t\tfogNear: { value: 1 },\n\t\tfogFar: { value: 2000 },\n\t\tfogColor: { value: new Color( 0xffffff ) }\n\n\t},\n\n\tlights: {\n\n\t\tambientLightColor: { value: [] },\n\n\t\tlightProbe: { value: [] },\n\n\t\tdirectionalLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tcolor: {}\n\t\t} },\n\n\t\tdirectionalLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tdirectionalShadowMap: { value: [] },\n\t\tdirectionalShadowMatrix: { value: [] },\n\n\t\tspotLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdirection: {},\n\t\t\tdistance: {},\n\t\t\tconeCos: {},\n\t\t\tpenumbraCos: {},\n\t\t\tdecay: {}\n\t\t} },\n\n\t\tspotLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tspotShadowMap: { value: [] },\n\t\tspotShadowMatrix: { value: [] },\n\n\t\tpointLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdecay: {},\n\t\t\tdistance: {}\n\t\t} },\n\n\t\tpointLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowNormalBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {},\n\t\t\tshadowCameraNear: {},\n\t\t\tshadowCameraFar: {}\n\t\t} },\n\n\t\tpointShadowMap: { value: [] },\n\t\tpointShadowMatrix: { value: [] },\n\n\t\themisphereLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tskyColor: {},\n\t\t\tgroundColor: {}\n\t\t} },\n\n\t\t// TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\n\t\trectAreaLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\twidth: {},\n\t\t\theight: {}\n\t\t} },\n\n\t\tltc_1: { value: null },\n\t\tltc_2: { value: null }\n\n\t},\n\n\tpoints: {\n\n\t\tdiffuse: { value: new Color( 0xffffff ) },\n\t\topacity: { value: 1.0 },\n\t\tsize: { value: 1.0 },\n\t\tscale: { value: 1.0 },\n\t\tmap: { value: null },\n\t\talphaMap: { value: null },\n\t\talphaTest: { value: 0 },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t},\n\n\tsprite: {\n\n\t\tdiffuse: { value: new Color( 0xffffff ) },\n\t\topacity: { value: 1.0 },\n\t\tcenter: { value: new Vector2( 0.5, 0.5 ) },\n\t\trotation: { value: 0.0 },\n\t\tmap: { value: null },\n\t\talphaMap: { value: null },\n\t\talphaTest: { value: 0 },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t}\n\n};\n\nconst ShaderLib = {\n\n\tbasic: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshbasic_vert,\n\t\tfragmentShader: ShaderChunk.meshbasic_frag\n\n\t},\n\n\tlambert: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshlambert_vert,\n\t\tfragmentShader: ShaderChunk.meshlambert_frag\n\n\t},\n\n\tphong: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\tspecular: { value: new Color( 0x111111 ) },\n\t\t\t\tshininess: { value: 30 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphong_vert,\n\t\tfragmentShader: ShaderChunk.meshphong_frag\n\n\t},\n\n\tstandard: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.roughnessmap,\n\t\t\tUniformsLib.metalnessmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\troughness: { value: 1.0 },\n\t\t\t\tmetalness: { value: 0.0 },\n\t\t\t\tenvMapIntensity: { value: 1 } // temporary\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphysical_vert,\n\t\tfragmentShader: ShaderChunk.meshphysical_frag\n\n\t},\n\n\ttoon: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.gradientmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshtoon_vert,\n\t\tfragmentShader: ShaderChunk.meshtoon_frag\n\n\t},\n\n\tmatcap: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tmatcap: { value: null }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshmatcap_vert,\n\t\tfragmentShader: ShaderChunk.meshmatcap_frag\n\n\t},\n\n\tpoints: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.points,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.points_vert,\n\t\tfragmentShader: ShaderChunk.points_frag\n\n\t},\n\n\tdashed: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tscale: { value: 1 },\n\t\t\t\tdashSize: { value: 1 },\n\t\t\t\ttotalSize: { value: 2 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.linedashed_vert,\n\t\tfragmentShader: ShaderChunk.linedashed_frag\n\n\t},\n\n\tdepth: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.depth_vert,\n\t\tfragmentShader: ShaderChunk.depth_frag\n\n\t},\n\n\tnormal: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshnormal_vert,\n\t\tfragmentShader: ShaderChunk.meshnormal_frag\n\n\t},\n\n\tsprite: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.sprite,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.sprite_vert,\n\t\tfragmentShader: ShaderChunk.sprite_frag\n\n\t},\n\n\tbackground: {\n\n\t\tuniforms: {\n\t\t\tuvTransform: { value: new Matrix3() },\n\t\t\tt2D: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.background_vert,\n\t\tfragmentShader: ShaderChunk.background_frag\n\n\t},\n\t/* -------------------------------------------------------------------------\n\t//\tCube map shader\n\t ------------------------------------------------------------------------- */\n\n\tcube: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.envmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.cube_vert,\n\t\tfragmentShader: ShaderChunk.cube_frag\n\n\t},\n\n\tequirect: {\n\n\t\tuniforms: {\n\t\t\ttEquirect: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.equirect_vert,\n\t\tfragmentShader: ShaderChunk.equirect_frag\n\n\t},\n\n\tdistanceRGBA: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\treferencePosition: { value: new Vector3() },\n\t\t\t\tnearDistance: { value: 1 },\n\t\t\t\tfarDistance: { value: 1000 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.distanceRGBA_vert,\n\t\tfragmentShader: ShaderChunk.distanceRGBA_frag\n\n\t},\n\n\tshadow: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.lights,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tcolor: { value: new Color( 0x00000 ) },\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t},\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.shadow_vert,\n\t\tfragmentShader: ShaderChunk.shadow_frag\n\n\t}\n\n};\n\nShaderLib.physical = {\n\n\tuniforms: mergeUniforms( [\n\t\tShaderLib.standard.uniforms,\n\t\t{\n\t\t\tclearcoat: { value: 0 },\n\t\t\tclearcoatMap: { value: null },\n\t\t\tclearcoatRoughness: { value: 0 },\n\t\t\tclearcoatRoughnessMap: { value: null },\n\t\t\tclearcoatNormalScale: { value: new Vector2( 1, 1 ) },\n\t\t\tclearcoatNormalMap: { value: null },\n\t\t\tsheenTint: { value: new Color( 0x000000 ) },\n\t\t\ttransmission: { value: 0 },\n\t\t\ttransmissionMap: { value: null },\n\t\t\ttransmissionSamplerSize: { value: new Vector2() },\n\t\t\ttransmissionSamplerMap: { value: null },\n\t\t\tthickness: { value: 0 },\n\t\t\tthicknessMap: { value: null },\n\t\t\tattenuationDistance: { value: 0 },\n\t\t\tattenuationTint: { value: new Color( 0x000000 ) },\n\t\t\tspecularIntensity: { value: 0 },\n\t\t\tspecularIntensityMap: { value: null },\n\t\t\tspecularTint: { value: new Color( 1, 1, 1 ) },\n\t\t\tspecularTintMap: { value: null },\n\t\t}\n\t] ),\n\n\tvertexShader: ShaderChunk.meshphysical_vert,\n\tfragmentShader: ShaderChunk.meshphysical_frag\n\n};\n\nfunction WebGLBackground( renderer, cubemaps, state, objects, premultipliedAlpha ) {\n\n\tconst clearColor = new Color( 0x000000 );\n\tlet clearAlpha = 0;\n\n\tlet planeMesh;\n\tlet boxMesh;\n\n\tlet currentBackground = null;\n\tlet currentBackgroundVersion = 0;\n\tlet currentTonemapping = null;\n\n\tfunction render( renderList, scene ) {\n\n\t\tlet forceClear = false;\n\t\tlet background = scene.isScene === true ? scene.background : null;\n\n\t\tif ( background && background.isTexture ) {\n\n\t\t\tbackground = cubemaps.get( background );\n\n\t\t}\n\n\t\t// Ignore background in AR\n\t\t// TODO: Reconsider this.\n\n\t\tconst xr = renderer.xr;\n\t\tconst session = xr.getSession && xr.getSession();\n\n\t\tif ( session && session.environmentBlendMode === 'additive' ) {\n\n\t\t\tbackground = null;\n\n\t\t}\n\n\t\tif ( background === null ) {\n\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t} else if ( background && background.isColor ) {\n\n\t\t\tsetClear( background, 1 );\n\t\t\tforceClear = true;\n\n\t\t}\n\n\t\tif ( renderer.autoClear || forceClear ) {\n\n\t\t\trenderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\n\t\t}\n\n\t\tif ( background && ( background.isCubeTexture || background.mapping === CubeUVReflectionMapping ) ) {\n\n\t\t\tif ( boxMesh === undefined ) {\n\n\t\t\t\tboxMesh = new Mesh(\n\t\t\t\t\tnew BoxGeometry( 1, 1, 1 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\tname: 'BackgroundCubeMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.cube.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.cube.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.cube.fragmentShader,\n\t\t\t\t\t\tside: BackSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'normal' );\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'uv' );\n\n\t\t\t\tboxMesh.onBeforeRender = function ( renderer, scene, camera ) {\n\n\t\t\t\t\tthis.matrixWorld.copyPosition( camera.matrixWorld );\n\n\t\t\t\t};\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( boxMesh.material, 'envMap', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.envMap.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( boxMesh );\n\n\t\t\t}\n\n\t\t\tboxMesh.material.uniforms.envMap.value = background;\n\t\t\tboxMesh.material.uniforms.flipEnvMap.value = ( background.isCubeTexture && background.isRenderTargetTexture === false ) ? - 1 : 1;\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\tcurrentBackgroundVersion !== background.version ||\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\n\n\t\t\t\tboxMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = background.version;\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\n\t\t\t}\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( boxMesh, boxMesh.geometry, boxMesh.material, 0, 0, null );\n\n\t\t} else if ( background && background.isTexture ) {\n\n\t\t\tif ( planeMesh === undefined ) {\n\n\t\t\t\tplaneMesh = new Mesh(\n\t\t\t\t\tnew PlaneGeometry( 2, 2 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\tname: 'BackgroundMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.background.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.background.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.background.fragmentShader,\n\t\t\t\t\t\tside: FrontSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tplaneMesh.geometry.deleteAttribute( 'normal' );\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( planeMesh.material, 'map', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.t2D.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( planeMesh );\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.t2D.value = background;\n\n\t\t\tif ( background.matrixAutoUpdate === true ) {\n\n\t\t\t\tbackground.updateMatrix();\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.uvTransform.value.copy( background.matrix );\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\tcurrentBackgroundVersion !== background.version ||\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\n\n\t\t\t\tplaneMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = background.version;\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\n\t\t\t}\n\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( planeMesh, planeMesh.geometry, planeMesh.material, 0, 0, null );\n\n\t\t}\n\n\t}\n\n\tfunction setClear( color, alpha ) {\n\n\t\tstate.buffers.color.setClear( color.r, color.g, color.b, alpha, premultipliedAlpha );\n\n\t}\n\n\treturn {\n\n\t\tgetClearColor: function () {\n\n\t\t\treturn clearColor;\n\n\t\t},\n\t\tsetClearColor: function ( color, alpha = 1 ) {\n\n\t\t\tclearColor.set( color );\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\tgetClearAlpha: function () {\n\n\t\t\treturn clearAlpha;\n\n\t\t},\n\t\tsetClearAlpha: function ( alpha ) {\n\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\trender: render\n\n\t};\n\n}\n\nfunction WebGLBindingStates( gl, extensions, attributes, capabilities ) {\n\n\tconst maxVertexAttributes = gl.getParameter( 34921 );\n\n\tconst extension = capabilities.isWebGL2 ? null : extensions.get( 'OES_vertex_array_object' );\n\tconst vaoAvailable = capabilities.isWebGL2 || extension !== null;\n\n\tconst bindingStates = {};\n\n\tconst defaultState = createBindingState( null );\n\tlet currentState = defaultState;\n\n\tfunction setup( object, material, program, geometry, index ) {\n\n\t\tlet updateBuffers = false;\n\n\t\tif ( vaoAvailable ) {\n\n\t\t\tconst state = getBindingState( geometry, program, material );\n\n\t\t\tif ( currentState !== state ) {\n\n\t\t\t\tcurrentState = state;\n\t\t\t\tbindVertexArrayObject( currentState.object );\n\n\t\t\t}\n\n\t\t\tupdateBuffers = needsUpdate( geometry, index );\n\n\t\t\tif ( updateBuffers ) saveCache( geometry, index );\n\n\t\t} else {\n\n\t\t\tconst wireframe = ( material.wireframe === true );\n\n\t\t\tif ( currentState.geometry !== geometry.id ||\n\t\t\t\tcurrentState.program !== program.id ||\n\t\t\t\tcurrentState.wireframe !== wireframe ) {\n\n\t\t\t\tcurrentState.geometry = geometry.id;\n\t\t\t\tcurrentState.program = program.id;\n\t\t\t\tcurrentState.wireframe = wireframe;\n\n\t\t\t\tupdateBuffers = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh === true ) {\n\n\t\t\tupdateBuffers = true;\n\n\t\t}\n\n\t\tif ( index !== null ) {\n\n\t\t\tattributes.update( index, 34963 );\n\n\t\t}\n\n\t\tif ( updateBuffers ) {\n\n\t\t\tsetupVertexAttributes( object, material, program, geometry );\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tgl.bindBuffer( 34963, attributes.get( index ).buffer );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction createVertexArrayObject() {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.createVertexArray();\n\n\t\treturn extension.createVertexArrayOES();\n\n\t}\n\n\tfunction bindVertexArrayObject( vao ) {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.bindVertexArray( vao );\n\n\t\treturn extension.bindVertexArrayOES( vao );\n\n\t}\n\n\tfunction deleteVertexArrayObject( vao ) {\n\n\t\tif ( capabilities.isWebGL2 ) return gl.deleteVertexArray( vao );\n\n\t\treturn extension.deleteVertexArrayOES( vao );\n\n\t}\n\n\tfunction getBindingState( geometry, program, material ) {\n\n\t\tconst wireframe = ( material.wireframe === true );\n\n\t\tlet programMap = bindingStates[ geometry.id ];\n\n\t\tif ( programMap === undefined ) {\n\n\t\t\tprogramMap = {};\n\t\t\tbindingStates[ geometry.id ] = programMap;\n\n\t\t}\n\n\t\tlet stateMap = programMap[ program.id ];\n\n\t\tif ( stateMap === undefined ) {\n\n\t\t\tstateMap = {};\n\t\t\tprogramMap[ program.id ] = stateMap;\n\n\t\t}\n\n\t\tlet state = stateMap[ wireframe ];\n\n\t\tif ( state === undefined ) {\n\n\t\t\tstate = createBindingState( createVertexArrayObject() );\n\t\t\tstateMap[ wireframe ] = state;\n\n\t\t}\n\n\t\treturn state;\n\n\t}\n\n\tfunction createBindingState( vao ) {\n\n\t\tconst newAttributes = [];\n\t\tconst enabledAttributes = [];\n\t\tconst attributeDivisors = [];\n\n\t\tfor ( let i = 0; i < maxVertexAttributes; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\t\t\tenabledAttributes[ i ] = 0;\n\t\t\tattributeDivisors[ i ] = 0;\n\n\t\t}\n\n\t\treturn {\n\n\t\t\t// for backward compatibility on non-VAO support browser\n\t\t\tgeometry: null,\n\t\t\tprogram: null,\n\t\t\twireframe: false,\n\n\t\t\tnewAttributes: newAttributes,\n\t\t\tenabledAttributes: enabledAttributes,\n\t\t\tattributeDivisors: attributeDivisors,\n\t\t\tobject: vao,\n\t\t\tattributes: {},\n\t\t\tindex: null\n\n\t\t};\n\n\t}\n\n\tfunction needsUpdate( geometry, index ) {\n\n\t\tconst cachedAttributes = currentState.attributes;\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\tlet attributesNum = 0;\n\n\t\tfor ( const key in geometryAttributes ) {\n\n\t\t\tconst cachedAttribute = cachedAttributes[ key ];\n\t\t\tconst geometryAttribute = geometryAttributes[ key ];\n\n\t\t\tif ( cachedAttribute === undefined ) return true;\n\n\t\t\tif ( cachedAttribute.attribute !== geometryAttribute ) return true;\n\n\t\t\tif ( cachedAttribute.data !== geometryAttribute.data ) return true;\n\n\t\t\tattributesNum ++;\n\n\t\t}\n\n\t\tif ( currentState.attributesNum !== attributesNum ) return true;\n\n\t\tif ( currentState.index !== index ) return true;\n\n\t\treturn false;\n\n\t}\n\n\tfunction saveCache( geometry, index ) {\n\n\t\tconst cache = {};\n\t\tconst attributes = geometry.attributes;\n\t\tlet attributesNum = 0;\n\n\t\tfor ( const key in attributes ) {\n\n\t\t\tconst attribute = attributes[ key ];\n\n\t\t\tconst data = {};\n\t\t\tdata.attribute = attribute;\n\n\t\t\tif ( attribute.data ) {\n\n\t\t\t\tdata.data = attribute.data;\n\n\t\t\t}\n\n\t\t\tcache[ key ] = data;\n\n\t\t\tattributesNum ++;\n\n\t\t}\n\n\t\tcurrentState.attributes = cache;\n\t\tcurrentState.attributesNum = attributesNum;\n\n\t\tcurrentState.index = index;\n\n\t}\n\n\tfunction initAttributes() {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\n\t\tfor ( let i = 0, il = newAttributes.length; i < il; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\n\t\t}\n\n\t}\n\n\tfunction enableAttribute( attribute ) {\n\n\t\tenableAttributeAndDivisor( attribute, 0 );\n\n\t}\n\n\tfunction enableAttributeAndDivisor( attribute, meshPerAttribute ) {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\t\tconst enabledAttributes = currentState.enabledAttributes;\n\t\tconst attributeDivisors = currentState.attributeDivisors;\n\n\t\tnewAttributes[ attribute ] = 1;\n\n\t\tif ( enabledAttributes[ attribute ] === 0 ) {\n\n\t\t\tgl.enableVertexAttribArray( attribute );\n\t\t\tenabledAttributes[ attribute ] = 1;\n\n\t\t}\n\n\t\tif ( attributeDivisors[ attribute ] !== meshPerAttribute ) {\n\n\t\t\tconst extension = capabilities.isWebGL2 ? gl : extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t\textension[ capabilities.isWebGL2 ? 'vertexAttribDivisor' : 'vertexAttribDivisorANGLE' ]( attribute, meshPerAttribute );\n\t\t\tattributeDivisors[ attribute ] = meshPerAttribute;\n\n\t\t}\n\n\t}\n\n\tfunction disableUnusedAttributes() {\n\n\t\tconst newAttributes = currentState.newAttributes;\n\t\tconst enabledAttributes = currentState.enabledAttributes;\n\n\t\tfor ( let i = 0, il = enabledAttributes.length; i < il; i ++ ) {\n\n\t\t\tif ( enabledAttributes[ i ] !== newAttributes[ i ] ) {\n\n\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\tenabledAttributes[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction vertexAttribPointer( index, size, type, normalized, stride, offset ) {\n\n\t\tif ( capabilities.isWebGL2 === true && ( type === 5124 || type === 5125 ) ) {\n\n\t\t\tgl.vertexAttribIPointer( index, size, type, stride, offset );\n\n\t\t} else {\n\n\t\t\tgl.vertexAttribPointer( index, size, type, normalized, stride, offset );\n\n\t\t}\n\n\t}\n\n\tfunction setupVertexAttributes( object, material, program, geometry ) {\n\n\t\tif ( capabilities.isWebGL2 === false && ( object.isInstancedMesh || geometry.isInstancedBufferGeometry ) ) {\n\n\t\t\tif ( extensions.get( 'ANGLE_instanced_arrays' ) === null ) return;\n\n\t\t}\n\n\t\tinitAttributes();\n\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\tconst programAttributes = program.getAttributes();\n\n\t\tconst materialDefaultAttributeValues = material.defaultAttributeValues;\n\n\t\tfor ( const name in programAttributes ) {\n\n\t\t\tconst programAttribute = programAttributes[ name ];\n\n\t\t\tif ( programAttribute.location >= 0 ) {\n\n\t\t\t\tlet geometryAttribute = geometryAttributes[ name ];\n\n\t\t\t\tif ( geometryAttribute === undefined ) {\n\n\t\t\t\t\tif ( name === 'instanceMatrix' && object.instanceMatrix ) geometryAttribute = object.instanceMatrix;\n\t\t\t\t\tif ( name === 'instanceColor' && object.instanceColor ) geometryAttribute = object.instanceColor;\n\n\t\t\t\t}\n\n\t\t\t\tif ( geometryAttribute !== undefined ) {\n\n\t\t\t\t\tconst normalized = geometryAttribute.normalized;\n\t\t\t\t\tconst size = geometryAttribute.itemSize;\n\n\t\t\t\t\tconst attribute = attributes.get( geometryAttribute );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tconst buffer = attribute.buffer;\n\t\t\t\t\tconst type = attribute.type;\n\t\t\t\t\tconst bytesPerElement = attribute.bytesPerElement;\n\n\t\t\t\t\tif ( geometryAttribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tconst data = geometryAttribute.data;\n\t\t\t\t\t\tconst stride = data.stride;\n\t\t\t\t\t\tconst offset = geometryAttribute.offset;\n\n\t\t\t\t\t\tif ( data && data.isInstancedInterleavedBuffer ) {\n\n\t\t\t\t\t\t\tfor ( let i = 0; i < programAttribute.locationSize; i ++ ) {\n\n\t\t\t\t\t\t\t\tenableAttributeAndDivisor( programAttribute.location + i, data.meshPerAttribute );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( object.isInstancedMesh !== true && geometry._maxInstanceCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry._maxInstanceCount = data.meshPerAttribute * data.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tfor ( let i = 0; i < programAttribute.locationSize; i ++ ) {\n\n\t\t\t\t\t\t\t\tenableAttribute( programAttribute.location + i );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\n\t\t\t\t\t\tfor ( let i = 0; i < programAttribute.locationSize; i ++ ) {\n\n\t\t\t\t\t\t\tvertexAttribPointer(\n\t\t\t\t\t\t\t\tprogramAttribute.location + i,\n\t\t\t\t\t\t\t\tsize / programAttribute.locationSize,\n\t\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\t\tnormalized,\n\t\t\t\t\t\t\t\tstride * bytesPerElement,\n\t\t\t\t\t\t\t\t( offset + ( size / programAttribute.locationSize ) * i ) * bytesPerElement\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( geometryAttribute.isInstancedBufferAttribute ) {\n\n\t\t\t\t\t\t\tfor ( let i = 0; i < programAttribute.locationSize; i ++ ) {\n\n\t\t\t\t\t\t\t\tenableAttributeAndDivisor( programAttribute.location + i, geometryAttribute.meshPerAttribute );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( object.isInstancedMesh !== true && geometry._maxInstanceCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry._maxInstanceCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tfor ( let i = 0; i < programAttribute.locationSize; i ++ ) {\n\n\t\t\t\t\t\t\t\tenableAttribute( programAttribute.location + i );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgl.bindBuffer( 34962, buffer );\n\n\t\t\t\t\t\tfor ( let i = 0; i < programAttribute.locationSize; i ++ ) {\n\n\t\t\t\t\t\t\tvertexAttribPointer(\n\t\t\t\t\t\t\t\tprogramAttribute.location + i,\n\t\t\t\t\t\t\t\tsize / programAttribute.locationSize,\n\t\t\t\t\t\t\t\ttype,\n\t\t\t\t\t\t\t\tnormalized,\n\t\t\t\t\t\t\t\tsize * bytesPerElement,\n\t\t\t\t\t\t\t\t( size / programAttribute.locationSize ) * i * bytesPerElement\n\t\t\t\t\t\t\t);\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( materialDefaultAttributeValues !== undefined ) {\n\n\t\t\t\t\tconst value = materialDefaultAttributeValues[ name ];\n\n\t\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\t\tswitch ( value.length ) {\n\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\tgl.vertexAttrib2fv( programAttribute.location, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\tgl.vertexAttrib3fv( programAttribute.location, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\tgl.vertexAttrib4fv( programAttribute.location, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\tgl.vertexAttrib1fv( programAttribute.location, value );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tdisableUnusedAttributes();\n\n\t}\n\n\tfunction dispose() {\n\n\t\treset();\n\n\t\tfor ( const geometryId in bindingStates ) {\n\n\t\t\tconst programMap = bindingStates[ geometryId ];\n\n\t\t\tfor ( const programId in programMap ) {\n\n\t\t\t\tconst stateMap = programMap[ programId ];\n\n\t\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t\t}\n\n\t\t\t\tdelete programMap[ programId ];\n\n\t\t\t}\n\n\t\t\tdelete bindingStates[ geometryId ];\n\n\t\t}\n\n\t}\n\n\tfunction releaseStatesOfGeometry( geometry ) {\n\n\t\tif ( bindingStates[ geometry.id ] === undefined ) return;\n\n\t\tconst programMap = bindingStates[ geometry.id ];\n\n\t\tfor ( const programId in programMap ) {\n\n\t\t\tconst stateMap = programMap[ programId ];\n\n\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t}\n\n\t\t\tdelete programMap[ programId ];\n\n\t\t}\n\n\t\tdelete bindingStates[ geometry.id ];\n\n\t}\n\n\tfunction releaseStatesOfProgram( program ) {\n\n\t\tfor ( const geometryId in bindingStates ) {\n\n\t\t\tconst programMap = bindingStates[ geometryId ];\n\n\t\t\tif ( programMap[ program.id ] === undefined ) continue;\n\n\t\t\tconst stateMap = programMap[ program.id ];\n\n\t\t\tfor ( const wireframe in stateMap ) {\n\n\t\t\t\tdeleteVertexArrayObject( stateMap[ wireframe ].object );\n\n\t\t\t\tdelete stateMap[ wireframe ];\n\n\t\t\t}\n\n\t\t\tdelete programMap[ program.id ];\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\tresetDefaultState();\n\n\t\tif ( currentState === defaultState ) return;\n\n\t\tcurrentState = defaultState;\n\t\tbindVertexArrayObject( currentState.object );\n\n\t}\n\n\t// for backward-compatilibity\n\n\tfunction resetDefaultState() {\n\n\t\tdefaultState.geometry = null;\n\t\tdefaultState.program = null;\n\t\tdefaultState.wireframe = false;\n\n\t}\n\n\treturn {\n\n\t\tsetup: setup,\n\t\treset: reset,\n\t\tresetDefaultState: resetDefaultState,\n\t\tdispose: dispose,\n\t\treleaseStatesOfGeometry: releaseStatesOfGeometry,\n\t\treleaseStatesOfProgram: releaseStatesOfProgram,\n\n\t\tinitAttributes: initAttributes,\n\t\tenableAttribute: enableAttribute,\n\t\tdisableUnusedAttributes: disableUnusedAttributes\n\n\t};\n\n}\n\nfunction WebGLBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tlet mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawArrays( mode, start, count );\n\n\t\tinfo.update( count, mode, 1 );\n\n\t}\n\n\tfunction renderInstances( start, count, primcount ) {\n\n\t\tif ( primcount === 0 ) return;\n\n\t\tlet extension, methodName;\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawArraysInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawArraysInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, start, count, primcount );\n\n\t\tinfo.update( count, mode, primcount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\nfunction WebGLCapabilities( gl, extensions, parameters ) {\n\n\tlet maxAnisotropy;\n\n\tfunction getMaxAnisotropy() {\n\n\t\tif ( maxAnisotropy !== undefined ) return maxAnisotropy;\n\n\t\tif ( extensions.has( 'EXT_texture_filter_anisotropic' ) === true ) {\n\n\t\t\tconst extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\t\tmaxAnisotropy = gl.getParameter( extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT );\n\n\t\t} else {\n\n\t\t\tmaxAnisotropy = 0;\n\n\t\t}\n\n\t\treturn maxAnisotropy;\n\n\t}\n\n\tfunction getMaxPrecision( precision ) {\n\n\t\tif ( precision === 'highp' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36338 ).precision > 0 &&\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36338 ).precision > 0 ) {\n\n\t\t\t\treturn 'highp';\n\n\t\t\t}\n\n\t\t\tprecision = 'mediump';\n\n\t\t}\n\n\t\tif ( precision === 'mediump' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36337 ).precision > 0 &&\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36337 ).precision > 0 ) {\n\n\t\t\t\treturn 'mediump';\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn 'lowp';\n\n\t}\n\n\t/* eslint-disable no-undef */\n\tconst isWebGL2 = ( typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext ) ||\n\t\t( typeof WebGL2ComputeRenderingContext !== 'undefined' && gl instanceof WebGL2ComputeRenderingContext );\n\t/* eslint-enable no-undef */\n\n\tlet precision = parameters.precision !== undefined ? parameters.precision : 'highp';\n\tconst maxPrecision = getMaxPrecision( precision );\n\n\tif ( maxPrecision !== precision ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.' );\n\t\tprecision = maxPrecision;\n\n\t}\n\n\tconst drawBuffers = isWebGL2 || extensions.has( 'WEBGL_draw_buffers' );\n\n\tconst logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;\n\n\tconst maxTextures = gl.getParameter( 34930 );\n\tconst maxVertexTextures = gl.getParameter( 35660 );\n\tconst maxTextureSize = gl.getParameter( 3379 );\n\tconst maxCubemapSize = gl.getParameter( 34076 );\n\n\tconst maxAttributes = gl.getParameter( 34921 );\n\tconst maxVertexUniforms = gl.getParameter( 36347 );\n\tconst maxVaryings = gl.getParameter( 36348 );\n\tconst maxFragmentUniforms = gl.getParameter( 36349 );\n\n\tconst vertexTextures = maxVertexTextures > 0;\n\tconst floatFragmentTextures = isWebGL2 || extensions.has( 'OES_texture_float' );\n\tconst floatVertexTextures = vertexTextures && floatFragmentTextures;\n\n\tconst maxSamples = isWebGL2 ? gl.getParameter( 36183 ) : 0;\n\n\treturn {\n\n\t\tisWebGL2: isWebGL2,\n\n\t\tdrawBuffers: drawBuffers,\n\n\t\tgetMaxAnisotropy: getMaxAnisotropy,\n\t\tgetMaxPrecision: getMaxPrecision,\n\n\t\tprecision: precision,\n\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\tmaxTextures: maxTextures,\n\t\tmaxVertexTextures: maxVertexTextures,\n\t\tmaxTextureSize: maxTextureSize,\n\t\tmaxCubemapSize: maxCubemapSize,\n\n\t\tmaxAttributes: maxAttributes,\n\t\tmaxVertexUniforms: maxVertexUniforms,\n\t\tmaxVaryings: maxVaryings,\n\t\tmaxFragmentUniforms: maxFragmentUniforms,\n\n\t\tvertexTextures: vertexTextures,\n\t\tfloatFragmentTextures: floatFragmentTextures,\n\t\tfloatVertexTextures: floatVertexTextures,\n\n\t\tmaxSamples: maxSamples\n\n\t};\n\n}\n\nfunction WebGLClipping( properties ) {\n\n\tconst scope = this;\n\n\tlet globalState = null,\n\t\tnumGlobalPlanes = 0,\n\t\tlocalClippingEnabled = false,\n\t\trenderingShadows = false;\n\n\tconst plane = new Plane(),\n\t\tviewNormalMatrix = new Matrix3(),\n\n\t\tuniform = { value: null, needsUpdate: false };\n\n\tthis.uniform = uniform;\n\tthis.numPlanes = 0;\n\tthis.numIntersection = 0;\n\n\tthis.init = function ( planes, enableLocalClipping, camera ) {\n\n\t\tconst enabled =\n\t\t\tplanes.length !== 0 ||\n\t\t\tenableLocalClipping ||\n\t\t\t// enable state of previous frame - the clipping code has to\n\t\t\t// run another frame in order to reset the state:\n\t\t\tnumGlobalPlanes !== 0 ||\n\t\t\tlocalClippingEnabled;\n\n\t\tlocalClippingEnabled = enableLocalClipping;\n\n\t\tglobalState = projectPlanes( planes, camera, 0 );\n\t\tnumGlobalPlanes = planes.length;\n\n\t\treturn enabled;\n\n\t};\n\n\tthis.beginShadows = function () {\n\n\t\trenderingShadows = true;\n\t\tprojectPlanes( null );\n\n\t};\n\n\tthis.endShadows = function () {\n\n\t\trenderingShadows = false;\n\t\tresetGlobalState();\n\n\t};\n\n\tthis.setState = function ( material, camera, useCache ) {\n\n\t\tconst planes = material.clippingPlanes,\n\t\t\tclipIntersection = material.clipIntersection,\n\t\t\tclipShadows = material.clipShadows;\n\n\t\tconst materialProperties = properties.get( material );\n\n\t\tif ( ! localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && ! clipShadows ) {\n\n\t\t\t// there's no local clipping\n\n\t\t\tif ( renderingShadows ) {\n\n\t\t\t\t// there's no global clipping\n\n\t\t\t\tprojectPlanes( null );\n\n\t\t\t} else {\n\n\t\t\t\tresetGlobalState();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst nGlobal = renderingShadows ? 0 : numGlobalPlanes,\n\t\t\t\tlGlobal = nGlobal * 4;\n\n\t\t\tlet dstArray = materialProperties.clippingState || null;\n\n\t\t\tuniform.value = dstArray; // ensure unique state\n\n\t\t\tdstArray = projectPlanes( planes, camera, lGlobal, useCache );\n\n\t\t\tfor ( let i = 0; i !== lGlobal; ++ i ) {\n\n\t\t\t\tdstArray[ i ] = globalState[ i ];\n\n\t\t\t}\n\n\t\t\tmaterialProperties.clippingState = dstArray;\n\t\t\tthis.numIntersection = clipIntersection ? this.numPlanes : 0;\n\t\t\tthis.numPlanes += nGlobal;\n\n\t\t}\n\n\n\t};\n\n\tfunction resetGlobalState() {\n\n\t\tif ( uniform.value !== globalState ) {\n\n\t\t\tuniform.value = globalState;\n\t\t\tuniform.needsUpdate = numGlobalPlanes > 0;\n\n\t\t}\n\n\t\tscope.numPlanes = numGlobalPlanes;\n\t\tscope.numIntersection = 0;\n\n\t}\n\n\tfunction projectPlanes( planes, camera, dstOffset, skipTransform ) {\n\n\t\tconst nPlanes = planes !== null ? planes.length : 0;\n\t\tlet dstArray = null;\n\n\t\tif ( nPlanes !== 0 ) {\n\n\t\t\tdstArray = uniform.value;\n\n\t\t\tif ( skipTransform !== true || dstArray === null ) {\n\n\t\t\t\tconst flatSize = dstOffset + nPlanes * 4,\n\t\t\t\t\tviewMatrix = camera.matrixWorldInverse;\n\n\t\t\t\tviewNormalMatrix.getNormalMatrix( viewMatrix );\n\n\t\t\t\tif ( dstArray === null || dstArray.length < flatSize ) {\n\n\t\t\t\t\tdstArray = new Float32Array( flatSize );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0, i4 = dstOffset; i !== nPlanes; ++ i, i4 += 4 ) {\n\n\t\t\t\t\tplane.copy( planes[ i ] ).applyMatrix4( viewMatrix, viewNormalMatrix );\n\n\t\t\t\t\tplane.normal.toArray( dstArray, i4 );\n\t\t\t\t\tdstArray[ i4 + 3 ] = plane.constant;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tuniform.value = dstArray;\n\t\t\tuniform.needsUpdate = true;\n\n\t\t}\n\n\t\tscope.numPlanes = nPlanes;\n\t\tscope.numIntersection = 0;\n\n\t\treturn dstArray;\n\n\t}\n\n}\n\nfunction WebGLCubeMaps( renderer ) {\n\n\tlet cubemaps = new WeakMap();\n\n\tfunction mapTextureMapping( texture, mapping ) {\n\n\t\tif ( mapping === EquirectangularReflectionMapping ) {\n\n\t\t\ttexture.mapping = CubeReflectionMapping;\n\n\t\t} else if ( mapping === EquirectangularRefractionMapping ) {\n\n\t\t\ttexture.mapping = CubeRefractionMapping;\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tfunction get( texture ) {\n\n\t\tif ( texture && texture.isTexture && texture.isRenderTargetTexture === false ) {\n\n\t\t\tconst mapping = texture.mapping;\n\n\t\t\tif ( mapping === EquirectangularReflectionMapping || mapping === EquirectangularRefractionMapping ) {\n\n\t\t\t\tif ( cubemaps.has( texture ) ) {\n\n\t\t\t\t\tconst cubemap = cubemaps.get( texture ).texture;\n\t\t\t\t\treturn mapTextureMapping( cubemap, texture.mapping );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst image = texture.image;\n\n\t\t\t\t\tif ( image && image.height > 0 ) {\n\n\t\t\t\t\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\t\t\t\t\tconst renderTarget = new WebGLCubeRenderTarget( image.height / 2 );\n\t\t\t\t\t\trenderTarget.fromEquirectangularTexture( renderer, texture );\n\t\t\t\t\t\tcubemaps.set( texture, renderTarget );\n\n\t\t\t\t\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t\t\t\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\t\t\t\treturn mapTextureMapping( renderTarget.texture, texture.mapping );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// image not yet ready. try the conversion next frame\n\n\t\t\t\t\t\treturn null;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tfunction onTextureDispose( event ) {\n\n\t\tconst texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tconst cubemap = cubemaps.get( texture );\n\n\t\tif ( cubemap !== undefined ) {\n\n\t\t\tcubemaps.delete( texture );\n\t\t\tcubemap.dispose();\n\n\t\t}\n\n\t}\n\n\tfunction dispose() {\n\n\t\tcubemaps = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\nclass OrthographicCamera extends Camera {\n\n\tconstructor( left = - 1, right = 1, top = 1, bottom = - 1, near = 0.1, far = 2000 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'OrthographicCamera';\n\n\t\tthis.zoom = 1;\n\t\tthis.view = null;\n\n\t\tthis.left = left;\n\t\tthis.right = right;\n\t\tthis.top = top;\n\t\tthis.bottom = bottom;\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tthis.left = source.left;\n\t\tthis.right = source.right;\n\t\tthis.top = source.top;\n\t\tthis.bottom = source.bottom;\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\n\t\tthis.zoom = source.zoom;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\treturn this;\n\n\t}\n\n\tsetViewOffset( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tclearViewOffset() {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t}\n\n\tupdateProjectionMatrix() {\n\n\t\tconst dx = ( this.right - this.left ) / ( 2 * this.zoom );\n\t\tconst dy = ( this.top - this.bottom ) / ( 2 * this.zoom );\n\t\tconst cx = ( this.right + this.left ) / 2;\n\t\tconst cy = ( this.top + this.bottom ) / 2;\n\n\t\tlet left = cx - dx;\n\t\tlet right = cx + dx;\n\t\tlet top = cy + dy;\n\t\tlet bottom = cy - dy;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tconst scaleW = ( this.right - this.left ) / this.view.fullWidth / this.zoom;\n\t\t\tconst scaleH = ( this.top - this.bottom ) / this.view.fullHeight / this.zoom;\n\n\t\t\tleft += scaleW * this.view.offsetX;\n\t\t\tright = left + scaleW * this.view.width;\n\t\t\ttop -= scaleH * this.view.offsetY;\n\t\t\tbottom = top - scaleH * this.view.height;\n\n\t\t}\n\n\t\tthis.projectionMatrix.makeOrthographic( left, right, top, bottom, this.near, this.far );\n\n\t\tthis.projectionMatrixInverse.copy( this.projectionMatrix ).invert();\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.zoom = this.zoom;\n\t\tdata.object.left = this.left;\n\t\tdata.object.right = this.right;\n\t\tdata.object.top = this.top;\n\t\tdata.object.bottom = this.bottom;\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\treturn data;\n\n\t}\n\n}\n\nOrthographicCamera.prototype.isOrthographicCamera = true;\n\nclass RawShaderMaterial extends ShaderMaterial {\n\n\tconstructor( parameters ) {\n\n\t\tsuper( parameters );\n\n\t\tthis.type = 'RawShaderMaterial';\n\n\t}\n\n}\n\nRawShaderMaterial.prototype.isRawShaderMaterial = true;\n\nconst LOD_MIN = 4;\nconst LOD_MAX = 8;\nconst SIZE_MAX = Math.pow( 2, LOD_MAX );\n\n// The standard deviations (radians) associated with the extra mips. These are\n// chosen to approximate a Trowbridge-Reitz distribution function times the\n// geometric shadowing function. These sigma values squared must match the\n// variance #defines in cube_uv_reflection_fragment.glsl.js.\nconst EXTRA_LOD_SIGMA = [ 0.125, 0.215, 0.35, 0.446, 0.526, 0.582 ];\n\nconst TOTAL_LODS = LOD_MAX - LOD_MIN + 1 + EXTRA_LOD_SIGMA.length;\n\n// The maximum length of the blur for loop. Smaller sigmas will use fewer\n// samples and exit early, but not recompile the shader.\nconst MAX_SAMPLES = 20;\n\nconst ENCODINGS = {\n\t[ LinearEncoding ]: 0,\n\t[ sRGBEncoding ]: 1,\n\t[ RGBEEncoding ]: 2,\n\t[ RGBM7Encoding ]: 3,\n\t[ RGBM16Encoding ]: 4,\n\t[ RGBDEncoding ]: 5,\n\t[ GammaEncoding ]: 6\n};\n\nconst _flatCamera = /*@__PURE__*/ new OrthographicCamera();\nconst { _lodPlanes, _sizeLods, _sigmas } = /*@__PURE__*/ _createPlanes();\nconst _clearColor = /*@__PURE__*/ new Color();\nlet _oldTarget = null;\n\n// Golden Ratio\nconst PHI = ( 1 + Math.sqrt( 5 ) ) / 2;\nconst INV_PHI = 1 / PHI;\n\n// Vertices of a dodecahedron (except the opposites, which represent the\n// same axis), used as axis directions evenly spread on a sphere.\nconst _axisDirections = [\n\t/*@__PURE__*/ new Vector3( 1, 1, 1 ),\n\t/*@__PURE__*/ new Vector3( - 1, 1, 1 ),\n\t/*@__PURE__*/ new Vector3( 1, 1, - 1 ),\n\t/*@__PURE__*/ new Vector3( - 1, 1, - 1 ),\n\t/*@__PURE__*/ new Vector3( 0, PHI, INV_PHI ),\n\t/*@__PURE__*/ new Vector3( 0, PHI, - INV_PHI ),\n\t/*@__PURE__*/ new Vector3( INV_PHI, 0, PHI ),\n\t/*@__PURE__*/ new Vector3( - INV_PHI, 0, PHI ),\n\t/*@__PURE__*/ new Vector3( PHI, INV_PHI, 0 ),\n\t/*@__PURE__*/ new Vector3( - PHI, INV_PHI, 0 ) ];\n\n/**\n * This class generates a Prefiltered, Mipmapped Radiance Environment Map\n * (PMREM) from a cubeMap environment texture. This allows different levels of\n * blur to be quickly accessed based on material roughness. It is packed into a\n * special CubeUV format that allows us to perform custom interpolation so that\n * we can support nonlinear formats such as RGBE. Unlike a traditional mipmap\n * chain, it only goes down to the LOD_MIN level (above), and then creates extra\n * even more filtered 'mips' at the same LOD_MIN resolution, associated with\n * higher roughness levels. In this way we maintain resolution to smoothly\n * interpolate diffuse lighting while limiting sampling computation.\n *\n * Paper: Fast, Accurate Image-Based Lighting\n * https://drive.google.com/file/d/15y8r_UpKlU9SvV4ILb0C3qCPecS8pvLz/view\n*/\n\nclass PMREMGenerator {\n\n\tconstructor( renderer ) {\n\n\t\tthis._renderer = renderer;\n\t\tthis._pingPongRenderTarget = null;\n\n\t\tthis._blurMaterial = _getBlurShader( MAX_SAMPLES );\n\t\tthis._equirectShader = null;\n\t\tthis._cubemapShader = null;\n\n\t\tthis._compileMaterial( this._blurMaterial );\n\n\t}\n\n\t/**\n\t * Generates a PMREM from a supplied Scene, which can be faster than using an\n\t * image if networking bandwidth is low. Optional sigma specifies a blur radius\n\t * in radians to be applied to the scene before PMREM generation. Optional near\n\t * and far planes ensure the scene is rendered in its entirety (the cubeCamera\n\t * is placed at the origin).\n\t */\n\tfromScene( scene, sigma = 0, near = 0.1, far = 100 ) {\n\n\t\t_oldTarget = this._renderer.getRenderTarget();\n\t\tconst cubeUVRenderTarget = this._allocateTargets();\n\n\t\tthis._sceneToCubeUV( scene, near, far, cubeUVRenderTarget );\n\t\tif ( sigma > 0 ) {\n\n\t\t\tthis._blur( cubeUVRenderTarget, 0, 0, sigma );\n\n\t\t}\n\n\t\tthis._applyPMREM( cubeUVRenderTarget );\n\t\tthis._cleanup( cubeUVRenderTarget );\n\n\t\treturn cubeUVRenderTarget;\n\n\t}\n\n\t/**\n\t * Generates a PMREM from an equirectangular texture, which can be either LDR\n\t * (RGBFormat) or HDR (RGBEFormat). The ideal input image size is 1k (1024 x 512),\n\t * as this matches best with the 256 x 256 cubemap output.\n\t */\n\tfromEquirectangular( equirectangular ) {\n\n\t\treturn this._fromTexture( equirectangular );\n\n\t}\n\n\t/**\n\t * Generates a PMREM from an cubemap texture, which can be either LDR\n\t * (RGBFormat) or HDR (RGBEFormat). The ideal input cube size is 256 x 256,\n\t * as this matches best with the 256 x 256 cubemap output.\n\t */\n\tfromCubemap( cubemap ) {\n\n\t\treturn this._fromTexture( cubemap );\n\n\t}\n\n\t/**\n\t * Pre-compiles the cubemap shader. You can get faster start-up by invoking this method during\n\t * your texture's network fetch for increased concurrency.\n\t */\n\tcompileCubemapShader() {\n\n\t\tif ( this._cubemapShader === null ) {\n\n\t\t\tthis._cubemapShader = _getCubemapShader();\n\t\t\tthis._compileMaterial( this._cubemapShader );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Pre-compiles the equirectangular shader. You can get faster start-up by invoking this method during\n\t * your texture's network fetch for increased concurrency.\n\t */\n\tcompileEquirectangularShader() {\n\n\t\tif ( this._equirectShader === null ) {\n\n\t\t\tthis._equirectShader = _getEquirectShader();\n\t\t\tthis._compileMaterial( this._equirectShader );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Disposes of the PMREMGenerator's internal memory. Note that PMREMGenerator is a static class,\n\t * so you should not need more than one PMREMGenerator object. If you do, calling dispose() on\n\t * one of them will cause any others to also become unusable.\n\t */\n\tdispose() {\n\n\t\tthis._blurMaterial.dispose();\n\n\t\tif ( this._cubemapShader !== null ) this._cubemapShader.dispose();\n\t\tif ( this._equirectShader !== null ) this._equirectShader.dispose();\n\n\t\tfor ( let i = 0; i < _lodPlanes.length; i ++ ) {\n\n\t\t\t_lodPlanes[ i ].dispose();\n\n\t\t}\n\n\t}\n\n\t// private interface\n\n\t_cleanup( outputTarget ) {\n\n\t\tthis._pingPongRenderTarget.dispose();\n\t\tthis._renderer.setRenderTarget( _oldTarget );\n\t\toutputTarget.scissorTest = false;\n\t\t_setViewport( outputTarget, 0, 0, outputTarget.width, outputTarget.height );\n\n\t}\n\n\t_fromTexture( texture ) {\n\n\t\t_oldTarget = this._renderer.getRenderTarget();\n\t\tconst cubeUVRenderTarget = this._allocateTargets( texture );\n\t\tthis._textureToCubeUV( texture, cubeUVRenderTarget );\n\t\tthis._applyPMREM( cubeUVRenderTarget );\n\t\tthis._cleanup( cubeUVRenderTarget );\n\n\t\treturn cubeUVRenderTarget;\n\n\t}\n\n\t_allocateTargets( texture ) { // warning: null texture is valid\n\n\t\tconst params = {\n\t\t\tmagFilter: NearestFilter,\n\t\t\tminFilter: NearestFilter,\n\t\t\tgenerateMipmaps: false,\n\t\t\ttype: UnsignedByteType,\n\t\t\tformat: RGBEFormat,\n\t\t\tencoding: _isLDR( texture ) ? texture.encoding : RGBEEncoding,\n\t\t\tdepthBuffer: false\n\t\t};\n\n\t\tconst cubeUVRenderTarget = _createRenderTarget( params );\n\t\tcubeUVRenderTarget.depthBuffer = texture ? false : true;\n\t\tthis._pingPongRenderTarget = _createRenderTarget( params );\n\t\treturn cubeUVRenderTarget;\n\n\t}\n\n\t_compileMaterial( material ) {\n\n\t\tconst tmpMesh = new Mesh( _lodPlanes[ 0 ], material );\n\t\tthis._renderer.compile( tmpMesh, _flatCamera );\n\n\t}\n\n\t_sceneToCubeUV( scene, near, far, cubeUVRenderTarget ) {\n\n\t\tconst fov = 90;\n\t\tconst aspect = 1;\n\t\tconst cubeCamera = new PerspectiveCamera( fov, aspect, near, far );\n\t\tconst upSign = [ 1, - 1, 1, 1, 1, 1 ];\n\t\tconst forwardSign = [ 1, 1, 1, - 1, - 1, - 1 ];\n\t\tconst renderer = this._renderer;\n\n\t\tconst originalAutoClear = renderer.autoClear;\n\t\tconst outputEncoding = renderer.outputEncoding;\n\t\tconst toneMapping = renderer.toneMapping;\n\t\trenderer.getClearColor( _clearColor );\n\n\t\trenderer.toneMapping = NoToneMapping;\n\t\trenderer.outputEncoding = LinearEncoding;\n\t\trenderer.autoClear = false;\n\n\t\tconst backgroundMaterial = new MeshBasicMaterial( {\n\t\t\tname: 'PMREM.Background',\n\t\t\tside: BackSide,\n\t\t\tdepthWrite: false,\n\t\t\tdepthTest: false,\n\t\t} );\n\n\t\tconst backgroundBox = new Mesh( new BoxGeometry(), backgroundMaterial );\n\n\t\tlet useSolidColor = false;\n\t\tconst background = scene.background;\n\n\t\tif ( background ) {\n\n\t\t\tif ( background.isColor ) {\n\n\t\t\t\tbackgroundMaterial.color.copy( background );\n\t\t\t\tscene.background = null;\n\t\t\t\tuseSolidColor = true;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tbackgroundMaterial.color.copy( _clearColor );\n\t\t\tuseSolidColor = true;\n\n\t\t}\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tconst col = i % 3;\n\t\t\tif ( col == 0 ) {\n\n\t\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\n\t\t\t\tcubeCamera.lookAt( forwardSign[ i ], 0, 0 );\n\n\t\t\t} else if ( col == 1 ) {\n\n\t\t\t\tcubeCamera.up.set( 0, 0, upSign[ i ] );\n\t\t\t\tcubeCamera.lookAt( 0, forwardSign[ i ], 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\n\t\t\t\tcubeCamera.lookAt( 0, 0, forwardSign[ i ] );\n\n\t\t\t}\n\n\t\t\t_setViewport( cubeUVRenderTarget,\n\t\t\t\tcol * SIZE_MAX, i > 2 ? SIZE_MAX : 0, SIZE_MAX, SIZE_MAX );\n\t\t\trenderer.setRenderTarget( cubeUVRenderTarget );\n\n\t\t\tif ( useSolidColor ) {\n\n\t\t\t\trenderer.render( backgroundBox, cubeCamera );\n\n\t\t\t}\n\n\t\t\trenderer.render( scene, cubeCamera );\n\n\t\t}\n\n\t\tbackgroundBox.geometry.dispose();\n\t\tbackgroundBox.material.dispose();\n\n\t\trenderer.toneMapping = toneMapping;\n\t\trenderer.outputEncoding = outputEncoding;\n\t\trenderer.autoClear = originalAutoClear;\n\t\tscene.background = background;\n\n\t}\n\n\t_textureToCubeUV( texture, cubeUVRenderTarget ) {\n\n\t\tconst renderer = this._renderer;\n\n\t\tif ( texture.isCubeTexture ) {\n\n\t\t\tif ( this._cubemapShader == null ) {\n\n\t\t\t\tthis._cubemapShader = _getCubemapShader();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( this._equirectShader == null ) {\n\n\t\t\t\tthis._equirectShader = _getEquirectShader();\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst material = texture.isCubeTexture ? this._cubemapShader : this._equirectShader;\n\t\tconst mesh = new Mesh( _lodPlanes[ 0 ], material );\n\n\t\tconst uniforms = material.uniforms;\n\n\t\tuniforms[ 'envMap' ].value = texture;\n\n\t\tif ( ! texture.isCubeTexture ) {\n\n\t\t\tuniforms[ 'texelSize' ].value.set( 1.0 / texture.image.width, 1.0 / texture.image.height );\n\n\t\t}\n\n\t\tuniforms[ 'inputEncoding' ].value = ENCODINGS[ texture.encoding ];\n\t\tuniforms[ 'outputEncoding' ].value = ENCODINGS[ cubeUVRenderTarget.texture.encoding ];\n\n\t\t_setViewport( cubeUVRenderTarget, 0, 0, 3 * SIZE_MAX, 2 * SIZE_MAX );\n\n\t\trenderer.setRenderTarget( cubeUVRenderTarget );\n\t\trenderer.render( mesh, _flatCamera );\n\n\t}\n\n\t_applyPMREM( cubeUVRenderTarget ) {\n\n\t\tconst renderer = this._renderer;\n\t\tconst autoClear = renderer.autoClear;\n\t\trenderer.autoClear = false;\n\n\t\tfor ( let i = 1; i < TOTAL_LODS; i ++ ) {\n\n\t\t\tconst sigma = Math.sqrt( _sigmas[ i ] * _sigmas[ i ] - _sigmas[ i - 1 ] * _sigmas[ i - 1 ] );\n\n\t\t\tconst poleAxis = _axisDirections[ ( i - 1 ) % _axisDirections.length ];\n\n\t\t\tthis._blur( cubeUVRenderTarget, i - 1, i, sigma, poleAxis );\n\n\t\t}\n\n\t\trenderer.autoClear = autoClear;\n\n\t}\n\n\t/**\n\t * This is a two-pass Gaussian blur for a cubemap. Normally this is done\n\t * vertically and horizontally, but this breaks down on a cube. Here we apply\n\t * the blur latitudinally (around the poles), and then longitudinally (towards\n\t * the poles) to approximate the orthogonally-separable blur. It is least\n\t * accurate at the poles, but still does a decent job.\n\t */\n\t_blur( cubeUVRenderTarget, lodIn, lodOut, sigma, poleAxis ) {\n\n\t\tconst pingPongRenderTarget = this._pingPongRenderTarget;\n\n\t\tthis._halfBlur(\n\t\t\tcubeUVRenderTarget,\n\t\t\tpingPongRenderTarget,\n\t\t\tlodIn,\n\t\t\tlodOut,\n\t\t\tsigma,\n\t\t\t'latitudinal',\n\t\t\tpoleAxis );\n\n\t\tthis._halfBlur(\n\t\t\tpingPongRenderTarget,\n\t\t\tcubeUVRenderTarget,\n\t\t\tlodOut,\n\t\t\tlodOut,\n\t\t\tsigma,\n\t\t\t'longitudinal',\n\t\t\tpoleAxis );\n\n\t}\n\n\t_halfBlur( targetIn, targetOut, lodIn, lodOut, sigmaRadians, direction, poleAxis ) {\n\n\t\tconst renderer = this._renderer;\n\t\tconst blurMaterial = this._blurMaterial;\n\n\t\tif ( direction !== 'latitudinal' && direction !== 'longitudinal' ) {\n\n\t\t\tconsole.error(\n\t\t\t\t'blur direction must be either latitudinal or longitudinal!' );\n\n\t\t}\n\n\t\t// Number of standard deviations at which to cut off the discrete approximation.\n\t\tconst STANDARD_DEVIATIONS = 3;\n\n\t\tconst blurMesh = new Mesh( _lodPlanes[ lodOut ], blurMaterial );\n\t\tconst blurUniforms = blurMaterial.uniforms;\n\n\t\tconst pixels = _sizeLods[ lodIn ] - 1;\n\t\tconst radiansPerPixel = isFinite( sigmaRadians ) ? Math.PI / ( 2 * pixels ) : 2 * Math.PI / ( 2 * MAX_SAMPLES - 1 );\n\t\tconst sigmaPixels = sigmaRadians / radiansPerPixel;\n\t\tconst samples = isFinite( sigmaRadians ) ? 1 + Math.floor( STANDARD_DEVIATIONS * sigmaPixels ) : MAX_SAMPLES;\n\n\t\tif ( samples > MAX_SAMPLES ) {\n\n\t\t\tconsole.warn( `sigmaRadians, ${\n\t\t\t\tsigmaRadians}, is too large and will clip, as it requested ${\n\t\t\t\tsamples} samples when the maximum is set to ${MAX_SAMPLES}` );\n\n\t\t}\n\n\t\tconst weights = [];\n\t\tlet sum = 0;\n\n\t\tfor ( let i = 0; i < MAX_SAMPLES; ++ i ) {\n\n\t\t\tconst x = i / sigmaPixels;\n\t\t\tconst weight = Math.exp( - x * x / 2 );\n\t\t\tweights.push( weight );\n\n\t\t\tif ( i == 0 ) {\n\n\t\t\t\tsum += weight;\n\n\t\t\t} else if ( i < samples ) {\n\n\t\t\t\tsum += 2 * weight;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( let i = 0; i < weights.length; i ++ ) {\n\n\t\t\tweights[ i ] = weights[ i ] / sum;\n\n\t\t}\n\n\t\tblurUniforms[ 'envMap' ].value = targetIn.texture;\n\t\tblurUniforms[ 'samples' ].value = samples;\n\t\tblurUniforms[ 'weights' ].value = weights;\n\t\tblurUniforms[ 'latitudinal' ].value = direction === 'latitudinal';\n\n\t\tif ( poleAxis ) {\n\n\t\t\tblurUniforms[ 'poleAxis' ].value = poleAxis;\n\n\t\t}\n\n\t\tblurUniforms[ 'dTheta' ].value = radiansPerPixel;\n\t\tblurUniforms[ 'mipInt' ].value = LOD_MAX - lodIn;\n\t\tblurUniforms[ 'inputEncoding' ].value = ENCODINGS[ targetIn.texture.encoding ];\n\t\tblurUniforms[ 'outputEncoding' ].value = ENCODINGS[ targetIn.texture.encoding ];\n\n\t\tconst outputSize = _sizeLods[ lodOut ];\n\t\tconst x = 3 * Math.max( 0, SIZE_MAX - 2 * outputSize );\n\t\tconst y = ( lodOut === 0 ? 0 : 2 * SIZE_MAX ) + 2 * outputSize * ( lodOut > LOD_MAX - LOD_MIN ? lodOut - LOD_MAX + LOD_MIN : 0 );\n\n\t\t_setViewport( targetOut, x, y, 3 * outputSize, 2 * outputSize );\n\t\trenderer.setRenderTarget( targetOut );\n\t\trenderer.render( blurMesh, _flatCamera );\n\n\t}\n\n}\n\nfunction _isLDR( texture ) {\n\n\tif ( texture === undefined || texture.type !== UnsignedByteType ) return false;\n\n\treturn texture.encoding === LinearEncoding || texture.encoding === sRGBEncoding || texture.encoding === GammaEncoding;\n\n}\n\nfunction _createPlanes() {\n\n\tconst _lodPlanes = [];\n\tconst _sizeLods = [];\n\tconst _sigmas = [];\n\n\tlet lod = LOD_MAX;\n\n\tfor ( let i = 0; i < TOTAL_LODS; i ++ ) {\n\n\t\tconst sizeLod = Math.pow( 2, lod );\n\t\t_sizeLods.push( sizeLod );\n\t\tlet sigma = 1.0 / sizeLod;\n\n\t\tif ( i > LOD_MAX - LOD_MIN ) {\n\n\t\t\tsigma = EXTRA_LOD_SIGMA[ i - LOD_MAX + LOD_MIN - 1 ];\n\n\t\t} else if ( i == 0 ) {\n\n\t\t\tsigma = 0;\n\n\t\t}\n\n\t\t_sigmas.push( sigma );\n\n\t\tconst texelSize = 1.0 / ( sizeLod - 1 );\n\t\tconst min = - texelSize / 2;\n\t\tconst max = 1 + texelSize / 2;\n\t\tconst uv1 = [ min, min, max, min, max, max, min, min, max, max, min, max ];\n\n\t\tconst cubeFaces = 6;\n\t\tconst vertices = 6;\n\t\tconst positionSize = 3;\n\t\tconst uvSize = 2;\n\t\tconst faceIndexSize = 1;\n\n\t\tconst position = new Float32Array( positionSize * vertices * cubeFaces );\n\t\tconst uv = new Float32Array( uvSize * vertices * cubeFaces );\n\t\tconst faceIndex = new Float32Array( faceIndexSize * vertices * cubeFaces );\n\n\t\tfor ( let face = 0; face < cubeFaces; face ++ ) {\n\n\t\t\tconst x = ( face % 3 ) * 2 / 3 - 1;\n\t\t\tconst y = face > 2 ? 0 : - 1;\n\t\t\tconst coordinates = [\n\t\t\t\tx, y, 0,\n\t\t\t\tx + 2 / 3, y, 0,\n\t\t\t\tx + 2 / 3, y + 1, 0,\n\t\t\t\tx, y, 0,\n\t\t\t\tx + 2 / 3, y + 1, 0,\n\t\t\t\tx, y + 1, 0\n\t\t\t];\n\t\t\tposition.set( coordinates, positionSize * vertices * face );\n\t\t\tuv.set( uv1, uvSize * vertices * face );\n\t\t\tconst fill = [ face, face, face, face, face, face ];\n\t\t\tfaceIndex.set( fill, faceIndexSize * vertices * face );\n\n\t\t}\n\n\t\tconst planes = new BufferGeometry();\n\t\tplanes.setAttribute( 'position', new BufferAttribute( position, positionSize ) );\n\t\tplanes.setAttribute( 'uv', new BufferAttribute( uv, uvSize ) );\n\t\tplanes.setAttribute( 'faceIndex', new BufferAttribute( faceIndex, faceIndexSize ) );\n\t\t_lodPlanes.push( planes );\n\n\t\tif ( lod > LOD_MIN ) {\n\n\t\t\tlod --;\n\n\t\t}\n\n\t}\n\n\treturn { _lodPlanes, _sizeLods, _sigmas };\n\n}\n\nfunction _createRenderTarget( params ) {\n\n\tconst cubeUVRenderTarget = new WebGLRenderTarget( 3 * SIZE_MAX, 3 * SIZE_MAX, params );\n\tcubeUVRenderTarget.texture.mapping = CubeUVReflectionMapping;\n\tcubeUVRenderTarget.texture.name = 'PMREM.cubeUv';\n\tcubeUVRenderTarget.scissorTest = true;\n\treturn cubeUVRenderTarget;\n\n}\n\nfunction _setViewport( target, x, y, width, height ) {\n\n\ttarget.viewport.set( x, y, width, height );\n\ttarget.scissor.set( x, y, width, height );\n\n}\n\nfunction _getBlurShader( maxSamples ) {\n\n\tconst weights = new Float32Array( maxSamples );\n\tconst poleAxis = new Vector3( 0, 1, 0 );\n\tconst shaderMaterial = new RawShaderMaterial( {\n\n\t\tname: 'SphericalGaussianBlur',\n\n\t\tdefines: { 'n': maxSamples },\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'samples': { value: 1 },\n\t\t\t'weights': { value: weights },\n\t\t\t'latitudinal': { value: false },\n\t\t\t'dTheta': { value: 0 },\n\t\t\t'mipInt': { value: 0 },\n\t\t\t'poleAxis': { value: poleAxis },\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t${ _getEncodings() }\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getEquirectShader() {\n\n\tconst texelSize = new Vector2( 1, 1 );\n\tconst shaderMaterial = new RawShaderMaterial( {\n\n\t\tname: 'EquirectangularToCubeUV',\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'texelSize': { value: texelSize },\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t${ _getEncodings() }\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getCubemapShader() {\n\n\tconst shaderMaterial = new RawShaderMaterial( {\n\n\t\tname: 'CubemapToCubeUV',\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: /* glsl */`\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t${ _getEncodings() }\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getCommonVertexShader() {\n\n\treturn /* glsl */`\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t`;\n\n}\n\nfunction _getEncodings() {\n\n\treturn /* glsl */`\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t`;\n\n}\n\nfunction WebGLCubeUVMaps( renderer ) {\n\n\tlet cubeUVmaps = new WeakMap();\n\n\tlet pmremGenerator = null;\n\n\tfunction get( texture ) {\n\n\t\tif ( texture && texture.isTexture && texture.isRenderTargetTexture === false ) {\n\n\t\t\tconst mapping = texture.mapping;\n\n\t\t\tconst isEquirectMap = ( mapping === EquirectangularReflectionMapping || mapping === EquirectangularRefractionMapping );\n\t\t\tconst isCubeMap = ( mapping === CubeReflectionMapping || mapping === CubeRefractionMapping );\n\n\t\t\tif ( isEquirectMap || isCubeMap ) {\n\n\t\t\t\t// equirect/cube map to cubeUV conversion\n\n\t\t\t\tif ( cubeUVmaps.has( texture ) ) {\n\n\t\t\t\t\treturn cubeUVmaps.get( texture ).texture;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst image = texture.image;\n\n\t\t\t\t\tif ( ( isEquirectMap && image && image.height > 0 ) || ( isCubeMap && image && isCubeTextureComplete( image ) ) ) {\n\n\t\t\t\t\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\t\t\t\t\tif ( pmremGenerator === null ) pmremGenerator = new PMREMGenerator( renderer );\n\n\t\t\t\t\t\tconst renderTarget = isEquirectMap ? pmremGenerator.fromEquirectangular( texture ) : pmremGenerator.fromCubemap( texture );\n\t\t\t\t\t\tcubeUVmaps.set( texture, renderTarget );\n\n\t\t\t\t\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t\t\t\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\t\t\t\treturn renderTarget.texture;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// image not yet ready. try the conversion next frame\n\n\t\t\t\t\t\treturn null;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tfunction isCubeTextureComplete( image ) {\n\n\t\tlet count = 0;\n\t\tconst length = 6;\n\n\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\tif ( image[ i ] !== undefined ) count ++;\n\n\t\t}\n\n\t\treturn count === length;\n\n\n\t}\n\n\tfunction onTextureDispose( event ) {\n\n\t\tconst texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tconst cubemapUV = cubeUVmaps.get( texture );\n\n\t\tif ( cubemapUV !== undefined ) {\n\n\t\t\tcubeUVmaps.delete( texture );\n\t\t\tcubemapUV.dispose();\n\n\t\t}\n\n\t}\n\n\tfunction dispose() {\n\n\t\tcubeUVmaps = new WeakMap();\n\n\t\tif ( pmremGenerator !== null ) {\n\n\t\t\tpmremGenerator.dispose();\n\t\t\tpmremGenerator = null;\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction WebGLExtensions( gl ) {\n\n\tconst extensions = {};\n\n\tfunction getExtension( name ) {\n\n\t\tif ( extensions[ name ] !== undefined ) {\n\n\t\t\treturn extensions[ name ];\n\n\t\t}\n\n\t\tlet extension;\n\n\t\tswitch ( name ) {\n\n\t\t\tcase 'WEBGL_depth_texture':\n\t\t\t\textension = gl.getExtension( 'WEBGL_depth_texture' ) || gl.getExtension( 'MOZ_WEBGL_depth_texture' ) || gl.getExtension( 'WEBKIT_WEBGL_depth_texture' );\n\t\t\t\tbreak;\n\n\t\t\tcase 'EXT_texture_filter_anisotropic':\n\t\t\t\textension = gl.getExtension( 'EXT_texture_filter_anisotropic' ) || gl.getExtension( 'MOZ_EXT_texture_filter_anisotropic' ) || gl.getExtension( 'WEBKIT_EXT_texture_filter_anisotropic' );\n\t\t\t\tbreak;\n\n\t\t\tcase 'WEBGL_compressed_texture_s3tc':\n\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'MOZ_WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_s3tc' );\n\t\t\t\tbreak;\n\n\t\t\tcase 'WEBGL_compressed_texture_pvrtc':\n\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_pvrtc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_pvrtc' );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\textension = gl.getExtension( name );\n\n\t\t}\n\n\t\textensions[ name ] = extension;\n\n\t\treturn extension;\n\n\t}\n\n\treturn {\n\n\t\thas: function ( name ) {\n\n\t\t\treturn getExtension( name ) !== null;\n\n\t\t},\n\n\t\tinit: function ( capabilities ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\tgetExtension( 'EXT_color_buffer_float' );\n\n\t\t\t} else {\n\n\t\t\t\tgetExtension( 'WEBGL_depth_texture' );\n\t\t\t\tgetExtension( 'OES_texture_float' );\n\t\t\t\tgetExtension( 'OES_texture_half_float' );\n\t\t\t\tgetExtension( 'OES_texture_half_float_linear' );\n\t\t\t\tgetExtension( 'OES_standard_derivatives' );\n\t\t\t\tgetExtension( 'OES_element_index_uint' );\n\t\t\t\tgetExtension( 'OES_vertex_array_object' );\n\t\t\t\tgetExtension( 'ANGLE_instanced_arrays' );\n\n\t\t\t}\n\n\t\t\tgetExtension( 'OES_texture_float_linear' );\n\t\t\tgetExtension( 'EXT_color_buffer_half_float' );\n\n\t\t},\n\n\t\tget: function ( name ) {\n\n\t\t\tconst extension = getExtension( name );\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: ' + name + ' extension not supported.' );\n\n\t\t\t}\n\n\t\t\treturn extension;\n\n\t\t}\n\n\t};\n\n}\n\nfunction WebGLGeometries( gl, attributes, info, bindingStates ) {\n\n\tconst geometries = {};\n\tconst wireframeAttributes = new WeakMap();\n\n\tfunction onGeometryDispose( event ) {\n\n\t\tconst geometry = event.target;\n\n\t\tif ( geometry.index !== null ) {\n\n\t\t\tattributes.remove( geometry.index );\n\n\t\t}\n\n\t\tfor ( const name in geometry.attributes ) {\n\n\t\t\tattributes.remove( geometry.attributes[ name ] );\n\n\t\t}\n\n\t\tgeometry.removeEventListener( 'dispose', onGeometryDispose );\n\n\t\tdelete geometries[ geometry.id ];\n\n\t\tconst attribute = wireframeAttributes.get( geometry );\n\n\t\tif ( attribute ) {\n\n\t\t\tattributes.remove( attribute );\n\t\t\twireframeAttributes.delete( geometry );\n\n\t\t}\n\n\t\tbindingStates.releaseStatesOfGeometry( geometry );\n\n\t\tif ( geometry.isInstancedBufferGeometry === true ) {\n\n\t\t\tdelete geometry._maxInstanceCount;\n\n\t\t}\n\n\t\t//\n\n\t\tinfo.memory.geometries --;\n\n\t}\n\n\tfunction get( object, geometry ) {\n\n\t\tif ( geometries[ geometry.id ] === true ) return geometry;\n\n\t\tgeometry.addEventListener( 'dispose', onGeometryDispose );\n\n\t\tgeometries[ geometry.id ] = true;\n\n\t\tinfo.memory.geometries ++;\n\n\t\treturn geometry;\n\n\t}\n\n\tfunction update( geometry ) {\n\n\t\tconst geometryAttributes = geometry.attributes;\n\n\t\t// Updating index buffer in VAO now. See WebGLBindingStates.\n\n\t\tfor ( const name in geometryAttributes ) {\n\n\t\t\tattributes.update( geometryAttributes[ name ], 34962 );\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tconst morphAttributes = geometry.morphAttributes;\n\n\t\tfor ( const name in morphAttributes ) {\n\n\t\t\tconst array = morphAttributes[ name ];\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tattributes.update( array[ i ], 34962 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction updateWireframeAttribute( geometry ) {\n\n\t\tconst indices = [];\n\n\t\tconst geometryIndex = geometry.index;\n\t\tconst geometryPosition = geometry.attributes.position;\n\t\tlet version = 0;\n\n\t\tif ( geometryIndex !== null ) {\n\n\t\t\tconst array = geometryIndex.array;\n\t\t\tversion = geometryIndex.version;\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\t\tconst a = array[ i + 0 ];\n\t\t\t\tconst b = array[ i + 1 ];\n\t\t\t\tconst c = array[ i + 2 ];\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst array = geometryPosition.array;\n\t\t\tversion = geometryPosition.version;\n\n\t\t\tfor ( let i = 0, l = ( array.length / 3 ) - 1; i < l; i += 3 ) {\n\n\t\t\t\tconst a = i + 0;\n\t\t\t\tconst b = i + 1;\n\t\t\t\tconst c = i + 2;\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst attribute = new ( arrayMax( indices ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( indices, 1 );\n\t\tattribute.version = version;\n\n\t\t// Updating index buffer in VAO now. See WebGLBindingStates\n\n\t\t//\n\n\t\tconst previousAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( previousAttribute ) attributes.remove( previousAttribute );\n\n\t\t//\n\n\t\twireframeAttributes.set( geometry, attribute );\n\n\t}\n\n\tfunction getWireframeAttribute( geometry ) {\n\n\t\tconst currentAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( currentAttribute ) {\n\n\t\t\tconst geometryIndex = geometry.index;\n\n\t\t\tif ( geometryIndex !== null ) {\n\n\t\t\t\t// if the attribute is obsolete, create a new one\n\n\t\t\t\tif ( currentAttribute.version < geometryIndex.version ) {\n\n\t\t\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t}\n\n\t\treturn wireframeAttributes.get( geometry );\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tupdate: update,\n\n\t\tgetWireframeAttribute: getWireframeAttribute\n\n\t};\n\n}\n\nfunction WebGLIndexedBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tlet mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tlet type, bytesPerElement;\n\n\tfunction setIndex( value ) {\n\n\t\ttype = value.type;\n\t\tbytesPerElement = value.bytesPerElement;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawElements( mode, count, type, start * bytesPerElement );\n\n\t\tinfo.update( count, mode, 1 );\n\n\t}\n\n\tfunction renderInstances( start, count, primcount ) {\n\n\t\tif ( primcount === 0 ) return;\n\n\t\tlet extension, methodName;\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawElementsInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawElementsInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, count, type, start * bytesPerElement, primcount );\n\n\t\tinfo.update( count, mode, primcount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.setIndex = setIndex;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\nfunction WebGLInfo( gl ) {\n\n\tconst memory = {\n\t\tgeometries: 0,\n\t\ttextures: 0\n\t};\n\n\tconst render = {\n\t\tframe: 0,\n\t\tcalls: 0,\n\t\ttriangles: 0,\n\t\tpoints: 0,\n\t\tlines: 0\n\t};\n\n\tfunction update( count, mode, instanceCount ) {\n\n\t\trender.calls ++;\n\n\t\tswitch ( mode ) {\n\n\t\t\tcase 4:\n\t\t\t\trender.triangles += instanceCount * ( count / 3 );\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\t\t\t\trender.lines += instanceCount * ( count / 2 );\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\trender.lines += instanceCount * ( count - 1 );\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\trender.lines += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tcase 0:\n\t\t\t\trender.points += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.error( 'THREE.WebGLInfo: Unknown draw mode:', mode );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\trender.frame ++;\n\t\trender.calls = 0;\n\t\trender.triangles = 0;\n\t\trender.points = 0;\n\t\trender.lines = 0;\n\n\t}\n\n\treturn {\n\t\tmemory: memory,\n\t\trender: render,\n\t\tprograms: null,\n\t\tautoReset: true,\n\t\treset: reset,\n\t\tupdate: update\n\t};\n\n}\n\nfunction numericalSort( a, b ) {\n\n\treturn a[ 0 ] - b[ 0 ];\n\n}\n\nfunction absNumericalSort( a, b ) {\n\n\treturn Math.abs( b[ 1 ] ) - Math.abs( a[ 1 ] );\n\n}\n\nfunction WebGLMorphtargets( gl ) {\n\n\tconst influencesList = {};\n\tconst morphInfluences = new Float32Array( 8 );\n\n\tconst workInfluences = [];\n\n\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\tworkInfluences[ i ] = [ i, 0 ];\n\n\t}\n\n\tfunction update( object, geometry, material, program ) {\n\n\t\tconst objectInfluences = object.morphTargetInfluences;\n\n\t\t// When object doesn't have morph target influences defined, we treat it as a 0-length array\n\t\t// This is important to make sure we set up morphTargetBaseInfluence / morphTargetInfluences\n\n\t\tconst length = objectInfluences === undefined ? 0 : objectInfluences.length;\n\n\t\tlet influences = influencesList[ geometry.id ];\n\n\t\tif ( influences === undefined || influences.length !== length ) {\n\n\t\t\t// initialise list\n\n\t\t\tinfluences = [];\n\n\t\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\t\tinfluences[ i ] = [ i, 0 ];\n\n\t\t\t}\n\n\t\t\tinfluencesList[ geometry.id ] = influences;\n\n\t\t}\n\n\t\t// Collect influences\n\n\t\tfor ( let i = 0; i < length; i ++ ) {\n\n\t\t\tconst influence = influences[ i ];\n\n\t\t\tinfluence[ 0 ] = i;\n\t\t\tinfluence[ 1 ] = objectInfluences[ i ];\n\n\t\t}\n\n\t\tinfluences.sort( absNumericalSort );\n\n\t\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\t\tif ( i < length && influences[ i ][ 1 ] ) {\n\n\t\t\t\tworkInfluences[ i ][ 0 ] = influences[ i ][ 0 ];\n\t\t\t\tworkInfluences[ i ][ 1 ] = influences[ i ][ 1 ];\n\n\t\t\t} else {\n\n\t\t\t\tworkInfluences[ i ][ 0 ] = Number.MAX_SAFE_INTEGER;\n\t\t\t\tworkInfluences[ i ][ 1 ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tworkInfluences.sort( numericalSort );\n\n\t\tconst morphTargets = geometry.morphAttributes.position;\n\t\tconst morphNormals = geometry.morphAttributes.normal;\n\n\t\tlet morphInfluencesSum = 0;\n\n\t\tfor ( let i = 0; i < 8; i ++ ) {\n\n\t\t\tconst influence = workInfluences[ i ];\n\t\t\tconst index = influence[ 0 ];\n\t\t\tconst value = influence[ 1 ];\n\n\t\t\tif ( index !== Number.MAX_SAFE_INTEGER && value ) {\n\n\t\t\t\tif ( morphTargets && geometry.getAttribute( 'morphTarget' + i ) !== morphTargets[ index ] ) {\n\n\t\t\t\t\tgeometry.setAttribute( 'morphTarget' + i, morphTargets[ index ] );\n\n\t\t\t\t}\n\n\t\t\t\tif ( morphNormals && geometry.getAttribute( 'morphNormal' + i ) !== morphNormals[ index ] ) {\n\n\t\t\t\t\tgeometry.setAttribute( 'morphNormal' + i, morphNormals[ index ] );\n\n\t\t\t\t}\n\n\t\t\t\tmorphInfluences[ i ] = value;\n\t\t\t\tmorphInfluencesSum += value;\n\n\t\t\t} else {\n\n\t\t\t\tif ( morphTargets && geometry.hasAttribute( 'morphTarget' + i ) === true ) {\n\n\t\t\t\t\tgeometry.deleteAttribute( 'morphTarget' + i );\n\n\t\t\t\t}\n\n\t\t\t\tif ( morphNormals && geometry.hasAttribute( 'morphNormal' + i ) === true ) {\n\n\t\t\t\t\tgeometry.deleteAttribute( 'morphNormal' + i );\n\n\t\t\t\t}\n\n\t\t\t\tmorphInfluences[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// GLSL shader uses formula baseinfluence * base + sum(target * influence)\n\t\t// This allows us to switch between absolute morphs and relative morphs without changing shader code\n\t\t// When baseinfluence = 1 - sum(influence), the above is equivalent to sum((target - base) * influence)\n\t\tconst morphBaseInfluence = geometry.morphTargetsRelative ? 1 : 1 - morphInfluencesSum;\n\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetBaseInfluence', morphBaseInfluence );\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetInfluences', morphInfluences );\n\n\t}\n\n\treturn {\n\n\t\tupdate: update\n\n\t};\n\n}\n\nfunction WebGLObjects( gl, geometries, attributes, info ) {\n\n\tlet updateMap = new WeakMap();\n\n\tfunction update( object ) {\n\n\t\tconst frame = info.render.frame;\n\n\t\tconst geometry = object.geometry;\n\t\tconst buffergeometry = geometries.get( object, geometry );\n\n\t\t// Update once per frame\n\n\t\tif ( updateMap.get( buffergeometry ) !== frame ) {\n\n\t\t\tgeometries.update( buffergeometry );\n\n\t\t\tupdateMap.set( buffergeometry, frame );\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh ) {\n\n\t\t\tif ( object.hasEventListener( 'dispose', onInstancedMeshDispose ) === false ) {\n\n\t\t\t\tobject.addEventListener( 'dispose', onInstancedMeshDispose );\n\n\t\t\t}\n\n\t\t\tattributes.update( object.instanceMatrix, 34962 );\n\n\t\t\tif ( object.instanceColor !== null ) {\n\n\t\t\t\tattributes.update( object.instanceColor, 34962 );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tupdateMap = new WeakMap();\n\n\t}\n\n\tfunction onInstancedMeshDispose( event ) {\n\n\t\tconst instancedMesh = event.target;\n\n\t\tinstancedMesh.removeEventListener( 'dispose', onInstancedMeshDispose );\n\n\t\tattributes.remove( instancedMesh.instanceMatrix );\n\n\t\tif ( instancedMesh.instanceColor !== null ) attributes.remove( instancedMesh.instanceColor );\n\n\t}\n\n\treturn {\n\n\t\tupdate: update,\n\t\tdispose: dispose\n\n\t};\n\n}\n\nclass DataTexture2DArray extends Texture {\n\n\tconstructor( data = null, width = 1, height = 1, depth = 1 ) {\n\n\t\tsuper( null );\n\n\t\tthis.image = { data, width, height, depth };\n\n\t\tthis.magFilter = NearestFilter;\n\t\tthis.minFilter = NearestFilter;\n\n\t\tthis.wrapR = ClampToEdgeWrapping;\n\n\t\tthis.generateMipmaps = false;\n\t\tthis.flipY = false;\n\t\tthis.unpackAlignment = 1;\n\n\t\tthis.needsUpdate = true;\n\n\t}\n\n}\n\nDataTexture2DArray.prototype.isDataTexture2DArray = true;\n\nclass DataTexture3D extends Texture {\n\n\tconstructor( data = null, width = 1, height = 1, depth = 1 ) {\n\n\t\t// We're going to add .setXXX() methods for setting properties later.\n\t\t// Users can still set in DataTexture3D directly.\n\t\t//\n\t\t//\tconst texture = new THREE.DataTexture3D( data, width, height, depth );\n\t\t// \ttexture.anisotropy = 16;\n\t\t//\n\t\t// See #14839\n\n\t\tsuper( null );\n\n\t\tthis.image = { data, width, height, depth };\n\n\t\tthis.magFilter = NearestFilter;\n\t\tthis.minFilter = NearestFilter;\n\n\t\tthis.wrapR = ClampToEdgeWrapping;\n\n\t\tthis.generateMipmaps = false;\n\t\tthis.flipY = false;\n\t\tthis.unpackAlignment = 1;\n\n\t\tthis.needsUpdate = true;\n\n\t}\n\n}\n\nDataTexture3D.prototype.isDataTexture3D = true;\n\n/**\n * Uniforms of a program.\n * Those form a tree structure with a special top-level container for the root,\n * which you get by calling 'new WebGLUniforms( gl, program )'.\n *\n *\n * Properties of inner nodes including the top-level container:\n *\n * .seq - array of nested uniforms\n * .map - nested uniforms by name\n *\n *\n * Methods of all nodes except the top-level container:\n *\n * .setValue( gl, value, [textures] )\n *\n * \t\tuploads a uniform value(s)\n *  \tthe 'textures' parameter is needed for sampler uniforms\n *\n *\n * Static methods of the top-level container (textures factorizations):\n *\n * .upload( gl, seq, values, textures )\n *\n * \t\tsets uniforms in 'seq' to 'values[id].value'\n *\n * .seqWithValue( seq, values ) : filteredSeq\n *\n * \t\tfilters 'seq' entries with corresponding entry in values\n *\n *\n * Methods of the top-level container (textures factorizations):\n *\n * .setValue( gl, name, value, textures )\n *\n * \t\tsets uniform with  name 'name' to 'value'\n *\n * .setOptional( gl, obj, prop )\n *\n * \t\tlike .set for an optional property of the object\n *\n */\n\nconst emptyTexture = new Texture();\nconst emptyTexture2dArray = new DataTexture2DArray();\nconst emptyTexture3d = new DataTexture3D();\nconst emptyCubeTexture = new CubeTexture();\n\n// --- Utilities ---\n\n// Array Caches (provide typed arrays for temporary by size)\n\nconst arrayCacheF32 = [];\nconst arrayCacheI32 = [];\n\n// Float32Array caches used for uploading Matrix uniforms\n\nconst mat4array = new Float32Array( 16 );\nconst mat3array = new Float32Array( 9 );\nconst mat2array = new Float32Array( 4 );\n\n// Flattening for arrays of vectors and matrices\n\nfunction flatten( array, nBlocks, blockSize ) {\n\n\tconst firstElem = array[ 0 ];\n\n\tif ( firstElem <= 0 || firstElem > 0 ) return array;\n\t// unoptimized: ! isNaN( firstElem )\n\t// see http://jacksondunstan.com/articles/983\n\n\tconst n = nBlocks * blockSize;\n\tlet r = arrayCacheF32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Float32Array( n );\n\t\tarrayCacheF32[ n ] = r;\n\n\t}\n\n\tif ( nBlocks !== 0 ) {\n\n\t\tfirstElem.toArray( r, 0 );\n\n\t\tfor ( let i = 1, offset = 0; i !== nBlocks; ++ i ) {\n\n\t\t\toffset += blockSize;\n\t\t\tarray[ i ].toArray( r, offset );\n\n\t\t}\n\n\t}\n\n\treturn r;\n\n}\n\nfunction arraysEqual( a, b ) {\n\n\tif ( a.length !== b.length ) return false;\n\n\tfor ( let i = 0, l = a.length; i < l; i ++ ) {\n\n\t\tif ( a[ i ] !== b[ i ] ) return false;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction copyArray( a, b ) {\n\n\tfor ( let i = 0, l = b.length; i < l; i ++ ) {\n\n\t\ta[ i ] = b[ i ];\n\n\t}\n\n}\n\n// Texture unit allocation\n\nfunction allocTexUnits( textures, n ) {\n\n\tlet r = arrayCacheI32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Int32Array( n );\n\t\tarrayCacheI32[ n ] = r;\n\n\t}\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\tr[ i ] = textures.allocateTextureUnit();\n\n\t}\n\n\treturn r;\n\n}\n\n// --- Setters ---\n\n// Note: Defining these methods externally, because they come in a bunch\n// and this way their names minify.\n\n// Single scalar\n\nfunction setValueV1f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1f( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single float vector (from flat array or THREE.VectorN)\n\nfunction setValueV2f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y ) {\n\n\t\t\tgl.uniform2f( this.addr, v.x, v.y );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform2fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV3f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z ) {\n\n\t\t\tgl.uniform3f( this.addr, v.x, v.y, v.z );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\n\t\t}\n\n\t} else if ( v.r !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.r || cache[ 1 ] !== v.g || cache[ 2 ] !== v.b ) {\n\n\t\t\tgl.uniform3f( this.addr, v.r, v.g, v.b );\n\n\t\t\tcache[ 0 ] = v.r;\n\t\t\tcache[ 1 ] = v.g;\n\t\t\tcache[ 2 ] = v.b;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform3fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV4f( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z || cache[ 3 ] !== v.w ) {\n\n\t\t\tgl.uniform4f( this.addr, v.x, v.y, v.z, v.w );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\t\t\tcache[ 3 ] = v.w;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform4fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\n// Single matrix (from flat array or THREE.MatrixN)\n\nfunction setValueM2( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix2fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat2array.set( elements );\n\n\t\tgl.uniformMatrix2fv( this.addr, false, mat2array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM3( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix3fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat3array.set( elements );\n\n\t\tgl.uniformMatrix3fv( this.addr, false, mat3array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM4( gl, v ) {\n\n\tconst cache = this.cache;\n\tconst elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix4fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat4array.set( elements );\n\n\t\tgl.uniformMatrix4fv( this.addr, false, mat4array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\n// Single integer / boolean\n\nfunction setValueV1i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1i( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single integer / boolean vector (from flat array)\n\nfunction setValueV2i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform2iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV3i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform3iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV4i( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform4iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\n// Single unsigned integer\n\nfunction setValueV1ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1ui( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single unsigned integer vector (from flat array)\n\nfunction setValueV2ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform2uiv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV3ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform3uiv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV4ui( gl, v ) {\n\n\tconst cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform4uiv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\n\n// Single texture (2D / Cube)\n\nfunction setValueT1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.safeSetTexture2D( v || emptyTexture, unit );\n\n}\n\nfunction setValueT3D1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture3D( v || emptyTexture3d, unit );\n\n}\n\nfunction setValueT6( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.safeSetTextureCube( v || emptyCubeTexture, unit );\n\n}\n\nfunction setValueT2DArray1( gl, v, textures ) {\n\n\tconst cache = this.cache;\n\tconst unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture2DArray( v || emptyTexture2dArray, unit );\n\n}\n\n// Helper to pick the right setter for the singular case\n\nfunction getSingularSetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1f; // FLOAT\n\t\tcase 0x8b50: return setValueV2f; // _VEC2\n\t\tcase 0x8b51: return setValueV3f; // _VEC3\n\t\tcase 0x8b52: return setValueV4f; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2; // _MAT2\n\t\tcase 0x8b5b: return setValueM3; // _MAT3\n\t\tcase 0x8b5c: return setValueM4; // _MAT4\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1i; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2i; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3i; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4i; // _VEC4\n\n\t\tcase 0x1405: return setValueV1ui; // UINT\n\t\tcase 0x8dc6: return setValueV2ui; // _VEC2\n\t\tcase 0x8dc7: return setValueV3ui; // _VEC3\n\t\tcase 0x8dc8: return setValueV4ui; // _VEC4\n\n\t\tcase 0x8b5e: // SAMPLER_2D\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\t\tcase 0x8dca: // INT_SAMPLER_2D\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\n\t\t\treturn setValueT1;\n\n\t\tcase 0x8b5f: // SAMPLER_3D\n\t\tcase 0x8dcb: // INT_SAMPLER_3D\n\t\tcase 0x8dd3: // UNSIGNED_INT_SAMPLER_3D\n\t\t\treturn setValueT3D1;\n\n\t\tcase 0x8b60: // SAMPLER_CUBE\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\n\t\t\treturn setValueT6;\n\n\t\tcase 0x8dc1: // SAMPLER_2D_ARRAY\n\t\tcase 0x8dcf: // INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dd7: // UNSIGNED_INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dc4: // SAMPLER_2D_ARRAY_SHADOW\n\t\t\treturn setValueT2DArray1;\n\n\t}\n\n}\n\n\n// Array of scalars\n\nfunction setValueV1fArray( gl, v ) {\n\n\tgl.uniform1fv( this.addr, v );\n\n}\n\n// Array of vectors (from flat array or array of THREE.VectorN)\n\nfunction setValueV2fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 2 );\n\n\tgl.uniform2fv( this.addr, data );\n\n}\n\nfunction setValueV3fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 3 );\n\n\tgl.uniform3fv( this.addr, data );\n\n}\n\nfunction setValueV4fArray( gl, v ) {\n\n\tconst data = flatten( v, this.size, 4 );\n\n\tgl.uniform4fv( this.addr, data );\n\n}\n\n// Array of matrices (from flat array or array of THREE.MatrixN)\n\nfunction setValueM2Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 4 );\n\n\tgl.uniformMatrix2fv( this.addr, false, data );\n\n}\n\nfunction setValueM3Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 9 );\n\n\tgl.uniformMatrix3fv( this.addr, false, data );\n\n}\n\nfunction setValueM4Array( gl, v ) {\n\n\tconst data = flatten( v, this.size, 16 );\n\n\tgl.uniformMatrix4fv( this.addr, false, data );\n\n}\n\n// Array of integer / boolean\n\nfunction setValueV1iArray( gl, v ) {\n\n\tgl.uniform1iv( this.addr, v );\n\n}\n\n// Array of integer / boolean vectors (from flat array)\n\nfunction setValueV2iArray( gl, v ) {\n\n\tgl.uniform2iv( this.addr, v );\n\n}\n\nfunction setValueV3iArray( gl, v ) {\n\n\tgl.uniform3iv( this.addr, v );\n\n}\n\nfunction setValueV4iArray( gl, v ) {\n\n\tgl.uniform4iv( this.addr, v );\n\n}\n\n// Array of unsigned integer\n\nfunction setValueV1uiArray( gl, v ) {\n\n\tgl.uniform1uiv( this.addr, v );\n\n}\n\n// Array of unsigned integer vectors (from flat array)\n\nfunction setValueV2uiArray( gl, v ) {\n\n\tgl.uniform2uiv( this.addr, v );\n\n}\n\nfunction setValueV3uiArray( gl, v ) {\n\n\tgl.uniform3uiv( this.addr, v );\n\n}\n\nfunction setValueV4uiArray( gl, v ) {\n\n\tgl.uniform4uiv( this.addr, v );\n\n}\n\n\n// Array of textures (2D / Cube)\n\nfunction setValueT1Array( gl, v, textures ) {\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.safeSetTexture2D( v[ i ] || emptyTexture, units[ i ] );\n\n\t}\n\n}\n\nfunction setValueT6Array( gl, v, textures ) {\n\n\tconst n = v.length;\n\n\tconst units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( let i = 0; i !== n; ++ i ) {\n\n\t\ttextures.safeSetTextureCube( v[ i ] || emptyCubeTexture, units[ i ] );\n\n\t}\n\n}\n\n// Helper to pick the right setter for a pure (bottom-level) array\n\nfunction getPureArraySetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1fArray; // FLOAT\n\t\tcase 0x8b50: return setValueV2fArray; // _VEC2\n\t\tcase 0x8b51: return setValueV3fArray; // _VEC3\n\t\tcase 0x8b52: return setValueV4fArray; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2Array; // _MAT2\n\t\tcase 0x8b5b: return setValueM3Array; // _MAT3\n\t\tcase 0x8b5c: return setValueM4Array; // _MAT4\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1iArray; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2iArray; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3iArray; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4iArray; // _VEC4\n\n\t\tcase 0x1405: return setValueV1uiArray; // UINT\n\t\tcase 0x8dc6: return setValueV2uiArray; // _VEC2\n\t\tcase 0x8dc7: return setValueV3uiArray; // _VEC3\n\t\tcase 0x8dc8: return setValueV4uiArray; // _VEC4\n\n\t\tcase 0x8b5e: // SAMPLER_2D\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\t\tcase 0x8dca: // INT_SAMPLER_2D\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\n\t\t\treturn setValueT1Array;\n\n\t\tcase 0x8b60: // SAMPLER_CUBE\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\n\t\t\treturn setValueT6Array;\n\n\t}\n\n}\n\n// --- Uniform Classes ---\n\nfunction SingleUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.setValue = getSingularSetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nfunction PureArrayUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.size = activeInfo.size;\n\tthis.setValue = getPureArraySetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nPureArrayUniform.prototype.updateCache = function ( data ) {\n\n\tconst cache = this.cache;\n\n\tif ( data instanceof Float32Array && cache.length !== data.length ) {\n\n\t\tthis.cache = new Float32Array( data.length );\n\n\t}\n\n\tcopyArray( cache, data );\n\n};\n\nfunction StructuredUniform( id ) {\n\n\tthis.id = id;\n\n\tthis.seq = [];\n\tthis.map = {};\n\n}\n\nStructuredUniform.prototype.setValue = function ( gl, value, textures ) {\n\n\tconst seq = this.seq;\n\n\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tconst u = seq[ i ];\n\t\tu.setValue( gl, value[ u.id ], textures );\n\n\t}\n\n};\n\n// --- Top-level ---\n\n// Parser - builds up the property tree from the path strings\n\nconst RePathPart = /(\\w+)(\\])?(\\[|\\.)?/g;\n\n// extracts\n// \t- the identifier (member name or array index)\n//  - followed by an optional right bracket (found when array index)\n//  - followed by an optional left bracket or dot (type of subscript)\n//\n// Note: These portions can be read in a non-overlapping fashion and\n// allow straightforward parsing of the hierarchy that WebGL encodes\n// in the uniform names.\n\nfunction addUniform( container, uniformObject ) {\n\n\tcontainer.seq.push( uniformObject );\n\tcontainer.map[ uniformObject.id ] = uniformObject;\n\n}\n\nfunction parseUniform( activeInfo, addr, container ) {\n\n\tconst path = activeInfo.name,\n\t\tpathLength = path.length;\n\n\t// reset RegExp object, because of the early exit of a previous run\n\tRePathPart.lastIndex = 0;\n\n\twhile ( true ) {\n\n\t\tconst match = RePathPart.exec( path ),\n\t\t\tmatchEnd = RePathPart.lastIndex;\n\n\t\tlet id = match[ 1 ];\n\t\tconst idIsIndex = match[ 2 ] === ']',\n\t\t\tsubscript = match[ 3 ];\n\n\t\tif ( idIsIndex ) id = id | 0; // convert to integer\n\n\t\tif ( subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength ) {\n\n\t\t\t// bare name or \"pure\" bottom-level array \"[0]\" suffix\n\n\t\t\taddUniform( container, subscript === undefined ?\n\t\t\t\tnew SingleUniform( id, activeInfo, addr ) :\n\t\t\t\tnew PureArrayUniform( id, activeInfo, addr ) );\n\n\t\t\tbreak;\n\n\t\t} else {\n\n\t\t\t// step into inner node / create it in case it doesn't exist\n\n\t\t\tconst map = container.map;\n\t\t\tlet next = map[ id ];\n\n\t\t\tif ( next === undefined ) {\n\n\t\t\t\tnext = new StructuredUniform( id );\n\t\t\t\taddUniform( container, next );\n\n\t\t\t}\n\n\t\t\tcontainer = next;\n\n\t\t}\n\n\t}\n\n}\n\n// Root Container\n\nfunction WebGLUniforms( gl, program ) {\n\n\tthis.seq = [];\n\tthis.map = {};\n\n\tconst n = gl.getProgramParameter( program, 35718 );\n\n\tfor ( let i = 0; i < n; ++ i ) {\n\n\t\tconst info = gl.getActiveUniform( program, i ),\n\t\t\taddr = gl.getUniformLocation( program, info.name );\n\n\t\tparseUniform( info, addr, this );\n\n\t}\n\n}\n\nWebGLUniforms.prototype.setValue = function ( gl, name, value, textures ) {\n\n\tconst u = this.map[ name ];\n\n\tif ( u !== undefined ) u.setValue( gl, value, textures );\n\n};\n\nWebGLUniforms.prototype.setOptional = function ( gl, object, name ) {\n\n\tconst v = object[ name ];\n\n\tif ( v !== undefined ) this.setValue( gl, name, v );\n\n};\n\n\n// Static interface\n\nWebGLUniforms.upload = function ( gl, seq, values, textures ) {\n\n\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tconst u = seq[ i ],\n\t\t\tv = values[ u.id ];\n\n\t\tif ( v.needsUpdate !== false ) {\n\n\t\t\t// note: always updating when .needsUpdate is undefined\n\t\t\tu.setValue( gl, v.value, textures );\n\n\t\t}\n\n\t}\n\n};\n\nWebGLUniforms.seqWithValue = function ( seq, values ) {\n\n\tconst r = [];\n\n\tfor ( let i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tconst u = seq[ i ];\n\t\tif ( u.id in values ) r.push( u );\n\n\t}\n\n\treturn r;\n\n};\n\nfunction WebGLShader( gl, type, string ) {\n\n\tconst shader = gl.createShader( type );\n\n\tgl.shaderSource( shader, string );\n\tgl.compileShader( shader );\n\n\treturn shader;\n\n}\n\nlet programIdCount = 0;\n\nfunction addLineNumbers( string ) {\n\n\tconst lines = string.split( '\\n' );\n\n\tfor ( let i = 0; i < lines.length; i ++ ) {\n\n\t\tlines[ i ] = ( i + 1 ) + ': ' + lines[ i ];\n\n\t}\n\n\treturn lines.join( '\\n' );\n\n}\n\nfunction getEncodingComponents( encoding ) {\n\n\tswitch ( encoding ) {\n\n\t\tcase LinearEncoding:\n\t\t\treturn [ 'Linear', '( value )' ];\n\t\tcase sRGBEncoding:\n\t\t\treturn [ 'sRGB', '( value )' ];\n\t\tcase RGBEEncoding:\n\t\t\treturn [ 'RGBE', '( value )' ];\n\t\tcase RGBM7Encoding:\n\t\t\treturn [ 'RGBM', '( value, 7.0 )' ];\n\t\tcase RGBM16Encoding:\n\t\t\treturn [ 'RGBM', '( value, 16.0 )' ];\n\t\tcase RGBDEncoding:\n\t\t\treturn [ 'RGBD', '( value, 256.0 )' ];\n\t\tcase GammaEncoding:\n\t\t\treturn [ 'Gamma', '( value, float( GAMMA_FACTOR ) )' ];\n\t\tcase LogLuvEncoding:\n\t\t\treturn [ 'LogLuv', '( value )' ];\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.WebGLProgram: Unsupported encoding:', encoding );\n\t\t\treturn [ 'Linear', '( value )' ];\n\n\t}\n\n}\n\nfunction getShaderErrors( gl, shader, type ) {\n\n\tconst status = gl.getShaderParameter( shader, 35713 );\n\tconst errors = gl.getShaderInfoLog( shader ).trim();\n\n\tif ( status && errors === '' ) return '';\n\n\t// --enable-privileged-webgl-extension\n\t// console.log( '**' + type + '**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n\n\treturn type.toUpperCase() + '\\n\\n' + errors + '\\n\\n' + addLineNumbers( gl.getShaderSource( shader ) );\n\n}\n\nfunction getTexelDecodingFunction( functionName, encoding ) {\n\n\tconst components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return ' + components[ 0 ] + 'ToLinear' + components[ 1 ] + '; }';\n\n}\n\nfunction getTexelEncodingFunction( functionName, encoding ) {\n\n\tconst components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return LinearTo' + components[ 0 ] + components[ 1 ] + '; }';\n\n}\n\nfunction getToneMappingFunction( functionName, toneMapping ) {\n\n\tlet toneMappingName;\n\n\tswitch ( toneMapping ) {\n\n\t\tcase LinearToneMapping:\n\t\t\ttoneMappingName = 'Linear';\n\t\t\tbreak;\n\n\t\tcase ReinhardToneMapping:\n\t\t\ttoneMappingName = 'Reinhard';\n\t\t\tbreak;\n\n\t\tcase CineonToneMapping:\n\t\t\ttoneMappingName = 'OptimizedCineon';\n\t\t\tbreak;\n\n\t\tcase ACESFilmicToneMapping:\n\t\t\ttoneMappingName = 'ACESFilmic';\n\t\t\tbreak;\n\n\t\tcase CustomToneMapping:\n\t\t\ttoneMappingName = 'Custom';\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tconsole.warn( 'THREE.WebGLProgram: Unsupported toneMapping:', toneMapping );\n\t\t\ttoneMappingName = 'Linear';\n\n\t}\n\n\treturn 'vec3 ' + functionName + '( vec3 color ) { return ' + toneMappingName + 'ToneMapping( color ); }';\n\n}\n\nfunction generateExtensions( parameters ) {\n\n\tconst chunks = [\n\t\t( parameters.extensionDerivatives || parameters.envMapCubeUV || parameters.bumpMap || parameters.tangentSpaceNormalMap || parameters.clearcoatNormalMap || parameters.flatShading || parameters.shaderID === 'physical' ) ? '#extension GL_OES_standard_derivatives : enable' : '',\n\t\t( parameters.extensionFragDepth || parameters.logarithmicDepthBuffer ) && parameters.rendererExtensionFragDepth ? '#extension GL_EXT_frag_depth : enable' : '',\n\t\t( parameters.extensionDrawBuffers && parameters.rendererExtensionDrawBuffers ) ? '#extension GL_EXT_draw_buffers : require' : '',\n\t\t( parameters.extensionShaderTextureLOD || parameters.envMap || parameters.transmission ) && parameters.rendererExtensionShaderTextureLod ? '#extension GL_EXT_shader_texture_lod : enable' : ''\n\t];\n\n\treturn chunks.filter( filterEmptyLine ).join( '\\n' );\n\n}\n\nfunction generateDefines( defines ) {\n\n\tconst chunks = [];\n\n\tfor ( const name in defines ) {\n\n\t\tconst value = defines[ name ];\n\n\t\tif ( value === false ) continue;\n\n\t\tchunks.push( '#define ' + name + ' ' + value );\n\n\t}\n\n\treturn chunks.join( '\\n' );\n\n}\n\nfunction fetchAttributeLocations( gl, program ) {\n\n\tconst attributes = {};\n\n\tconst n = gl.getProgramParameter( program, 35721 );\n\n\tfor ( let i = 0; i < n; i ++ ) {\n\n\t\tconst info = gl.getActiveAttrib( program, i );\n\t\tconst name = info.name;\n\n\t\tlet locationSize = 1;\n\t\tif ( info.type === 35674 ) locationSize = 2;\n\t\tif ( info.type === 35675 ) locationSize = 3;\n\t\tif ( info.type === 35676 ) locationSize = 4;\n\n\t\t// console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\n\n\t\tattributes[ name ] = {\n\t\t\ttype: info.type,\n\t\t\tlocation: gl.getAttribLocation( program, name ),\n\t\t\tlocationSize: locationSize\n\t\t};\n\n\t}\n\n\treturn attributes;\n\n}\n\nfunction filterEmptyLine( string ) {\n\n\treturn string !== '';\n\n}\n\nfunction replaceLightNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_DIR_LIGHTS/g, parameters.numDirLights )\n\t\t.replace( /NUM_SPOT_LIGHTS/g, parameters.numSpotLights )\n\t\t.replace( /NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights )\n\t\t.replace( /NUM_POINT_LIGHTS/g, parameters.numPointLights )\n\t\t.replace( /NUM_HEMI_LIGHTS/g, parameters.numHemiLights )\n\t\t.replace( /NUM_DIR_LIGHT_SHADOWS/g, parameters.numDirLightShadows )\n\t\t.replace( /NUM_SPOT_LIGHT_SHADOWS/g, parameters.numSpotLightShadows )\n\t\t.replace( /NUM_POINT_LIGHT_SHADOWS/g, parameters.numPointLightShadows );\n\n}\n\nfunction replaceClippingPlaneNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes )\n\t\t.replace( /UNION_CLIPPING_PLANES/g, ( parameters.numClippingPlanes - parameters.numClipIntersection ) );\n\n}\n\n// Resolve Includes\n\nconst includePattern = /^[ \\t]*#include +<([\\w\\d./]+)>/gm;\n\nfunction resolveIncludes( string ) {\n\n\treturn string.replace( includePattern, includeReplacer );\n\n}\n\nfunction includeReplacer( match, include ) {\n\n\tconst string = ShaderChunk[ include ];\n\n\tif ( string === undefined ) {\n\n\t\tthrow new Error( 'Can not resolve #include <' + include + '>' );\n\n\t}\n\n\treturn resolveIncludes( string );\n\n}\n\n// Unroll Loops\n\nconst deprecatedUnrollLoopPattern = /#pragma unroll_loop[\\s]+?for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\nconst unrollLoopPattern = /#pragma unroll_loop_start\\s+for\\s*\\(\\s*int\\s+i\\s*=\\s*(\\d+)\\s*;\\s*i\\s*<\\s*(\\d+)\\s*;\\s*i\\s*\\+\\+\\s*\\)\\s*{([\\s\\S]+?)}\\s+#pragma unroll_loop_end/g;\n\nfunction unrollLoops( string ) {\n\n\treturn string\n\t\t.replace( unrollLoopPattern, loopReplacer )\n\t\t.replace( deprecatedUnrollLoopPattern, deprecatedLoopReplacer );\n\n}\n\nfunction deprecatedLoopReplacer( match, start, end, snippet ) {\n\n\tconsole.warn( 'WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead.' );\n\treturn loopReplacer( match, start, end, snippet );\n\n}\n\nfunction loopReplacer( match, start, end, snippet ) {\n\n\tlet string = '';\n\n\tfor ( let i = parseInt( start ); i < parseInt( end ); i ++ ) {\n\n\t\tstring += snippet\n\t\t\t.replace( /\\[\\s*i\\s*\\]/g, '[ ' + i + ' ]' )\n\t\t\t.replace( /UNROLLED_LOOP_INDEX/g, i );\n\n\t}\n\n\treturn string;\n\n}\n\n//\n\nfunction generatePrecision( parameters ) {\n\n\tlet precisionstring = 'precision ' + parameters.precision + ' float;\\nprecision ' + parameters.precision + ' int;';\n\n\tif ( parameters.precision === 'highp' ) {\n\n\t\tprecisionstring += '\\n#define HIGH_PRECISION';\n\n\t} else if ( parameters.precision === 'mediump' ) {\n\n\t\tprecisionstring += '\\n#define MEDIUM_PRECISION';\n\n\t} else if ( parameters.precision === 'lowp' ) {\n\n\t\tprecisionstring += '\\n#define LOW_PRECISION';\n\n\t}\n\n\treturn precisionstring;\n\n}\n\nfunction generateShadowMapTypeDefine( parameters ) {\n\n\tlet shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n\n\tif ( parameters.shadowMapType === PCFShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n\n\t} else if ( parameters.shadowMapType === PCFSoftShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n\n\t} else if ( parameters.shadowMapType === VSMShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_VSM';\n\n\t}\n\n\treturn shadowMapTypeDefine;\n\n}\n\nfunction generateEnvMapTypeDefine( parameters ) {\n\n\tlet envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.envMapMode ) {\n\n\t\t\tcase CubeReflectionMapping:\n\t\t\tcase CubeRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\t\t\t\tbreak;\n\n\t\t\tcase CubeUVReflectionMapping:\n\t\t\tcase CubeUVRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapTypeDefine;\n\n}\n\nfunction generateEnvMapModeDefine( parameters ) {\n\n\tlet envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.envMapMode ) {\n\n\t\t\tcase CubeRefractionMapping:\n\t\t\tcase CubeUVRefractionMapping:\n\n\t\t\t\tenvMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapModeDefine;\n\n}\n\nfunction generateEnvMapBlendingDefine( parameters ) {\n\n\tlet envMapBlendingDefine = 'ENVMAP_BLENDING_NONE';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.combine ) {\n\n\t\t\tcase MultiplyOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\t\t\t\tbreak;\n\n\t\t\tcase MixOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n\t\t\t\tbreak;\n\n\t\t\tcase AddOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapBlendingDefine;\n\n}\n\nfunction WebGLProgram( renderer, cacheKey, parameters, bindingStates ) {\n\n\t// TODO Send this event to Three.js DevTools\n\t// console.log( 'WebGLProgram', cacheKey );\n\n\tconst gl = renderer.getContext();\n\n\tconst defines = parameters.defines;\n\n\tlet vertexShader = parameters.vertexShader;\n\tlet fragmentShader = parameters.fragmentShader;\n\n\tconst shadowMapTypeDefine = generateShadowMapTypeDefine( parameters );\n\tconst envMapTypeDefine = generateEnvMapTypeDefine( parameters );\n\tconst envMapModeDefine = generateEnvMapModeDefine( parameters );\n\tconst envMapBlendingDefine = generateEnvMapBlendingDefine( parameters );\n\n\n\tconst gammaFactorDefine = ( renderer.gammaFactor > 0 ) ? renderer.gammaFactor : 1.0;\n\n\tconst customExtensions = parameters.isWebGL2 ? '' : generateExtensions( parameters );\n\n\tconst customDefines = generateDefines( defines );\n\n\tconst program = gl.createProgram();\n\n\tlet prefixVertex, prefixFragment;\n\tlet versionString = parameters.glslVersion ? '#version ' + parameters.glslVersion + '\\n' : '';\n\n\tif ( parameters.isRawShaderMaterial ) {\n\n\t\tprefixVertex = [\n\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixVertex.length > 0 ) {\n\n\t\t\tprefixVertex += '\\n';\n\n\t\t}\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixFragment.length > 0 ) {\n\n\t\t\tprefixFragment += '\\n';\n\n\t\t}\n\n\t} else {\n\n\t\tprefixVertex = [\n\n\t\t\tgeneratePrecision( parameters ),\n\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.instancing ? '#define USE_INSTANCING' : '',\n\t\t\tparameters.instancingColor ? '#define USE_INSTANCING_COLOR' : '',\n\n\t\t\tparameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '',\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t'#define MAX_BONES ' + parameters.maxBones,\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\n\t\t\tparameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '',\n\t\t\tparameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '',\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\n\t\t\tparameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '',\n\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.specularIntensityMap ? '#define USE_SPECULARINTENSITYMAP' : '',\n\t\t\tparameters.specularTintMap ? '#define USE_SPECULARTINTMAP' : '',\n\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\n\t\t\tparameters.transmission ? '#define USE_TRANSMISSION' : '',\n\t\t\tparameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '',\n\t\t\tparameters.thicknessMap ? '#define USE_THICKNESSMAP' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexAlphas ? '#define USE_COLOR_ALPHA' : '',\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.skinning ? '#define USE_SKINNING' : '',\n\t\t\tparameters.useVertexTexture ? '#define BONE_TEXTURE' : '',\n\n\t\t\tparameters.morphTargets ? '#define USE_MORPHTARGETS' : '',\n\t\t\tparameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '',\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t'uniform mat4 modelMatrix;',\n\t\t\t'uniform mat4 modelViewMatrix;',\n\t\t\t'uniform mat4 projectionMatrix;',\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform mat3 normalMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\t\t\t'uniform bool isOrthographic;',\n\n\t\t\t'#ifdef USE_INSTANCING',\n\n\t\t\t'\tattribute mat4 instanceMatrix;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_INSTANCING_COLOR',\n\n\t\t\t'\tattribute vec3 instanceColor;',\n\n\t\t\t'#endif',\n\n\t\t\t'attribute vec3 position;',\n\t\t\t'attribute vec3 normal;',\n\t\t\t'attribute vec2 uv;',\n\n\t\t\t'#ifdef USE_TANGENT',\n\n\t\t\t'\tattribute vec4 tangent;',\n\n\t\t\t'#endif',\n\n\t\t\t'#if defined( USE_COLOR_ALPHA )',\n\n\t\t\t'\tattribute vec4 color;',\n\n\t\t\t'#elif defined( USE_COLOR )',\n\n\t\t\t'\tattribute vec3 color;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_MORPHTARGETS',\n\n\t\t\t'\tattribute vec3 morphTarget0;',\n\t\t\t'\tattribute vec3 morphTarget1;',\n\t\t\t'\tattribute vec3 morphTarget2;',\n\t\t\t'\tattribute vec3 morphTarget3;',\n\n\t\t\t'\t#ifdef USE_MORPHNORMALS',\n\n\t\t\t'\t\tattribute vec3 morphNormal0;',\n\t\t\t'\t\tattribute vec3 morphNormal1;',\n\t\t\t'\t\tattribute vec3 morphNormal2;',\n\t\t\t'\t\tattribute vec3 morphNormal3;',\n\n\t\t\t'\t#else',\n\n\t\t\t'\t\tattribute vec3 morphTarget4;',\n\t\t\t'\t\tattribute vec3 morphTarget5;',\n\t\t\t'\t\tattribute vec3 morphTarget6;',\n\t\t\t'\t\tattribute vec3 morphTarget7;',\n\n\t\t\t'\t#endif',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_SKINNING',\n\n\t\t\t'\tattribute vec4 skinIndex;',\n\t\t\t'\tattribute vec4 skinWeight;',\n\n\t\t\t'#endif',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\n\t\t\tgeneratePrecision( parameters ),\n\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\n\n\t\t\tcustomDefines,\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.matcap ? '#define USE_MATCAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapTypeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapBlendingDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\n\t\t\tparameters.clearcoat ? '#define USE_CLEARCOAT' : '',\n\t\t\tparameters.clearcoatMap ? '#define USE_CLEARCOATMAP' : '',\n\t\t\tparameters.clearcoatRoughnessMap ? '#define USE_CLEARCOAT_ROUGHNESSMAP' : '',\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.specularIntensityMap ? '#define USE_SPECULARINTENSITYMAP' : '',\n\t\t\tparameters.specularTintMap ? '#define USE_SPECULARTINTMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\t\t\tparameters.alphaTest ? '#define USE_ALPHATEST' : '',\n\n\t\t\tparameters.sheenTint ? '#define USE_SHEEN' : '',\n\t\t\tparameters.transmission ? '#define USE_TRANSMISSION' : '',\n\t\t\tparameters.transmissionMap ? '#define USE_TRANSMISSIONMAP' : '',\n\t\t\tparameters.thicknessMap ? '#define USE_THICKNESSMAP' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors || parameters.instancingColor ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexAlphas ? '#define USE_COLOR_ALPHA' : '',\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n\t\t\tparameters.gradientMap ? '#define USE_GRADIENTMAP' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '',\n\n\t\t\tparameters.physicallyCorrectLights ? '#define PHYSICALLY_CORRECT_LIGHTS' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t( ( parameters.extensionShaderTextureLOD || parameters.envMap ) && parameters.rendererExtensionShaderTextureLod ) ? '#define TEXTURE_LOD_EXT' : '',\n\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\t\t\t'uniform bool isOrthographic;',\n\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? '#define TONE_MAPPING' : '',\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? ShaderChunk[ 'tonemapping_pars_fragment' ] : '', // this code is required here because it is used by the toneMapping() function defined below\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? getToneMappingFunction( 'toneMapping', parameters.toneMapping ) : '',\n\n\t\t\tparameters.dithering ? '#define DITHERING' : '',\n\t\t\tparameters.format === RGBFormat$1 ? '#define OPAQUE' : '',\n\n\t\t\tShaderChunk[ 'encodings_pars_fragment' ], // this code is required here because it is used by the various encoding/decoding function defined below\n\t\t\tparameters.map ? getTexelDecodingFunction( 'mapTexelToLinear', parameters.mapEncoding ) : '',\n\t\t\tparameters.matcap ? getTexelDecodingFunction( 'matcapTexelToLinear', parameters.matcapEncoding ) : '',\n\t\t\tparameters.envMap ? getTexelDecodingFunction( 'envMapTexelToLinear', parameters.envMapEncoding ) : '',\n\t\t\tparameters.emissiveMap ? getTexelDecodingFunction( 'emissiveMapTexelToLinear', parameters.emissiveMapEncoding ) : '',\n\t\t\tparameters.specularTintMap ? getTexelDecodingFunction( 'specularTintMapTexelToLinear', parameters.specularTintMapEncoding ) : '',\n\t\t\tparameters.lightMap ? getTexelDecodingFunction( 'lightMapTexelToLinear', parameters.lightMapEncoding ) : '',\n\t\t\tgetTexelEncodingFunction( 'linearToOutputTexel', parameters.outputEncoding ),\n\n\t\t\tparameters.depthPacking ? '#define DEPTH_PACKING ' + parameters.depthPacking : '',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t}\n\n\tvertexShader = resolveIncludes( vertexShader );\n\tvertexShader = replaceLightNums( vertexShader, parameters );\n\tvertexShader = replaceClippingPlaneNums( vertexShader, parameters );\n\n\tfragmentShader = resolveIncludes( fragmentShader );\n\tfragmentShader = replaceLightNums( fragmentShader, parameters );\n\tfragmentShader = replaceClippingPlaneNums( fragmentShader, parameters );\n\n\tvertexShader = unrollLoops( vertexShader );\n\tfragmentShader = unrollLoops( fragmentShader );\n\n\tif ( parameters.isWebGL2 && parameters.isRawShaderMaterial !== true ) {\n\n\t\t// GLSL 3.0 conversion for built-in materials and ShaderMaterial\n\n\t\tversionString = '#version 300 es\\n';\n\n\t\tprefixVertex = [\n\t\t\t'#define attribute in',\n\t\t\t'#define varying out',\n\t\t\t'#define texture2D texture'\n\t\t].join( '\\n' ) + '\\n' + prefixVertex;\n\n\t\tprefixFragment = [\n\t\t\t'#define varying in',\n\t\t\t( parameters.glslVersion === GLSL3 ) ? '' : 'out highp vec4 pc_fragColor;',\n\t\t\t( parameters.glslVersion === GLSL3 ) ? '' : '#define gl_FragColor pc_fragColor',\n\t\t\t'#define gl_FragDepthEXT gl_FragDepth',\n\t\t\t'#define texture2D texture',\n\t\t\t'#define textureCube texture',\n\t\t\t'#define texture2DProj textureProj',\n\t\t\t'#define texture2DLodEXT textureLod',\n\t\t\t'#define texture2DProjLodEXT textureProjLod',\n\t\t\t'#define textureCubeLodEXT textureLod',\n\t\t\t'#define texture2DGradEXT textureGrad',\n\t\t\t'#define texture2DProjGradEXT textureProjGrad',\n\t\t\t'#define textureCubeGradEXT textureGrad'\n\t\t].join( '\\n' ) + '\\n' + prefixFragment;\n\n\t}\n\n\tconst vertexGlsl = versionString + prefixVertex + vertexShader;\n\tconst fragmentGlsl = versionString + prefixFragment + fragmentShader;\n\n\t// console.log( '*VERTEX*', vertexGlsl );\n\t// console.log( '*FRAGMENT*', fragmentGlsl );\n\n\tconst glVertexShader = WebGLShader( gl, 35633, vertexGlsl );\n\tconst glFragmentShader = WebGLShader( gl, 35632, fragmentGlsl );\n\n\tgl.attachShader( program, glVertexShader );\n\tgl.attachShader( program, glFragmentShader );\n\n\t// Force a particular attribute to index 0.\n\n\tif ( parameters.index0AttributeName !== undefined ) {\n\n\t\tgl.bindAttribLocation( program, 0, parameters.index0AttributeName );\n\n\t} else if ( parameters.morphTargets === true ) {\n\n\t\t// programs with morphTargets displace position out of attribute 0\n\t\tgl.bindAttribLocation( program, 0, 'position' );\n\n\t}\n\n\tgl.linkProgram( program );\n\n\t// check for link errors\n\tif ( renderer.debug.checkShaderErrors ) {\n\n\t\tconst programLog = gl.getProgramInfoLog( program ).trim();\n\t\tconst vertexLog = gl.getShaderInfoLog( glVertexShader ).trim();\n\t\tconst fragmentLog = gl.getShaderInfoLog( glFragmentShader ).trim();\n\n\t\tlet runnable = true;\n\t\tlet haveDiagnostics = true;\n\n\t\tif ( gl.getProgramParameter( program, 35714 ) === false ) {\n\n\t\t\trunnable = false;\n\n\t\t\tconst vertexErrors = getShaderErrors( gl, glVertexShader, 'vertex' );\n\t\t\tconst fragmentErrors = getShaderErrors( gl, glFragmentShader, 'fragment' );\n\n\t\t\tconsole.error(\n\t\t\t\t'THREE.WebGLProgram: Shader Error ' + gl.getError() + ' - ' +\n\t\t\t\t'VALIDATE_STATUS ' + gl.getProgramParameter( program, 35715 ) + '\\n\\n' +\n\t\t\t\t'Program Info Log: ' + programLog + '\\n' +\n\t\t\t\tvertexErrors + '\\n' +\n\t\t\t\tfragmentErrors\n\t\t\t);\n\n\t\t} else if ( programLog !== '' ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLProgram: Program Info Log:', programLog );\n\n\t\t} else if ( vertexLog === '' || fragmentLog === '' ) {\n\n\t\t\thaveDiagnostics = false;\n\n\t\t}\n\n\t\tif ( haveDiagnostics ) {\n\n\t\t\tthis.diagnostics = {\n\n\t\t\t\trunnable: runnable,\n\n\t\t\t\tprogramLog: programLog,\n\n\t\t\t\tvertexShader: {\n\n\t\t\t\t\tlog: vertexLog,\n\t\t\t\t\tprefix: prefixVertex\n\n\t\t\t\t},\n\n\t\t\t\tfragmentShader: {\n\n\t\t\t\t\tlog: fragmentLog,\n\t\t\t\t\tprefix: prefixFragment\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}\n\n\t}\n\n\t// Clean up\n\n\t// Crashes in iOS9 and iOS10. #18402\n\t// gl.detachShader( program, glVertexShader );\n\t// gl.detachShader( program, glFragmentShader );\n\n\tgl.deleteShader( glVertexShader );\n\tgl.deleteShader( glFragmentShader );\n\n\t// set up caching for uniform locations\n\n\tlet cachedUniforms;\n\n\tthis.getUniforms = function () {\n\n\t\tif ( cachedUniforms === undefined ) {\n\n\t\t\tcachedUniforms = new WebGLUniforms( gl, program );\n\n\t\t}\n\n\t\treturn cachedUniforms;\n\n\t};\n\n\t// set up caching for attribute locations\n\n\tlet cachedAttributes;\n\n\tthis.getAttributes = function () {\n\n\t\tif ( cachedAttributes === undefined ) {\n\n\t\t\tcachedAttributes = fetchAttributeLocations( gl, program );\n\n\t\t}\n\n\t\treturn cachedAttributes;\n\n\t};\n\n\t// free resource\n\n\tthis.destroy = function () {\n\n\t\tbindingStates.releaseStatesOfProgram( this );\n\n\t\tgl.deleteProgram( program );\n\t\tthis.program = undefined;\n\n\t};\n\n\t//\n\n\tthis.name = parameters.shaderName;\n\tthis.id = programIdCount ++;\n\tthis.cacheKey = cacheKey;\n\tthis.usedTimes = 1;\n\tthis.program = program;\n\tthis.vertexShader = glVertexShader;\n\tthis.fragmentShader = glFragmentShader;\n\n\treturn this;\n\n}\n\nfunction WebGLPrograms( renderer, cubemaps, cubeuvmaps, extensions, capabilities, bindingStates, clipping ) {\n\n\tconst programs = [];\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\tconst logarithmicDepthBuffer = capabilities.logarithmicDepthBuffer;\n\tconst floatVertexTextures = capabilities.floatVertexTextures;\n\tconst maxVertexUniforms = capabilities.maxVertexUniforms;\n\tconst vertexTextures = capabilities.vertexTextures;\n\n\tlet precision = capabilities.precision;\n\n\tconst shaderIDs = {\n\t\tMeshDepthMaterial: 'depth',\n\t\tMeshDistanceMaterial: 'distanceRGBA',\n\t\tMeshNormalMaterial: 'normal',\n\t\tMeshBasicMaterial: 'basic',\n\t\tMeshLambertMaterial: 'lambert',\n\t\tMeshPhongMaterial: 'phong',\n\t\tMeshToonMaterial: 'toon',\n\t\tMeshStandardMaterial: 'physical',\n\t\tMeshPhysicalMaterial: 'physical',\n\t\tMeshMatcapMaterial: 'matcap',\n\t\tLineBasicMaterial: 'basic',\n\t\tLineDashedMaterial: 'dashed',\n\t\tPointsMaterial: 'points',\n\t\tShadowMaterial: 'shadow',\n\t\tSpriteMaterial: 'sprite'\n\t};\n\n\tconst parameterNames = [\n\t\t'precision', 'isWebGL2', 'supportsVertexTextures', 'outputEncoding', 'instancing', 'instancingColor',\n\t\t'map', 'mapEncoding', 'matcap', 'matcapEncoding', 'envMap', 'envMapMode', 'envMapEncoding', 'envMapCubeUV',\n\t\t'lightMap', 'lightMapEncoding', 'aoMap', 'emissiveMap', 'emissiveMapEncoding', 'bumpMap', 'normalMap',\n\t\t'objectSpaceNormalMap', 'tangentSpaceNormalMap',\n\t\t'clearcoat', 'clearcoatMap', 'clearcoatRoughnessMap', 'clearcoatNormalMap',\n\t\t'displacementMap',\n\t\t'specularMap', 'specularIntensityMap', 'specularTintMap', 'specularTintMapEncoding', 'roughnessMap', 'metalnessMap', 'gradientMap',\n\t\t'alphaMap', 'alphaTest', 'combine', 'vertexColors', 'vertexAlphas', 'vertexTangents', 'vertexUvs', 'uvsVertexOnly', 'fog', 'useFog', 'fogExp2',\n\t\t'flatShading', 'sizeAttenuation', 'logarithmicDepthBuffer', 'skinning',\n\t\t'maxBones', 'useVertexTexture', 'morphTargets', 'morphNormals', 'premultipliedAlpha',\n\t\t'numDirLights', 'numPointLights', 'numSpotLights', 'numHemiLights', 'numRectAreaLights',\n\t\t'numDirLightShadows', 'numPointLightShadows', 'numSpotLightShadows',\n\t\t'shadowMapEnabled', 'shadowMapType', 'toneMapping', 'physicallyCorrectLights',\n\t\t'doubleSided', 'flipSided', 'numClippingPlanes', 'numClipIntersection', 'depthPacking', 'dithering', 'format',\n\t\t'sheenTint', 'transmission', 'transmissionMap', 'thicknessMap'\n\t];\n\n\tfunction getMaxBones( object ) {\n\n\t\tconst skeleton = object.skeleton;\n\t\tconst bones = skeleton.bones;\n\n\t\tif ( floatVertexTextures ) {\n\n\t\t\treturn 1024;\n\n\t\t} else {\n\n\t\t\t// default for when object is not specified\n\t\t\t// ( for example when prebuilding shader to be used with multiple objects )\n\t\t\t//\n\t\t\t//  - leave some extra space for other uniforms\n\t\t\t//  - limit here is ANGLE's 254 max uniform vectors\n\t\t\t//    (up to 54 should be safe)\n\n\t\t\tconst nVertexUniforms = maxVertexUniforms;\n\t\t\tconst nVertexMatrices = Math.floor( ( nVertexUniforms - 20 ) / 4 );\n\n\t\t\tconst maxBones = Math.min( nVertexMatrices, bones.length );\n\n\t\t\tif ( maxBones < bones.length ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Skeleton has ' + bones.length + ' bones. This GPU supports ' + maxBones + '.' );\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\treturn maxBones;\n\n\t\t}\n\n\t}\n\n\tfunction getTextureEncodingFromMap( map ) {\n\n\t\tlet encoding;\n\n\t\tif ( map && map.isTexture ) {\n\n\t\t\tencoding = map.encoding;\n\n\t\t} else if ( map && map.isWebGLRenderTarget ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLPrograms.getTextureEncodingFromMap: don\\'t use render targets as textures. Use their .texture property instead.' );\n\t\t\tencoding = map.texture.encoding;\n\n\t\t} else {\n\n\t\t\tencoding = LinearEncoding;\n\n\t\t}\n\n\t\treturn encoding;\n\n\t}\n\n\tfunction getParameters( material, lights, shadows, scene, object ) {\n\n\t\tconst fog = scene.fog;\n\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\n\n\t\tconst envMap = ( material.isMeshStandardMaterial ? cubeuvmaps : cubemaps ).get( material.envMap || environment );\n\n\t\tconst shaderID = shaderIDs[ material.type ];\n\n\t\t// heuristics to create shader parameters according to lights in the scene\n\t\t// (not to blow over maxLights budget)\n\n\t\tconst maxBones = object.isSkinnedMesh ? getMaxBones( object ) : 0;\n\n\t\tif ( material.precision !== null ) {\n\n\t\t\tprecision = capabilities.getMaxPrecision( material.precision );\n\n\t\t\tif ( precision !== material.precision ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tlet vertexShader, fragmentShader;\n\n\t\tif ( shaderID ) {\n\n\t\t\tconst shader = ShaderLib[ shaderID ];\n\n\t\t\tvertexShader = shader.vertexShader;\n\t\t\tfragmentShader = shader.fragmentShader;\n\n\t\t} else {\n\n\t\t\tvertexShader = material.vertexShader;\n\t\t\tfragmentShader = material.fragmentShader;\n\n\t\t}\n\n\t\tconst currentRenderTarget = renderer.getRenderTarget();\n\n\t\tconst useAlphaTest = material.alphaTest > 0;\n\t\tconst useClearcoat = material.clearcoat > 0;\n\n\t\tconst parameters = {\n\n\t\t\tisWebGL2: isWebGL2,\n\n\t\t\tshaderID: shaderID,\n\t\t\tshaderName: material.type,\n\n\t\t\tvertexShader: vertexShader,\n\t\t\tfragmentShader: fragmentShader,\n\t\t\tdefines: material.defines,\n\n\t\t\tisRawShaderMaterial: material.isRawShaderMaterial === true,\n\t\t\tglslVersion: material.glslVersion,\n\n\t\t\tprecision: precision,\n\n\t\t\tinstancing: object.isInstancedMesh === true,\n\t\t\tinstancingColor: object.isInstancedMesh === true && object.instanceColor !== null,\n\n\t\t\tsupportsVertexTextures: vertexTextures,\n\t\t\toutputEncoding: ( currentRenderTarget !== null ) ? getTextureEncodingFromMap( currentRenderTarget.texture ) : renderer.outputEncoding,\n\t\t\tmap: !! material.map,\n\t\t\tmapEncoding: getTextureEncodingFromMap( material.map ),\n\t\t\tmatcap: !! material.matcap,\n\t\t\tmatcapEncoding: getTextureEncodingFromMap( material.matcap ),\n\t\t\tenvMap: !! envMap,\n\t\t\tenvMapMode: envMap && envMap.mapping,\n\t\t\tenvMapEncoding: getTextureEncodingFromMap( envMap ),\n\t\t\tenvMapCubeUV: ( !! envMap ) && ( ( envMap.mapping === CubeUVReflectionMapping ) || ( envMap.mapping === CubeUVRefractionMapping ) ),\n\t\t\tlightMap: !! material.lightMap,\n\t\t\tlightMapEncoding: getTextureEncodingFromMap( material.lightMap ),\n\t\t\taoMap: !! material.aoMap,\n\t\t\temissiveMap: !! material.emissiveMap,\n\t\t\temissiveMapEncoding: getTextureEncodingFromMap( material.emissiveMap ),\n\t\t\tbumpMap: !! material.bumpMap,\n\t\t\tnormalMap: !! material.normalMap,\n\t\t\tobjectSpaceNormalMap: material.normalMapType === ObjectSpaceNormalMap,\n\t\t\ttangentSpaceNormalMap: material.normalMapType === TangentSpaceNormalMap,\n\n\t\t\tclearcoat: useClearcoat,\n\t\t\tclearcoatMap: useClearcoat && !! material.clearcoatMap,\n\t\t\tclearcoatRoughnessMap: useClearcoat && !! material.clearcoatRoughnessMap,\n\t\t\tclearcoatNormalMap: useClearcoat && !! material.clearcoatNormalMap,\n\n\t\t\tdisplacementMap: !! material.displacementMap,\n\t\t\troughnessMap: !! material.roughnessMap,\n\t\t\tmetalnessMap: !! material.metalnessMap,\n\t\t\tspecularMap: !! material.specularMap,\n\t\t\tspecularIntensityMap: !! material.specularIntensityMap,\n\t\t\tspecularTintMap: !! material.specularTintMap,\n\t\t\tspecularTintMapEncoding: getTextureEncodingFromMap( material.specularTintMap ),\n\n\t\t\talphaMap: !! material.alphaMap,\n\t\t\talphaTest: useAlphaTest,\n\n\t\t\tgradientMap: !! material.gradientMap,\n\n\t\t\tsheenTint: ( !! material.sheenTint && ( material.sheenTint.r > 0 || material.sheenTint.g > 0 || material.sheenTint.b > 0 ) ),\n\n\t\t\ttransmission: material.transmission > 0,\n\t\t\ttransmissionMap: !! material.transmissionMap,\n\t\t\tthicknessMap: !! material.thicknessMap,\n\n\t\t\tcombine: material.combine,\n\n\t\t\tvertexTangents: ( !! material.normalMap && !! object.geometry && !! object.geometry.attributes.tangent ),\n\t\t\tvertexColors: material.vertexColors,\n\t\t\tvertexAlphas: material.vertexColors === true && !! object.geometry && !! object.geometry.attributes.color && object.geometry.attributes.color.itemSize === 4,\n\t\t\tvertexUvs: !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatMap || !! material.clearcoatRoughnessMap || !! material.clearcoatNormalMap || !! material.displacementMap || !! material.transmissionMap || !! material.thicknessMap || !! material.specularIntensityMap || !! material.specularTintMap,\n\t\t\tuvsVertexOnly: ! ( !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatNormalMap || material.transmission > 0 || !! material.transmissionMap || !! material.thicknessMap || !! material.specularIntensityMap || !! material.specularTintMap ) && !! material.displacementMap,\n\n\t\t\tfog: !! fog,\n\t\t\tuseFog: material.fog,\n\t\t\tfogExp2: ( fog && fog.isFogExp2 ),\n\n\t\t\tflatShading: !! material.flatShading,\n\n\t\t\tsizeAttenuation: material.sizeAttenuation,\n\t\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\t\tskinning: object.isSkinnedMesh === true && maxBones > 0,\n\t\t\tmaxBones: maxBones,\n\t\t\tuseVertexTexture: floatVertexTextures,\n\n\t\t\tmorphTargets: !! object.geometry && !! object.geometry.morphAttributes.position,\n\t\t\tmorphNormals: !! object.geometry && !! object.geometry.morphAttributes.normal,\n\n\t\t\tnumDirLights: lights.directional.length,\n\t\t\tnumPointLights: lights.point.length,\n\t\t\tnumSpotLights: lights.spot.length,\n\t\t\tnumRectAreaLights: lights.rectArea.length,\n\t\t\tnumHemiLights: lights.hemi.length,\n\n\t\t\tnumDirLightShadows: lights.directionalShadowMap.length,\n\t\t\tnumPointLightShadows: lights.pointShadowMap.length,\n\t\t\tnumSpotLightShadows: lights.spotShadowMap.length,\n\n\t\t\tnumClippingPlanes: clipping.numPlanes,\n\t\t\tnumClipIntersection: clipping.numIntersection,\n\n\t\t\tformat: material.format,\n\t\t\tdithering: material.dithering,\n\n\t\t\tshadowMapEnabled: renderer.shadowMap.enabled && shadows.length > 0,\n\t\t\tshadowMapType: renderer.shadowMap.type,\n\n\t\t\ttoneMapping: material.toneMapped ? renderer.toneMapping : NoToneMapping,\n\t\t\tphysicallyCorrectLights: renderer.physicallyCorrectLights,\n\n\t\t\tpremultipliedAlpha: material.premultipliedAlpha,\n\n\t\t\tdoubleSided: material.side === DoubleSide,\n\t\t\tflipSided: material.side === BackSide,\n\n\t\t\tdepthPacking: ( material.depthPacking !== undefined ) ? material.depthPacking : false,\n\n\t\t\tindex0AttributeName: material.index0AttributeName,\n\n\t\t\textensionDerivatives: material.extensions && material.extensions.derivatives,\n\t\t\textensionFragDepth: material.extensions && material.extensions.fragDepth,\n\t\t\textensionDrawBuffers: material.extensions && material.extensions.drawBuffers,\n\t\t\textensionShaderTextureLOD: material.extensions && material.extensions.shaderTextureLOD,\n\n\t\t\trendererExtensionFragDepth: isWebGL2 || extensions.has( 'EXT_frag_depth' ),\n\t\t\trendererExtensionDrawBuffers: isWebGL2 || extensions.has( 'WEBGL_draw_buffers' ),\n\t\t\trendererExtensionShaderTextureLod: isWebGL2 || extensions.has( 'EXT_shader_texture_lod' ),\n\n\t\t\tcustomProgramCacheKey: material.customProgramCacheKey()\n\n\t\t};\n\n\t\treturn parameters;\n\n\t}\n\n\tfunction getProgramCacheKey( parameters ) {\n\n\t\tconst array = [];\n\n\t\tif ( parameters.shaderID ) {\n\n\t\t\tarray.push( parameters.shaderID );\n\n\t\t} else {\n\n\t\t\tarray.push( parameters.fragmentShader );\n\t\t\tarray.push( parameters.vertexShader );\n\n\t\t}\n\n\t\tif ( parameters.defines !== undefined ) {\n\n\t\t\tfor ( const name in parameters.defines ) {\n\n\t\t\t\tarray.push( name );\n\t\t\t\tarray.push( parameters.defines[ name ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( parameters.isRawShaderMaterial === false ) {\n\n\t\t\tfor ( let i = 0; i < parameterNames.length; i ++ ) {\n\n\t\t\t\tarray.push( parameters[ parameterNames[ i ] ] );\n\n\t\t\t}\n\n\t\t\tarray.push( renderer.outputEncoding );\n\t\t\tarray.push( renderer.gammaFactor );\n\n\t\t}\n\n\t\tarray.push( parameters.customProgramCacheKey );\n\n\t\treturn array.join();\n\n\t}\n\n\tfunction getUniforms( material ) {\n\n\t\tconst shaderID = shaderIDs[ material.type ];\n\t\tlet uniforms;\n\n\t\tif ( shaderID ) {\n\n\t\t\tconst shader = ShaderLib[ shaderID ];\n\t\t\tuniforms = UniformsUtils.clone( shader.uniforms );\n\n\t\t} else {\n\n\t\t\tuniforms = material.uniforms;\n\n\t\t}\n\n\t\treturn uniforms;\n\n\t}\n\n\tfunction acquireProgram( parameters, cacheKey ) {\n\n\t\tlet program;\n\n\t\t// Check if code has been already compiled\n\t\tfor ( let p = 0, pl = programs.length; p < pl; p ++ ) {\n\n\t\t\tconst preexistingProgram = programs[ p ];\n\n\t\t\tif ( preexistingProgram.cacheKey === cacheKey ) {\n\n\t\t\t\tprogram = preexistingProgram;\n\t\t\t\t++ program.usedTimes;\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( program === undefined ) {\n\n\t\t\tprogram = new WebGLProgram( renderer, cacheKey, parameters, bindingStates );\n\t\t\tprograms.push( program );\n\n\t\t}\n\n\t\treturn program;\n\n\t}\n\n\tfunction releaseProgram( program ) {\n\n\t\tif ( -- program.usedTimes === 0 ) {\n\n\t\t\t// Remove from unordered set\n\t\t\tconst i = programs.indexOf( program );\n\t\t\tprograms[ i ] = programs[ programs.length - 1 ];\n\t\t\tprograms.pop();\n\n\t\t\t// Free WebGL resources\n\t\t\tprogram.destroy();\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tgetParameters: getParameters,\n\t\tgetProgramCacheKey: getProgramCacheKey,\n\t\tgetUniforms: getUniforms,\n\t\tacquireProgram: acquireProgram,\n\t\treleaseProgram: releaseProgram,\n\t\t// Exposed for resource monitoring & error feedback via renderer.info:\n\t\tprograms: programs\n\t};\n\n}\n\nfunction WebGLProperties() {\n\n\tlet properties = new WeakMap();\n\n\tfunction get( object ) {\n\n\t\tlet map = properties.get( object );\n\n\t\tif ( map === undefined ) {\n\n\t\t\tmap = {};\n\t\t\tproperties.set( object, map );\n\n\t\t}\n\n\t\treturn map;\n\n\t}\n\n\tfunction remove( object ) {\n\n\t\tproperties.delete( object );\n\n\t}\n\n\tfunction update( object, key, value ) {\n\n\t\tproperties.get( object )[ key ] = value;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tproperties = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction painterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.program !== b.program ) {\n\n\t\treturn a.program.id - b.program.id;\n\n\t} else if ( a.material.id !== b.material.id ) {\n\n\t\treturn a.material.id - b.material.id;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn a.z - b.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\nfunction reversePainterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn b.z - a.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\n\nfunction WebGLRenderList( properties ) {\n\n\tconst renderItems = [];\n\tlet renderItemsIndex = 0;\n\n\tconst opaque = [];\n\tconst transmissive = [];\n\tconst transparent = [];\n\n\tconst defaultProgram = { id: - 1 };\n\n\tfunction init() {\n\n\t\trenderItemsIndex = 0;\n\n\t\topaque.length = 0;\n\t\ttransmissive.length = 0;\n\t\ttransparent.length = 0;\n\n\t}\n\n\tfunction getNextRenderItem( object, geometry, material, groupOrder, z, group ) {\n\n\t\tlet renderItem = renderItems[ renderItemsIndex ];\n\t\tconst materialProperties = properties.get( material );\n\n\t\tif ( renderItem === undefined ) {\n\n\t\t\trenderItem = {\n\t\t\t\tid: object.id,\n\t\t\t\tobject: object,\n\t\t\t\tgeometry: geometry,\n\t\t\t\tmaterial: material,\n\t\t\t\tprogram: materialProperties.program || defaultProgram,\n\t\t\t\tgroupOrder: groupOrder,\n\t\t\t\trenderOrder: object.renderOrder,\n\t\t\t\tz: z,\n\t\t\t\tgroup: group\n\t\t\t};\n\n\t\t\trenderItems[ renderItemsIndex ] = renderItem;\n\n\t\t} else {\n\n\t\t\trenderItem.id = object.id;\n\t\t\trenderItem.object = object;\n\t\t\trenderItem.geometry = geometry;\n\t\t\trenderItem.material = material;\n\t\t\trenderItem.program = materialProperties.program || defaultProgram;\n\t\t\trenderItem.groupOrder = groupOrder;\n\t\t\trenderItem.renderOrder = object.renderOrder;\n\t\t\trenderItem.z = z;\n\t\t\trenderItem.group = group;\n\n\t\t}\n\n\t\trenderItemsIndex ++;\n\n\t\treturn renderItem;\n\n\t}\n\n\tfunction push( object, geometry, material, groupOrder, z, group ) {\n\n\t\tconst renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\tif ( material.transmission > 0.0 ) {\n\n\t\t\ttransmissive.push( renderItem );\n\n\t\t} else if ( material.transparent === true ) {\n\n\t\t\ttransparent.push( renderItem );\n\n\t\t} else {\n\n\t\t\topaque.push( renderItem );\n\n\t\t}\n\n\t}\n\n\tfunction unshift( object, geometry, material, groupOrder, z, group ) {\n\n\t\tconst renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\tif ( material.transmission > 0.0 ) {\n\n\t\t\ttransmissive.unshift( renderItem );\n\n\t\t} else if ( material.transparent === true ) {\n\n\t\t\ttransparent.unshift( renderItem );\n\n\t\t} else {\n\n\t\t\topaque.unshift( renderItem );\n\n\t\t}\n\n\t}\n\n\tfunction sort( customOpaqueSort, customTransparentSort ) {\n\n\t\tif ( opaque.length > 1 ) opaque.sort( customOpaqueSort || painterSortStable );\n\t\tif ( transmissive.length > 1 ) transmissive.sort( customTransparentSort || reversePainterSortStable );\n\t\tif ( transparent.length > 1 ) transparent.sort( customTransparentSort || reversePainterSortStable );\n\n\t}\n\n\tfunction finish() {\n\n\t\t// Clear references from inactive renderItems in the list\n\n\t\tfor ( let i = renderItemsIndex, il = renderItems.length; i < il; i ++ ) {\n\n\t\t\tconst renderItem = renderItems[ i ];\n\n\t\t\tif ( renderItem.id === null ) break;\n\n\t\t\trenderItem.id = null;\n\t\t\trenderItem.object = null;\n\t\t\trenderItem.geometry = null;\n\t\t\trenderItem.material = null;\n\t\t\trenderItem.program = null;\n\t\t\trenderItem.group = null;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\topaque: opaque,\n\t\ttransmissive: transmissive,\n\t\ttransparent: transparent,\n\n\t\tinit: init,\n\t\tpush: push,\n\t\tunshift: unshift,\n\t\tfinish: finish,\n\n\t\tsort: sort\n\t};\n\n}\n\nfunction WebGLRenderLists( properties ) {\n\n\tlet lists = new WeakMap();\n\n\tfunction get( scene, renderCallDepth ) {\n\n\t\tlet list;\n\n\t\tif ( lists.has( scene ) === false ) {\n\n\t\t\tlist = new WebGLRenderList( properties );\n\t\t\tlists.set( scene, [ list ] );\n\n\t\t} else {\n\n\t\t\tif ( renderCallDepth >= lists.get( scene ).length ) {\n\n\t\t\t\tlist = new WebGLRenderList( properties );\n\t\t\t\tlists.get( scene ).push( list );\n\n\t\t\t} else {\n\n\t\t\t\tlist = lists.get( scene )[ renderCallDepth ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn list;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tlists = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\nfunction UniformsCache() {\n\n\tconst lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tlet uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tconeCos: 0,\n\t\t\t\t\t\tpenumbraCos: 0,\n\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'HemisphereLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tskyColor: new Color(),\n\t\t\t\t\t\tgroundColor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'RectAreaLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\thalfWidth: new Vector3(),\n\t\t\t\t\t\thalfHeight: new Vector3()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\nfunction ShadowUniformsCache() {\n\n\tconst lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tlet uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowNormalBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2(),\n\t\t\t\t\t\tshadowCameraNear: 1,\n\t\t\t\t\t\tshadowCameraFar: 1000\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\t// TODO (abelnation): set RectAreaLight shadow uniforms\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\n\n\nlet nextVersion = 0;\n\nfunction shadowCastingLightsFirst( lightA, lightB ) {\n\n\treturn ( lightB.castShadow ? 1 : 0 ) - ( lightA.castShadow ? 1 : 0 );\n\n}\n\nfunction WebGLLights( extensions, capabilities ) {\n\n\tconst cache = new UniformsCache();\n\n\tconst shadowCache = ShadowUniformsCache();\n\n\tconst state = {\n\n\t\tversion: 0,\n\n\t\thash: {\n\t\t\tdirectionalLength: - 1,\n\t\t\tpointLength: - 1,\n\t\t\tspotLength: - 1,\n\t\t\trectAreaLength: - 1,\n\t\t\themiLength: - 1,\n\n\t\t\tnumDirectionalShadows: - 1,\n\t\t\tnumPointShadows: - 1,\n\t\t\tnumSpotShadows: - 1\n\t\t},\n\n\t\tambient: [ 0, 0, 0 ],\n\t\tprobe: [],\n\t\tdirectional: [],\n\t\tdirectionalShadow: [],\n\t\tdirectionalShadowMap: [],\n\t\tdirectionalShadowMatrix: [],\n\t\tspot: [],\n\t\tspotShadow: [],\n\t\tspotShadowMap: [],\n\t\tspotShadowMatrix: [],\n\t\trectArea: [],\n\t\trectAreaLTC1: null,\n\t\trectAreaLTC2: null,\n\t\tpoint: [],\n\t\tpointShadow: [],\n\t\tpointShadowMap: [],\n\t\tpointShadowMatrix: [],\n\t\themi: []\n\n\t};\n\n\tfor ( let i = 0; i < 9; i ++ ) state.probe.push( new Vector3() );\n\n\tconst vector3 = new Vector3();\n\tconst matrix4 = new Matrix4();\n\tconst matrix42 = new Matrix4();\n\n\tfunction setup( lights, physicallyCorrectLights ) {\n\n\t\tlet r = 0, g = 0, b = 0;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) state.probe[ i ].set( 0, 0, 0 );\n\n\t\tlet directionalLength = 0;\n\t\tlet pointLength = 0;\n\t\tlet spotLength = 0;\n\t\tlet rectAreaLength = 0;\n\t\tlet hemiLength = 0;\n\n\t\tlet numDirectionalShadows = 0;\n\t\tlet numPointShadows = 0;\n\t\tlet numSpotShadows = 0;\n\n\t\tlights.sort( shadowCastingLightsFirst );\n\n\t\t// artist-friendly light intensity scaling factor\n\t\tconst scaleFactor = ( physicallyCorrectLights !== true ) ? Math.PI : 1;\n\n\t\tfor ( let i = 0, l = lights.length; i < l; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\n\t\t\tconst color = light.color;\n\t\t\tconst intensity = light.intensity;\n\t\t\tconst distance = light.distance;\n\n\t\t\tconst shadowMap = ( light.shadow && light.shadow.map ) ? light.shadow.map.texture : null;\n\n\t\t\tif ( light.isAmbientLight ) {\n\n\t\t\t\tr += color.r * intensity * scaleFactor;\n\t\t\t\tg += color.g * intensity * scaleFactor;\n\t\t\t\tb += color.b * intensity * scaleFactor;\n\n\t\t\t} else if ( light.isLightProbe ) {\n\n\t\t\t\tfor ( let j = 0; j < 9; j ++ ) {\n\n\t\t\t\t\tstate.probe[ j ].addScaledVector( light.sh.coefficients[ j ], intensity );\n\n\t\t\t\t}\n\n\t\t\t} else if ( light.isDirectionalLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity * scaleFactor );\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.directionalShadow[ directionalLength ] = shadowUniforms;\n\t\t\t\t\tstate.directionalShadowMap[ directionalLength ] = shadowMap;\n\t\t\t\t\tstate.directionalShadowMatrix[ directionalLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumDirectionalShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.directional[ directionalLength ] = uniforms;\n\n\t\t\t\tdirectionalLength ++;\n\n\t\t\t} else if ( light.isSpotLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity * scaleFactor );\n\t\t\t\tuniforms.distance = distance;\n\n\t\t\t\tuniforms.coneCos = Math.cos( light.angle );\n\t\t\t\tuniforms.penumbraCos = Math.cos( light.angle * ( 1 - light.penumbra ) );\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.spotShadow[ spotLength ] = shadowUniforms;\n\t\t\t\t\tstate.spotShadowMap[ spotLength ] = shadowMap;\n\t\t\t\t\tstate.spotShadowMatrix[ spotLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumSpotShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.spot[ spotLength ] = uniforms;\n\n\t\t\t\tspotLength ++;\n\n\t\t\t} else if ( light.isRectAreaLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\t// (a) intensity is the total visible light emitted\n\t\t\t\t//uniforms.color.copy( color ).multiplyScalar( intensity / ( light.width * light.height * Math.PI ) );\n\n\t\t\t\t// (b) intensity is the brightness of the light\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\n\n\t\t\t\tstate.rectArea[ rectAreaLength ] = uniforms;\n\n\t\t\t\trectAreaLength ++;\n\n\t\t\t} else if ( light.isPointLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity * scaleFactor );\n\t\t\t\tuniforms.distance = light.distance;\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tconst shadow = light.shadow;\n\n\t\t\t\t\tconst shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowNormalBias = shadow.normalBias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\t\t\t\t\tshadowUniforms.shadowCameraNear = shadow.camera.near;\n\t\t\t\t\tshadowUniforms.shadowCameraFar = shadow.camera.far;\n\n\t\t\t\t\tstate.pointShadow[ pointLength ] = shadowUniforms;\n\t\t\t\t\tstate.pointShadowMap[ pointLength ] = shadowMap;\n\t\t\t\t\tstate.pointShadowMatrix[ pointLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumPointShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.point[ pointLength ] = uniforms;\n\n\t\t\t\tpointLength ++;\n\n\t\t\t} else if ( light.isHemisphereLight ) {\n\n\t\t\t\tconst uniforms = cache.get( light );\n\n\t\t\t\tuniforms.skyColor.copy( light.color ).multiplyScalar( intensity * scaleFactor );\n\t\t\t\tuniforms.groundColor.copy( light.groundColor ).multiplyScalar( intensity * scaleFactor );\n\n\t\t\t\tstate.hemi[ hemiLength ] = uniforms;\n\n\t\t\t\themiLength ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( rectAreaLength > 0 ) {\n\n\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\t// WebGL 2\n\n\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\n\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\n\n\t\t\t} else {\n\n\t\t\t\t// WebGL 1\n\n\t\t\t\tif ( extensions.has( 'OES_texture_float_linear' ) === true ) {\n\n\t\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_FLOAT_1;\n\t\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_FLOAT_2;\n\n\t\t\t\t} else if ( extensions.has( 'OES_texture_half_float_linear' ) === true ) {\n\n\t\t\t\t\tstate.rectAreaLTC1 = UniformsLib.LTC_HALF_1;\n\t\t\t\t\tstate.rectAreaLTC2 = UniformsLib.LTC_HALF_2;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.ambient[ 0 ] = r;\n\t\tstate.ambient[ 1 ] = g;\n\t\tstate.ambient[ 2 ] = b;\n\n\t\tconst hash = state.hash;\n\n\t\tif ( hash.directionalLength !== directionalLength ||\n\t\t\thash.pointLength !== pointLength ||\n\t\t\thash.spotLength !== spotLength ||\n\t\t\thash.rectAreaLength !== rectAreaLength ||\n\t\t\thash.hemiLength !== hemiLength ||\n\t\t\thash.numDirectionalShadows !== numDirectionalShadows ||\n\t\t\thash.numPointShadows !== numPointShadows ||\n\t\t\thash.numSpotShadows !== numSpotShadows ) {\n\n\t\t\tstate.directional.length = directionalLength;\n\t\t\tstate.spot.length = spotLength;\n\t\t\tstate.rectArea.length = rectAreaLength;\n\t\t\tstate.point.length = pointLength;\n\t\t\tstate.hemi.length = hemiLength;\n\n\t\t\tstate.directionalShadow.length = numDirectionalShadows;\n\t\t\tstate.directionalShadowMap.length = numDirectionalShadows;\n\t\t\tstate.pointShadow.length = numPointShadows;\n\t\t\tstate.pointShadowMap.length = numPointShadows;\n\t\t\tstate.spotShadow.length = numSpotShadows;\n\t\t\tstate.spotShadowMap.length = numSpotShadows;\n\t\t\tstate.directionalShadowMatrix.length = numDirectionalShadows;\n\t\t\tstate.pointShadowMatrix.length = numPointShadows;\n\t\t\tstate.spotShadowMatrix.length = numSpotShadows;\n\n\t\t\thash.directionalLength = directionalLength;\n\t\t\thash.pointLength = pointLength;\n\t\t\thash.spotLength = spotLength;\n\t\t\thash.rectAreaLength = rectAreaLength;\n\t\t\thash.hemiLength = hemiLength;\n\n\t\t\thash.numDirectionalShadows = numDirectionalShadows;\n\t\t\thash.numPointShadows = numPointShadows;\n\t\t\thash.numSpotShadows = numSpotShadows;\n\n\t\t\tstate.version = nextVersion ++;\n\n\t\t}\n\n\t}\n\n\tfunction setupView( lights, camera ) {\n\n\t\tlet directionalLength = 0;\n\t\tlet pointLength = 0;\n\t\tlet spotLength = 0;\n\t\tlet rectAreaLength = 0;\n\t\tlet hemiLength = 0;\n\n\t\tconst viewMatrix = camera.matrixWorldInverse;\n\n\t\tfor ( let i = 0, l = lights.length; i < l; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\n\t\t\tif ( light.isDirectionalLight ) {\n\n\t\t\t\tconst uniforms = state.directional[ directionalLength ];\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tdirectionalLength ++;\n\n\t\t\t} else if ( light.isSpotLight ) {\n\n\t\t\t\tconst uniforms = state.spot[ spotLength ];\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tspotLength ++;\n\n\t\t\t} else if ( light.isRectAreaLight ) {\n\n\t\t\t\tconst uniforms = state.rectArea[ rectAreaLength ];\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\t// extract local rotation of light to derive width/height half vectors\n\t\t\t\tmatrix42.identity();\n\t\t\t\tmatrix4.copy( light.matrixWorld );\n\t\t\t\tmatrix4.premultiply( viewMatrix );\n\t\t\t\tmatrix42.extractRotation( matrix4 );\n\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\n\n\t\t\t\tuniforms.halfWidth.applyMatrix4( matrix42 );\n\t\t\t\tuniforms.halfHeight.applyMatrix4( matrix42 );\n\n\t\t\t\trectAreaLength ++;\n\n\t\t\t} else if ( light.isPointLight ) {\n\n\t\t\t\tconst uniforms = state.point[ pointLength ];\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tpointLength ++;\n\n\t\t\t} else if ( light.isHemisphereLight ) {\n\n\t\t\t\tconst uniforms = state.hemi[ hemiLength ];\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\t\t\t\tuniforms.direction.normalize();\n\n\t\t\t\themiLength ++;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tsetup: setup,\n\t\tsetupView: setupView,\n\t\tstate: state\n\t};\n\n}\n\nfunction WebGLRenderState( extensions, capabilities ) {\n\n\tconst lights = new WebGLLights( extensions, capabilities );\n\n\tconst lightsArray = [];\n\tconst shadowsArray = [];\n\n\tfunction init() {\n\n\t\tlightsArray.length = 0;\n\t\tshadowsArray.length = 0;\n\n\t}\n\n\tfunction pushLight( light ) {\n\n\t\tlightsArray.push( light );\n\n\t}\n\n\tfunction pushShadow( shadowLight ) {\n\n\t\tshadowsArray.push( shadowLight );\n\n\t}\n\n\tfunction setupLights( physicallyCorrectLights ) {\n\n\t\tlights.setup( lightsArray, physicallyCorrectLights );\n\n\t}\n\n\tfunction setupLightsView( camera ) {\n\n\t\tlights.setupView( lightsArray, camera );\n\n\t}\n\n\tconst state = {\n\t\tlightsArray: lightsArray,\n\t\tshadowsArray: shadowsArray,\n\n\t\tlights: lights\n\t};\n\n\treturn {\n\t\tinit: init,\n\t\tstate: state,\n\t\tsetupLights: setupLights,\n\t\tsetupLightsView: setupLightsView,\n\n\t\tpushLight: pushLight,\n\t\tpushShadow: pushShadow\n\t};\n\n}\n\nfunction WebGLRenderStates( extensions, capabilities ) {\n\n\tlet renderStates = new WeakMap();\n\n\tfunction get( scene, renderCallDepth = 0 ) {\n\n\t\tlet renderState;\n\n\t\tif ( renderStates.has( scene ) === false ) {\n\n\t\t\trenderState = new WebGLRenderState( extensions, capabilities );\n\t\t\trenderStates.set( scene, [ renderState ] );\n\n\t\t} else {\n\n\t\t\tif ( renderCallDepth >= renderStates.get( scene ).length ) {\n\n\t\t\t\trenderState = new WebGLRenderState( extensions, capabilities );\n\t\t\t\trenderStates.get( scene ).push( renderState );\n\n\t\t\t} else {\n\n\t\t\t\trenderState = renderStates.get( scene )[ renderCallDepth ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn renderState;\n\n\t}\n\n\tfunction dispose() {\n\n\t\trenderStates = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * parameters = {\n *\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n * }\n */\n\nclass MeshDepthMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshDepthMaterial';\n\n\t\tthis.depthPacking = BasicDepthPacking;\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\n\t\tthis.fog = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.depthPacking = source.depthPacking;\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshDepthMaterial.prototype.isMeshDepthMaterial = true;\n\n/**\n * parameters = {\n *\n *  referencePosition: <float>,\n *  nearDistance: <float>,\n *  farDistance: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>\n *\n * }\n */\n\nclass MeshDistanceMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshDistanceMaterial';\n\n\t\tthis.referencePosition = new Vector3();\n\t\tthis.nearDistance = 1;\n\t\tthis.farDistance = 1000;\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.fog = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.referencePosition.copy( source.referencePosition );\n\t\tthis.nearDistance = source.nearDistance;\n\t\tthis.farDistance = source.farDistance;\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshDistanceMaterial.prototype.isMeshDistanceMaterial = true;\n\nvar vsm_frag = \"uniform sampler2D shadow_pass;\\nuniform vec2 resolution;\\nuniform float radius;\\nuniform float samples;\\n#include <packing>\\nvoid main() {\\n\\tfloat mean = 0.0;\\n\\tfloat squared_mean = 0.0;\\n\\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\\n\\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\\n\\tfor ( float i = 0.0; i < samples; i ++ ) {\\n\\t\\tfloat uvOffset = uvStart + i * uvStride;\\n\\t\\t#ifdef HORIZONTAL_PASS\\n\\t\\t\\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\\n\\t\\t\\tmean += distribution.x;\\n\\t\\t\\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\\n\\t\\t#else\\n\\t\\t\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\\n\\t\\t\\tmean += depth;\\n\\t\\t\\tsquared_mean += depth * depth;\\n\\t\\t#endif\\n\\t}\\n\\tmean = mean / samples;\\n\\tsquared_mean = squared_mean / samples;\\n\\tfloat std_dev = sqrt( squared_mean - mean * mean );\\n\\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\\n}\";\n\nvar vsm_vert = \"void main() {\\n\\tgl_Position = vec4( position, 1.0 );\\n}\";\n\nfunction WebGLShadowMap( _renderer, _objects, _capabilities ) {\n\n\tlet _frustum = new Frustum();\n\n\tconst _shadowMapSize = new Vector2(),\n\t\t_viewportSize = new Vector2(),\n\n\t\t_viewport = new Vector4(),\n\n\t\t_depthMaterial = new MeshDepthMaterial( { depthPacking: RGBADepthPacking } ),\n\t\t_distanceMaterial = new MeshDistanceMaterial(),\n\n\t\t_materialCache = {},\n\n\t\t_maxTextureSize = _capabilities.maxTextureSize;\n\n\tconst shadowSide = { 0: BackSide, 1: FrontSide, 2: DoubleSide };\n\n\tconst shadowMaterialVertical = new ShaderMaterial( {\n\n\t\tuniforms: {\n\t\t\tshadow_pass: { value: null },\n\t\t\tresolution: { value: new Vector2() },\n\t\t\tradius: { value: 4.0 },\n\t\t\tsamples: { value: 8.0 }\n\t\t},\n\n\t\tvertexShader: vsm_vert,\n\n\t\tfragmentShader: vsm_frag\n\n\t} );\n\n\tconst shadowMaterialHorizontal = shadowMaterialVertical.clone();\n\tshadowMaterialHorizontal.defines.HORIZONTAL_PASS = 1;\n\n\tconst fullScreenTri = new BufferGeometry();\n\tfullScreenTri.setAttribute(\n\t\t'position',\n\t\tnew BufferAttribute(\n\t\t\tnew Float32Array( [ - 1, - 1, 0.5, 3, - 1, 0.5, - 1, 3, 0.5 ] ),\n\t\t\t3\n\t\t)\n\t);\n\n\tconst fullScreenMesh = new Mesh( fullScreenTri, shadowMaterialVertical );\n\n\tconst scope = this;\n\n\tthis.enabled = false;\n\n\tthis.autoUpdate = true;\n\tthis.needsUpdate = false;\n\n\tthis.type = PCFShadowMap;\n\n\tthis.render = function ( lights, scene, camera ) {\n\n\t\tif ( scope.enabled === false ) return;\n\t\tif ( scope.autoUpdate === false && scope.needsUpdate === false ) return;\n\n\t\tif ( lights.length === 0 ) return;\n\n\t\tconst currentRenderTarget = _renderer.getRenderTarget();\n\t\tconst activeCubeFace = _renderer.getActiveCubeFace();\n\t\tconst activeMipmapLevel = _renderer.getActiveMipmapLevel();\n\n\t\tconst _state = _renderer.state;\n\n\t\t// Set GL state for depth map.\n\t\t_state.setBlending( NoBlending );\n\t\t_state.buffers.color.setClear( 1, 1, 1, 1 );\n\t\t_state.buffers.depth.setTest( true );\n\t\t_state.setScissorTest( false );\n\n\t\t// render depth map\n\n\t\tfor ( let i = 0, il = lights.length; i < il; i ++ ) {\n\n\t\t\tconst light = lights[ i ];\n\t\t\tconst shadow = light.shadow;\n\n\t\t\tif ( shadow === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap:', light, 'has no shadow.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( shadow.autoUpdate === false && shadow.needsUpdate === false ) continue;\n\n\t\t\t_shadowMapSize.copy( shadow.mapSize );\n\n\t\t\tconst shadowFrameExtents = shadow.getFrameExtents();\n\n\t\t\t_shadowMapSize.multiply( shadowFrameExtents );\n\n\t\t\t_viewportSize.copy( shadow.mapSize );\n\n\t\t\tif ( _shadowMapSize.x > _maxTextureSize || _shadowMapSize.y > _maxTextureSize ) {\n\n\t\t\t\tif ( _shadowMapSize.x > _maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.x = Math.floor( _maxTextureSize / shadowFrameExtents.x );\n\t\t\t\t\t_shadowMapSize.x = _viewportSize.x * shadowFrameExtents.x;\n\t\t\t\t\tshadow.mapSize.x = _viewportSize.x;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _shadowMapSize.y > _maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.y = Math.floor( _maxTextureSize / shadowFrameExtents.y );\n\t\t\t\t\t_shadowMapSize.y = _viewportSize.y * shadowFrameExtents.y;\n\t\t\t\t\tshadow.mapSize.y = _viewportSize.y;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null && ! shadow.isPointLightShadow && this.type === VSMShadowMap ) {\n\n\t\t\t\tconst pars = { minFilter: LinearFilter, magFilter: LinearFilter, format: RGBAFormat };\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + '.shadowMap';\n\n\t\t\t\tshadow.mapPass = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\n\t\t\t\tshadow.camera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null ) {\n\n\t\t\t\tconst pars = { minFilter: NearestFilter, magFilter: NearestFilter, format: RGBAFormat };\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + '.shadowMap';\n\n\t\t\t\tshadow.camera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\t_renderer.setRenderTarget( shadow.map );\n\t\t\t_renderer.clear();\n\n\t\t\tconst viewportCount = shadow.getViewportCount();\n\n\t\t\tfor ( let vp = 0; vp < viewportCount; vp ++ ) {\n\n\t\t\t\tconst viewport = shadow.getViewport( vp );\n\n\t\t\t\t_viewport.set(\n\t\t\t\t\t_viewportSize.x * viewport.x,\n\t\t\t\t\t_viewportSize.y * viewport.y,\n\t\t\t\t\t_viewportSize.x * viewport.z,\n\t\t\t\t\t_viewportSize.y * viewport.w\n\t\t\t\t);\n\n\t\t\t\t_state.viewport( _viewport );\n\n\t\t\t\tshadow.updateMatrices( light, vp );\n\n\t\t\t\t_frustum = shadow.getFrustum();\n\n\t\t\t\trenderObject( scene, camera, shadow.camera, light, this.type );\n\n\t\t\t}\n\n\t\t\t// do blur pass for VSM\n\n\t\t\tif ( ! shadow.isPointLightShadow && this.type === VSMShadowMap ) {\n\n\t\t\t\tVSMPass( shadow, camera );\n\n\t\t\t}\n\n\t\t\tshadow.needsUpdate = false;\n\n\t\t}\n\n\t\tscope.needsUpdate = false;\n\n\t\t_renderer.setRenderTarget( currentRenderTarget, activeCubeFace, activeMipmapLevel );\n\n\t};\n\n\tfunction VSMPass( shadow, camera ) {\n\n\t\tconst geometry = _objects.update( fullScreenMesh );\n\n\t\t// vertical pass\n\n\t\tshadowMaterialVertical.uniforms.shadow_pass.value = shadow.map.texture;\n\t\tshadowMaterialVertical.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialVertical.uniforms.radius.value = shadow.radius;\n\t\tshadowMaterialVertical.uniforms.samples.value = shadow.blurSamples;\n\t\t_renderer.setRenderTarget( shadow.mapPass );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialVertical, fullScreenMesh, null );\n\n\t\t// horizontal pass\n\n\t\tshadowMaterialHorizontal.uniforms.shadow_pass.value = shadow.mapPass.texture;\n\t\tshadowMaterialHorizontal.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialHorizontal.uniforms.radius.value = shadow.radius;\n\t\tshadowMaterialHorizontal.uniforms.samples.value = shadow.blurSamples;\n\t\t_renderer.setRenderTarget( shadow.map );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialHorizontal, fullScreenMesh, null );\n\n\t}\n\n\tfunction getDepthMaterial( object, geometry, material, light, shadowCameraNear, shadowCameraFar, type ) {\n\n\t\tlet result = null;\n\n\t\tconst customMaterial = ( light.isPointLight === true ) ? object.customDistanceMaterial : object.customDepthMaterial;\n\n\t\tif ( customMaterial !== undefined ) {\n\n\t\t\tresult = customMaterial;\n\n\t\t} else {\n\n\t\t\tresult = ( light.isPointLight === true ) ? _distanceMaterial : _depthMaterial;\n\n\t\t}\n\n\t\tif ( ( _renderer.localClippingEnabled && material.clipShadows === true && material.clippingPlanes.length !== 0 ) ||\n\t\t\t( material.displacementMap && material.displacementScale !== 0 ) ||\n\t\t\t( material.alphaMap && material.alphaTest > 0 ) ) {\n\n\t\t\t// in this case we need a unique material instance reflecting the\n\t\t\t// appropriate state\n\n\t\t\tconst keyA = result.uuid, keyB = material.uuid;\n\n\t\t\tlet materialsForVariant = _materialCache[ keyA ];\n\n\t\t\tif ( materialsForVariant === undefined ) {\n\n\t\t\t\tmaterialsForVariant = {};\n\t\t\t\t_materialCache[ keyA ] = materialsForVariant;\n\n\t\t\t}\n\n\t\t\tlet cachedMaterial = materialsForVariant[ keyB ];\n\n\t\t\tif ( cachedMaterial === undefined ) {\n\n\t\t\t\tcachedMaterial = result.clone();\n\t\t\t\tmaterialsForVariant[ keyB ] = cachedMaterial;\n\n\t\t\t}\n\n\t\t\tresult = cachedMaterial;\n\n\t\t}\n\n\t\tresult.visible = material.visible;\n\t\tresult.wireframe = material.wireframe;\n\n\t\tif ( type === VSMShadowMap ) {\n\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : material.side;\n\n\t\t} else {\n\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : shadowSide[ material.side ];\n\n\t\t}\n\n\t\tresult.alphaMap = material.alphaMap;\n\t\tresult.alphaTest = material.alphaTest;\n\n\t\tresult.clipShadows = material.clipShadows;\n\t\tresult.clippingPlanes = material.clippingPlanes;\n\t\tresult.clipIntersection = material.clipIntersection;\n\n\t\tresult.displacementMap = material.displacementMap;\n\t\tresult.displacementScale = material.displacementScale;\n\t\tresult.displacementBias = material.displacementBias;\n\n\t\tresult.wireframeLinewidth = material.wireframeLinewidth;\n\t\tresult.linewidth = material.linewidth;\n\n\t\tif ( light.isPointLight === true && result.isMeshDistanceMaterial === true ) {\n\n\t\t\tresult.referencePosition.setFromMatrixPosition( light.matrixWorld );\n\t\t\tresult.nearDistance = shadowCameraNear;\n\t\t\tresult.farDistance = shadowCameraFar;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tfunction renderObject( object, camera, shadowCamera, light, type ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tconst visible = object.layers.test( camera.layers );\n\n\t\tif ( visible && ( object.isMesh || object.isLine || object.isPoints ) ) {\n\n\t\t\tif ( ( object.castShadow || ( object.receiveShadow && type === VSMShadowMap ) ) && ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) ) {\n\n\t\t\t\tobject.modelViewMatrix.multiplyMatrices( shadowCamera.matrixWorldInverse, object.matrixWorld );\n\n\t\t\t\tconst geometry = _objects.update( object );\n\t\t\t\tconst material = object.material;\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tconst groups = geometry.groups;\n\n\t\t\t\t\tfor ( let k = 0, kl = groups.length; k < kl; k ++ ) {\n\n\t\t\t\t\t\tconst group = groups[ k ];\n\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\tconst depthMaterial = getDepthMaterial( object, geometry, groupMaterial, light, shadowCamera.near, shadowCamera.far, type );\n\n\t\t\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, group );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\tconst depthMaterial = getDepthMaterial( object, geometry, material, light, shadowCamera.near, shadowCamera.far, type );\n\n\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, null );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\trenderObject( children[ i ], camera, shadowCamera, light, type );\n\n\t\t}\n\n\t}\n\n}\n\nfunction WebGLState( gl, extensions, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tfunction ColorBuffer() {\n\n\t\tlet locked = false;\n\n\t\tconst color = new Vector4();\n\t\tlet currentColorMask = null;\n\t\tconst currentColorClear = new Vector4( 0, 0, 0, 0 );\n\n\t\treturn {\n\n\t\t\tsetMask: function ( colorMask ) {\n\n\t\t\t\tif ( currentColorMask !== colorMask && ! locked ) {\n\n\t\t\t\t\tgl.colorMask( colorMask, colorMask, colorMask, colorMask );\n\t\t\t\t\tcurrentColorMask = colorMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( r, g, b, a, premultipliedAlpha ) {\n\n\t\t\t\tif ( premultipliedAlpha === true ) {\n\n\t\t\t\t\tr *= a; g *= a; b *= a;\n\n\t\t\t\t}\n\n\t\t\t\tcolor.set( r, g, b, a );\n\n\t\t\t\tif ( currentColorClear.equals( color ) === false ) {\n\n\t\t\t\t\tgl.clearColor( r, g, b, a );\n\t\t\t\t\tcurrentColorClear.copy( color );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentColorMask = null;\n\t\t\t\tcurrentColorClear.set( - 1, 0, 0, 0 ); // set to invalid state\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction DepthBuffer() {\n\n\t\tlet locked = false;\n\n\t\tlet currentDepthMask = null;\n\t\tlet currentDepthFunc = null;\n\t\tlet currentDepthClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( depthTest ) {\n\n\t\t\t\tif ( depthTest ) {\n\n\t\t\t\t\tenable( 2929 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdisable( 2929 );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( depthMask ) {\n\n\t\t\t\tif ( currentDepthMask !== depthMask && ! locked ) {\n\n\t\t\t\t\tgl.depthMask( depthMask );\n\t\t\t\t\tcurrentDepthMask = depthMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( depthFunc ) {\n\n\t\t\t\tif ( currentDepthFunc !== depthFunc ) {\n\n\t\t\t\t\tif ( depthFunc ) {\n\n\t\t\t\t\t\tswitch ( depthFunc ) {\n\n\t\t\t\t\t\t\tcase NeverDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 512 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase AlwaysDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 519 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 513 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase EqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 514 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 518 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 516 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase NotEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 517 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcurrentDepthFunc = depthFunc;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( depth ) {\n\n\t\t\t\tif ( currentDepthClear !== depth ) {\n\n\t\t\t\t\tgl.clearDepth( depth );\n\t\t\t\t\tcurrentDepthClear = depth;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentDepthMask = null;\n\t\t\t\tcurrentDepthFunc = null;\n\t\t\t\tcurrentDepthClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction StencilBuffer() {\n\n\t\tlet locked = false;\n\n\t\tlet currentStencilMask = null;\n\t\tlet currentStencilFunc = null;\n\t\tlet currentStencilRef = null;\n\t\tlet currentStencilFuncMask = null;\n\t\tlet currentStencilFail = null;\n\t\tlet currentStencilZFail = null;\n\t\tlet currentStencilZPass = null;\n\t\tlet currentStencilClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( stencilTest ) {\n\n\t\t\t\tif ( ! locked ) {\n\n\t\t\t\t\tif ( stencilTest ) {\n\n\t\t\t\t\t\tenable( 2960 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdisable( 2960 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( stencilMask ) {\n\n\t\t\t\tif ( currentStencilMask !== stencilMask && ! locked ) {\n\n\t\t\t\t\tgl.stencilMask( stencilMask );\n\t\t\t\t\tcurrentStencilMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( stencilFunc, stencilRef, stencilMask ) {\n\n\t\t\t\tif ( currentStencilFunc !== stencilFunc ||\n\t\t\t\t     currentStencilRef !== stencilRef ||\n\t\t\t\t     currentStencilFuncMask !== stencilMask ) {\n\n\t\t\t\t\tgl.stencilFunc( stencilFunc, stencilRef, stencilMask );\n\n\t\t\t\t\tcurrentStencilFunc = stencilFunc;\n\t\t\t\t\tcurrentStencilRef = stencilRef;\n\t\t\t\t\tcurrentStencilFuncMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetOp: function ( stencilFail, stencilZFail, stencilZPass ) {\n\n\t\t\t\tif ( currentStencilFail !== stencilFail ||\n\t\t\t\t     currentStencilZFail !== stencilZFail ||\n\t\t\t\t     currentStencilZPass !== stencilZPass ) {\n\n\t\t\t\t\tgl.stencilOp( stencilFail, stencilZFail, stencilZPass );\n\n\t\t\t\t\tcurrentStencilFail = stencilFail;\n\t\t\t\t\tcurrentStencilZFail = stencilZFail;\n\t\t\t\t\tcurrentStencilZPass = stencilZPass;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( stencil ) {\n\n\t\t\t\tif ( currentStencilClear !== stencil ) {\n\n\t\t\t\t\tgl.clearStencil( stencil );\n\t\t\t\t\tcurrentStencilClear = stencil;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentStencilMask = null;\n\t\t\t\tcurrentStencilFunc = null;\n\t\t\t\tcurrentStencilRef = null;\n\t\t\t\tcurrentStencilFuncMask = null;\n\t\t\t\tcurrentStencilFail = null;\n\t\t\t\tcurrentStencilZFail = null;\n\t\t\t\tcurrentStencilZPass = null;\n\t\t\t\tcurrentStencilClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t//\n\n\tconst colorBuffer = new ColorBuffer();\n\tconst depthBuffer = new DepthBuffer();\n\tconst stencilBuffer = new StencilBuffer();\n\n\tlet enabledCapabilities = {};\n\n\tlet xrFramebuffer = null;\n\tlet currentBoundFramebuffers = {};\n\n\tlet currentProgram = null;\n\n\tlet currentBlendingEnabled = false;\n\tlet currentBlending = null;\n\tlet currentBlendEquation = null;\n\tlet currentBlendSrc = null;\n\tlet currentBlendDst = null;\n\tlet currentBlendEquationAlpha = null;\n\tlet currentBlendSrcAlpha = null;\n\tlet currentBlendDstAlpha = null;\n\tlet currentPremultipledAlpha = false;\n\n\tlet currentFlipSided = null;\n\tlet currentCullFace = null;\n\n\tlet currentLineWidth = null;\n\n\tlet currentPolygonOffsetFactor = null;\n\tlet currentPolygonOffsetUnits = null;\n\n\tconst maxTextures = gl.getParameter( 35661 );\n\n\tlet lineWidthAvailable = false;\n\tlet version = 0;\n\tconst glVersion = gl.getParameter( 7938 );\n\n\tif ( glVersion.indexOf( 'WebGL' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^WebGL (\\d)/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 1.0 );\n\n\t} else if ( glVersion.indexOf( 'OpenGL ES' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^OpenGL ES (\\d)/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 2.0 );\n\n\t}\n\n\tlet currentTextureSlot = null;\n\tlet currentBoundTextures = {};\n\n\tconst scissorParam = gl.getParameter( 3088 );\n\tconst viewportParam = gl.getParameter( 2978 );\n\n\tconst currentScissor = new Vector4().fromArray( scissorParam );\n\tconst currentViewport = new Vector4().fromArray( viewportParam );\n\n\tfunction createTexture( type, target, count ) {\n\n\t\tconst data = new Uint8Array( 4 ); // 4 is required to match default unpack alignment of 4.\n\t\tconst texture = gl.createTexture();\n\n\t\tgl.bindTexture( type, texture );\n\t\tgl.texParameteri( type, 10241, 9728 );\n\t\tgl.texParameteri( type, 10240, 9728 );\n\n\t\tfor ( let i = 0; i < count; i ++ ) {\n\n\t\t\tgl.texImage2D( target + i, 0, 6408, 1, 1, 0, 6408, 5121, data );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tconst emptyTextures = {};\n\temptyTextures[ 3553 ] = createTexture( 3553, 3553, 1 );\n\temptyTextures[ 34067 ] = createTexture( 34067, 34069, 6 );\n\n\t// init\n\n\tcolorBuffer.setClear( 0, 0, 0, 1 );\n\tdepthBuffer.setClear( 1 );\n\tstencilBuffer.setClear( 0 );\n\n\tenable( 2929 );\n\tdepthBuffer.setFunc( LessEqualDepth );\n\n\tsetFlipSided( false );\n\tsetCullFace( CullFaceBack );\n\tenable( 2884 );\n\n\tsetBlending( NoBlending );\n\n\t//\n\n\tfunction enable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== true ) {\n\n\t\t\tgl.enable( id );\n\t\t\tenabledCapabilities[ id ] = true;\n\n\t\t}\n\n\t}\n\n\tfunction disable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== false ) {\n\n\t\t\tgl.disable( id );\n\t\t\tenabledCapabilities[ id ] = false;\n\n\t\t}\n\n\t}\n\n\tfunction bindXRFramebuffer( framebuffer ) {\n\n\t\tif ( framebuffer !== xrFramebuffer ) {\n\n\t\t\tgl.bindFramebuffer( 36160, framebuffer );\n\n\t\t\txrFramebuffer = framebuffer;\n\n\t\t}\n\n\t}\n\n\tfunction bindFramebuffer( target, framebuffer ) {\n\n\t\tif ( framebuffer === null && xrFramebuffer !== null ) framebuffer = xrFramebuffer; // use active XR framebuffer if available\n\n\t\tif ( currentBoundFramebuffers[ target ] !== framebuffer ) {\n\n\t\t\tgl.bindFramebuffer( target, framebuffer );\n\n\t\t\tcurrentBoundFramebuffers[ target ] = framebuffer;\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t// 36009 is equivalent to 36160\n\n\t\t\t\tif ( target === 36009 ) {\n\n\t\t\t\t\tcurrentBoundFramebuffers[ 36160 ] = framebuffer;\n\n\t\t\t\t}\n\n\t\t\t\tif ( target === 36160 ) {\n\n\t\t\t\t\tcurrentBoundFramebuffers[ 36009 ] = framebuffer;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tfunction useProgram( program ) {\n\n\t\tif ( currentProgram !== program ) {\n\n\t\t\tgl.useProgram( program );\n\n\t\t\tcurrentProgram = program;\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tconst equationToGL = {\n\t\t[ AddEquation ]: 32774,\n\t\t[ SubtractEquation ]: 32778,\n\t\t[ ReverseSubtractEquation ]: 32779\n\t};\n\n\tif ( isWebGL2 ) {\n\n\t\tequationToGL[ MinEquation ] = 32775;\n\t\tequationToGL[ MaxEquation ] = 32776;\n\n\t} else {\n\n\t\tconst extension = extensions.get( 'EXT_blend_minmax' );\n\n\t\tif ( extension !== null ) {\n\n\t\t\tequationToGL[ MinEquation ] = extension.MIN_EXT;\n\t\t\tequationToGL[ MaxEquation ] = extension.MAX_EXT;\n\n\t\t}\n\n\t}\n\n\tconst factorToGL = {\n\t\t[ ZeroFactor ]: 0,\n\t\t[ OneFactor ]: 1,\n\t\t[ SrcColorFactor ]: 768,\n\t\t[ SrcAlphaFactor ]: 770,\n\t\t[ SrcAlphaSaturateFactor ]: 776,\n\t\t[ DstColorFactor ]: 774,\n\t\t[ DstAlphaFactor ]: 772,\n\t\t[ OneMinusSrcColorFactor ]: 769,\n\t\t[ OneMinusSrcAlphaFactor ]: 771,\n\t\t[ OneMinusDstColorFactor ]: 775,\n\t\t[ OneMinusDstAlphaFactor ]: 773\n\t};\n\n\tfunction setBlending( blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha ) {\n\n\t\tif ( blending === NoBlending ) {\n\n\t\t\tif ( currentBlendingEnabled === true ) {\n\n\t\t\t\tdisable( 3042 );\n\t\t\t\tcurrentBlendingEnabled = false;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( currentBlendingEnabled === false ) {\n\n\t\t\tenable( 3042 );\n\t\t\tcurrentBlendingEnabled = true;\n\n\t\t}\n\n\t\tif ( blending !== CustomBlending ) {\n\n\t\t\tif ( blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha ) {\n\n\t\t\t\tif ( currentBlendEquation !== AddEquation || currentBlendEquationAlpha !== AddEquation ) {\n\n\t\t\t\t\tgl.blendEquation( 32774 );\n\n\t\t\t\t\tcurrentBlendEquation = AddEquation;\n\t\t\t\t\tcurrentBlendEquationAlpha = AddEquation;\n\n\t\t\t\t}\n\n\t\t\t\tif ( premultipliedAlpha ) {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 1, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 1, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 0, 769, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 768, 0, 770 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 770, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 770, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 769 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 768 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tcurrentBlendSrc = null;\n\t\t\t\tcurrentBlendDst = null;\n\t\t\t\tcurrentBlendSrcAlpha = null;\n\t\t\t\tcurrentBlendDstAlpha = null;\n\n\t\t\t\tcurrentBlending = blending;\n\t\t\t\tcurrentPremultipledAlpha = premultipliedAlpha;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// custom blending\n\n\t\tblendEquationAlpha = blendEquationAlpha || blendEquation;\n\t\tblendSrcAlpha = blendSrcAlpha || blendSrc;\n\t\tblendDstAlpha = blendDstAlpha || blendDst;\n\n\t\tif ( blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha ) {\n\n\t\t\tgl.blendEquationSeparate( equationToGL[ blendEquation ], equationToGL[ blendEquationAlpha ] );\n\n\t\t\tcurrentBlendEquation = blendEquation;\n\t\t\tcurrentBlendEquationAlpha = blendEquationAlpha;\n\n\t\t}\n\n\t\tif ( blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha ) {\n\n\t\t\tgl.blendFuncSeparate( factorToGL[ blendSrc ], factorToGL[ blendDst ], factorToGL[ blendSrcAlpha ], factorToGL[ blendDstAlpha ] );\n\n\t\t\tcurrentBlendSrc = blendSrc;\n\t\t\tcurrentBlendDst = blendDst;\n\t\t\tcurrentBlendSrcAlpha = blendSrcAlpha;\n\t\t\tcurrentBlendDstAlpha = blendDstAlpha;\n\n\t\t}\n\n\t\tcurrentBlending = blending;\n\t\tcurrentPremultipledAlpha = null;\n\n\t}\n\n\tfunction setMaterial( material, frontFaceCW ) {\n\n\t\tmaterial.side === DoubleSide\n\t\t\t? disable( 2884 )\n\t\t\t: enable( 2884 );\n\n\t\tlet flipSided = ( material.side === BackSide );\n\t\tif ( frontFaceCW ) flipSided = ! flipSided;\n\n\t\tsetFlipSided( flipSided );\n\n\t\t( material.blending === NormalBlending && material.transparent === false )\n\t\t\t? setBlending( NoBlending )\n\t\t\t: setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha );\n\n\t\tdepthBuffer.setFunc( material.depthFunc );\n\t\tdepthBuffer.setTest( material.depthTest );\n\t\tdepthBuffer.setMask( material.depthWrite );\n\t\tcolorBuffer.setMask( material.colorWrite );\n\n\t\tconst stencilWrite = material.stencilWrite;\n\t\tstencilBuffer.setTest( stencilWrite );\n\t\tif ( stencilWrite ) {\n\n\t\t\tstencilBuffer.setMask( material.stencilWriteMask );\n\t\t\tstencilBuffer.setFunc( material.stencilFunc, material.stencilRef, material.stencilFuncMask );\n\t\t\tstencilBuffer.setOp( material.stencilFail, material.stencilZFail, material.stencilZPass );\n\n\t\t}\n\n\t\tsetPolygonOffset( material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits );\n\n\t\tmaterial.alphaToCoverage === true\n\t\t\t? enable( 32926 )\n\t\t\t: disable( 32926 );\n\n\t}\n\n\t//\n\n\tfunction setFlipSided( flipSided ) {\n\n\t\tif ( currentFlipSided !== flipSided ) {\n\n\t\t\tif ( flipSided ) {\n\n\t\t\t\tgl.frontFace( 2304 );\n\n\t\t\t} else {\n\n\t\t\t\tgl.frontFace( 2305 );\n\n\t\t\t}\n\n\t\t\tcurrentFlipSided = flipSided;\n\n\t\t}\n\n\t}\n\n\tfunction setCullFace( cullFace ) {\n\n\t\tif ( cullFace !== CullFaceNone ) {\n\n\t\t\tenable( 2884 );\n\n\t\t\tif ( cullFace !== currentCullFace ) {\n\n\t\t\t\tif ( cullFace === CullFaceBack ) {\n\n\t\t\t\t\tgl.cullFace( 1029 );\n\n\t\t\t\t} else if ( cullFace === CullFaceFront ) {\n\n\t\t\t\t\tgl.cullFace( 1028 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgl.cullFace( 1032 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 2884 );\n\n\t\t}\n\n\t\tcurrentCullFace = cullFace;\n\n\t}\n\n\tfunction setLineWidth( width ) {\n\n\t\tif ( width !== currentLineWidth ) {\n\n\t\t\tif ( lineWidthAvailable ) gl.lineWidth( width );\n\n\t\t\tcurrentLineWidth = width;\n\n\t\t}\n\n\t}\n\n\tfunction setPolygonOffset( polygonOffset, factor, units ) {\n\n\t\tif ( polygonOffset ) {\n\n\t\t\tenable( 32823 );\n\n\t\t\tif ( currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units ) {\n\n\t\t\t\tgl.polygonOffset( factor, units );\n\n\t\t\t\tcurrentPolygonOffsetFactor = factor;\n\t\t\t\tcurrentPolygonOffsetUnits = units;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 32823 );\n\n\t\t}\n\n\t}\n\n\tfunction setScissorTest( scissorTest ) {\n\n\t\tif ( scissorTest ) {\n\n\t\t\tenable( 3089 );\n\n\t\t} else {\n\n\t\t\tdisable( 3089 );\n\n\t\t}\n\n\t}\n\n\t// texture\n\n\tfunction activeTexture( webglSlot ) {\n\n\t\tif ( webglSlot === undefined ) webglSlot = 33984 + maxTextures - 1;\n\n\t\tif ( currentTextureSlot !== webglSlot ) {\n\n\t\t\tgl.activeTexture( webglSlot );\n\t\t\tcurrentTextureSlot = webglSlot;\n\n\t\t}\n\n\t}\n\n\tfunction bindTexture( webglType, webglTexture ) {\n\n\t\tif ( currentTextureSlot === null ) {\n\n\t\t\tactiveTexture();\n\n\t\t}\n\n\t\tlet boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture === undefined ) {\n\n\t\t\tboundTexture = { type: undefined, texture: undefined };\n\t\t\tcurrentBoundTextures[ currentTextureSlot ] = boundTexture;\n\n\t\t}\n\n\t\tif ( boundTexture.type !== webglType || boundTexture.texture !== webglTexture ) {\n\n\t\t\tgl.bindTexture( webglType, webglTexture || emptyTextures[ webglType ] );\n\n\t\t\tboundTexture.type = webglType;\n\t\t\tboundTexture.texture = webglTexture;\n\n\t\t}\n\n\t}\n\n\tfunction unbindTexture() {\n\n\t\tconst boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture !== undefined && boundTexture.type !== undefined ) {\n\n\t\t\tgl.bindTexture( boundTexture.type, null );\n\n\t\t\tboundTexture.type = undefined;\n\t\t\tboundTexture.texture = undefined;\n\n\t\t}\n\n\t}\n\n\tfunction compressedTexImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.compressedTexImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage3D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage3D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction scissor( scissor ) {\n\n\t\tif ( currentScissor.equals( scissor ) === false ) {\n\n\t\t\tgl.scissor( scissor.x, scissor.y, scissor.z, scissor.w );\n\t\t\tcurrentScissor.copy( scissor );\n\n\t\t}\n\n\t}\n\n\tfunction viewport( viewport ) {\n\n\t\tif ( currentViewport.equals( viewport ) === false ) {\n\n\t\t\tgl.viewport( viewport.x, viewport.y, viewport.z, viewport.w );\n\t\t\tcurrentViewport.copy( viewport );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction reset() {\n\n\t\t// reset state\n\n\t\tgl.disable( 3042 );\n\t\tgl.disable( 2884 );\n\t\tgl.disable( 2929 );\n\t\tgl.disable( 32823 );\n\t\tgl.disable( 3089 );\n\t\tgl.disable( 2960 );\n\t\tgl.disable( 32926 );\n\n\t\tgl.blendEquation( 32774 );\n\t\tgl.blendFunc( 1, 0 );\n\t\tgl.blendFuncSeparate( 1, 0, 1, 0 );\n\n\t\tgl.colorMask( true, true, true, true );\n\t\tgl.clearColor( 0, 0, 0, 0 );\n\n\t\tgl.depthMask( true );\n\t\tgl.depthFunc( 513 );\n\t\tgl.clearDepth( 1 );\n\n\t\tgl.stencilMask( 0xffffffff );\n\t\tgl.stencilFunc( 519, 0, 0xffffffff );\n\t\tgl.stencilOp( 7680, 7680, 7680 );\n\t\tgl.clearStencil( 0 );\n\n\t\tgl.cullFace( 1029 );\n\t\tgl.frontFace( 2305 );\n\n\t\tgl.polygonOffset( 0, 0 );\n\n\t\tgl.activeTexture( 33984 );\n\n\t\tgl.bindFramebuffer( 36160, null );\n\n\t\tif ( isWebGL2 === true ) {\n\n\t\t\tgl.bindFramebuffer( 36009, null );\n\t\t\tgl.bindFramebuffer( 36008, null );\n\n\t\t}\n\n\t\tgl.useProgram( null );\n\n\t\tgl.lineWidth( 1 );\n\n\t\tgl.scissor( 0, 0, gl.canvas.width, gl.canvas.height );\n\t\tgl.viewport( 0, 0, gl.canvas.width, gl.canvas.height );\n\n\t\t// reset internals\n\n\t\tenabledCapabilities = {};\n\n\t\tcurrentTextureSlot = null;\n\t\tcurrentBoundTextures = {};\n\n\t\txrFramebuffer = null;\n\t\tcurrentBoundFramebuffers = {};\n\n\t\tcurrentProgram = null;\n\n\t\tcurrentBlendingEnabled = false;\n\t\tcurrentBlending = null;\n\t\tcurrentBlendEquation = null;\n\t\tcurrentBlendSrc = null;\n\t\tcurrentBlendDst = null;\n\t\tcurrentBlendEquationAlpha = null;\n\t\tcurrentBlendSrcAlpha = null;\n\t\tcurrentBlendDstAlpha = null;\n\t\tcurrentPremultipledAlpha = false;\n\n\t\tcurrentFlipSided = null;\n\t\tcurrentCullFace = null;\n\n\t\tcurrentLineWidth = null;\n\n\t\tcurrentPolygonOffsetFactor = null;\n\t\tcurrentPolygonOffsetUnits = null;\n\n\t\tcurrentScissor.set( 0, 0, gl.canvas.width, gl.canvas.height );\n\t\tcurrentViewport.set( 0, 0, gl.canvas.width, gl.canvas.height );\n\n\t\tcolorBuffer.reset();\n\t\tdepthBuffer.reset();\n\t\tstencilBuffer.reset();\n\n\t}\n\n\treturn {\n\n\t\tbuffers: {\n\t\t\tcolor: colorBuffer,\n\t\t\tdepth: depthBuffer,\n\t\t\tstencil: stencilBuffer\n\t\t},\n\n\t\tenable: enable,\n\t\tdisable: disable,\n\n\t\tbindFramebuffer: bindFramebuffer,\n\t\tbindXRFramebuffer: bindXRFramebuffer,\n\n\t\tuseProgram: useProgram,\n\n\t\tsetBlending: setBlending,\n\t\tsetMaterial: setMaterial,\n\n\t\tsetFlipSided: setFlipSided,\n\t\tsetCullFace: setCullFace,\n\n\t\tsetLineWidth: setLineWidth,\n\t\tsetPolygonOffset: setPolygonOffset,\n\n\t\tsetScissorTest: setScissorTest,\n\n\t\tactiveTexture: activeTexture,\n\t\tbindTexture: bindTexture,\n\t\tunbindTexture: unbindTexture,\n\t\tcompressedTexImage2D: compressedTexImage2D,\n\t\ttexImage2D: texImage2D,\n\t\ttexImage3D: texImage3D,\n\n\t\tscissor: scissor,\n\t\tviewport: viewport,\n\n\t\treset: reset\n\n\t};\n\n}\n\nfunction WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\tconst maxTextures = capabilities.maxTextures;\n\tconst maxCubemapSize = capabilities.maxCubemapSize;\n\tconst maxTextureSize = capabilities.maxTextureSize;\n\tconst maxSamples = capabilities.maxSamples;\n\n\tconst _videoTextures = new WeakMap();\n\tlet _canvas;\n\n\t// cordova iOS (as of 5.0) still uses UIWebView, which provides OffscreenCanvas,\n\t// also OffscreenCanvas.getContext(\"webgl\"), but not OffscreenCanvas.getContext(\"2d\")!\n\t// Some implementations may only implement OffscreenCanvas partially (e.g. lacking 2d).\n\n\tlet useOffscreenCanvas = false;\n\n\ttry {\n\n\t\tuseOffscreenCanvas = typeof OffscreenCanvas !== 'undefined'\n\t\t\t&& ( new OffscreenCanvas( 1, 1 ).getContext( '2d' ) ) !== null;\n\n\t} catch ( err ) {\n\n\t\t// Ignore any errors\n\n\t}\n\n\tfunction createCanvas( width, height ) {\n\n\t\t// Use OffscreenCanvas when available. Specially needed in web workers\n\n\t\treturn useOffscreenCanvas ?\n\t\t\tnew OffscreenCanvas( width, height ) :\n\t\t\tdocument.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t}\n\n\tfunction resizeImage( image, needsPowerOfTwo, needsNewCanvas, maxSize ) {\n\n\t\tlet scale = 1;\n\n\t\t// handle case if texture exceeds max size\n\n\t\tif ( image.width > maxSize || image.height > maxSize ) {\n\n\t\t\tscale = maxSize / Math.max( image.width, image.height );\n\n\t\t}\n\n\t\t// only perform resize if necessary\n\n\t\tif ( scale < 1 || needsPowerOfTwo === true ) {\n\n\t\t\t// only perform resize for certain image types\n\n\t\t\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t\t\tconst floor = needsPowerOfTwo ? floorPowerOfTwo : Math.floor;\n\n\t\t\t\tconst width = floor( scale * image.width );\n\t\t\t\tconst height = floor( scale * image.height );\n\n\t\t\t\tif ( _canvas === undefined ) _canvas = createCanvas( width, height );\n\n\t\t\t\t// cube textures can't reuse the same canvas\n\n\t\t\t\tconst canvas = needsNewCanvas ? createCanvas( width, height ) : _canvas;\n\n\t\t\t\tcanvas.width = width;\n\t\t\t\tcanvas.height = height;\n\n\t\t\t\tconst context = canvas.getContext( '2d' );\n\t\t\t\tcontext.drawImage( image, 0, 0, width, height );\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture has been resized from (' + image.width + 'x' + image.height + ') to (' + width + 'x' + height + ').' );\n\n\t\t\t\treturn canvas;\n\n\t\t\t} else {\n\n\t\t\t\tif ( 'data' in image ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Image in DataTexture is too big (' + image.width + 'x' + image.height + ').' );\n\n\t\t\t\t}\n\n\t\t\t\treturn image;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn image;\n\n\t}\n\n\tfunction isPowerOfTwo$1( image ) {\n\n\t\treturn isPowerOfTwo( image.width ) && isPowerOfTwo( image.height );\n\n\t}\n\n\tfunction textureNeedsPowerOfTwo( texture ) {\n\n\t\tif ( isWebGL2 ) return false;\n\n\t\treturn ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) ||\n\t\t\t( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter );\n\n\t}\n\n\tfunction textureNeedsGenerateMipmaps( texture, supportsMips ) {\n\n\t\treturn texture.generateMipmaps && supportsMips &&\n\t\t\ttexture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n\n\t}\n\n\tfunction generateMipmap( target, texture, width, height, depth = 1 ) {\n\n\t\t_gl.generateMipmap( target );\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\ttextureProperties.__maxMipLevel = Math.log2( Math.max( width, height, depth ) );\n\n\t}\n\n\tfunction getInternalFormat( internalFormatName, glFormat, glType ) {\n\n\t\tif ( isWebGL2 === false ) return glFormat;\n\n\t\tif ( internalFormatName !== null ) {\n\n\t\t\tif ( _gl[ internalFormatName ] !== undefined ) return _gl[ internalFormatName ];\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format \\'' + internalFormatName + '\\'' );\n\n\t\t}\n\n\t\tlet internalFormat = glFormat;\n\n\t\tif ( glFormat === 6403 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 33326;\n\t\t\tif ( glType === 5131 ) internalFormat = 33325;\n\t\t\tif ( glType === 5121 ) internalFormat = 33321;\n\n\t\t}\n\n\t\tif ( glFormat === 6407 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 34837;\n\t\t\tif ( glType === 5131 ) internalFormat = 34843;\n\t\t\tif ( glType === 5121 ) internalFormat = 32849;\n\n\t\t}\n\n\t\tif ( glFormat === 6408 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 34836;\n\t\t\tif ( glType === 5131 ) internalFormat = 34842;\n\t\t\tif ( glType === 5121 ) internalFormat = 32856;\n\n\t\t}\n\n\t\tif ( internalFormat === 33325 || internalFormat === 33326 ||\n\t\t\tinternalFormat === 34842 || internalFormat === 34836 ) {\n\n\t\t\textensions.get( 'EXT_color_buffer_float' );\n\n\t\t}\n\n\t\treturn internalFormat;\n\n\t}\n\n\t// Fallback filters for non-power-of-2 textures\n\n\tfunction filterFallback( f ) {\n\n\t\tif ( f === NearestFilter || f === NearestMipmapNearestFilter || f === NearestMipmapLinearFilter ) {\n\n\t\t\treturn 9728;\n\n\t\t}\n\n\t\treturn 9729;\n\n\t}\n\n\t//\n\n\tfunction onTextureDispose( event ) {\n\n\t\tconst texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tdeallocateTexture( texture );\n\n\t\tif ( texture.isVideoTexture ) {\n\n\t\t\t_videoTextures.delete( texture );\n\n\t\t}\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\tfunction onRenderTargetDispose( event ) {\n\n\t\tconst renderTarget = event.target;\n\n\t\trenderTarget.removeEventListener( 'dispose', onRenderTargetDispose );\n\n\t\tdeallocateRenderTarget( renderTarget );\n\n\t}\n\n\t//\n\n\tfunction deallocateTexture( texture ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( textureProperties.__webglInit === undefined ) return;\n\n\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\tproperties.remove( texture );\n\n\t}\n\n\tfunction deallocateRenderTarget( renderTarget ) {\n\n\t\tconst texture = renderTarget.texture;\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( ! renderTarget ) return;\n\n\t\tif ( textureProperties.__webglTexture !== undefined ) {\n\n\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\t\tinfo.memory.textures --;\n\n\t\t}\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\trenderTarget.depthTexture.dispose();\n\n\t\t}\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer[ i ] );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer );\n\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer );\n\t\t\tif ( renderTargetProperties.__webglMultisampledFramebuffer ) _gl.deleteFramebuffer( renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\tif ( renderTargetProperties.__webglColorRenderbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglColorRenderbuffer );\n\t\t\tif ( renderTargetProperties.__webglDepthRenderbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthRenderbuffer );\n\n\t\t}\n\n\t\tif ( renderTarget.isWebGLMultipleRenderTargets ) {\n\n\t\t\tfor ( let i = 0, il = texture.length; i < il; i ++ ) {\n\n\t\t\t\tconst attachmentProperties = properties.get( texture[ i ] );\n\n\t\t\t\tif ( attachmentProperties.__webglTexture ) {\n\n\t\t\t\t\t_gl.deleteTexture( attachmentProperties.__webglTexture );\n\n\t\t\t\t\tinfo.memory.textures --;\n\n\t\t\t\t}\n\n\t\t\t\tproperties.remove( texture[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tproperties.remove( texture );\n\t\tproperties.remove( renderTarget );\n\n\t}\n\n\t//\n\n\tlet textureUnits = 0;\n\n\tfunction resetTextureUnits() {\n\n\t\ttextureUnits = 0;\n\n\t}\n\n\tfunction allocateTextureUnit() {\n\n\t\tconst textureUnit = textureUnits;\n\n\t\tif ( textureUnit >= maxTextures ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLTextures: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + maxTextures );\n\n\t\t}\n\n\t\ttextureUnits += 1;\n\n\t\treturn textureUnit;\n\n\t}\n\n\t//\n\n\tfunction setTexture2D( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.isVideoTexture ) updateVideoTexture( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tconst image = texture.image;\n\n\t\t\tif ( image === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is undefined' );\n\n\t\t\t} else if ( image.complete === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is incomplete' );\n\n\t\t\t} else {\n\n\t\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 3553, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture2DArray( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 35866, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture3D( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 32879, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTextureCube( texture, slot ) {\n\n\t\tconst textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadCubeTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\n\t}\n\n\tconst wrappingToGL = {\n\t\t[ RepeatWrapping ]: 10497,\n\t\t[ ClampToEdgeWrapping ]: 33071,\n\t\t[ MirroredRepeatWrapping ]: 33648\n\t};\n\n\tconst filterToGL = {\n\t\t[ NearestFilter ]: 9728,\n\t\t[ NearestMipmapNearestFilter ]: 9984,\n\t\t[ NearestMipmapLinearFilter ]: 9986,\n\n\t\t[ LinearFilter ]: 9729,\n\t\t[ LinearMipmapNearestFilter ]: 9985,\n\t\t[ LinearMipmapLinearFilter ]: 9987\n\t};\n\n\tfunction setTextureParameters( textureType, texture, supportsMips ) {\n\n\t\tif ( supportsMips ) {\n\n\t\t\t_gl.texParameteri( textureType, 10242, wrappingToGL[ texture.wrapS ] );\n\t\t\t_gl.texParameteri( textureType, 10243, wrappingToGL[ texture.wrapT ] );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, wrappingToGL[ texture.wrapR ] );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterToGL[ texture.magFilter ] );\n\t\t\t_gl.texParameteri( textureType, 10241, filterToGL[ texture.minFilter ] );\n\n\t\t} else {\n\n\t\t\t_gl.texParameteri( textureType, 10242, 33071 );\n\t\t\t_gl.texParameteri( textureType, 10243, 33071 );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, 33071 );\n\n\t\t\t}\n\n\t\t\tif ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.' );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterFallback( texture.magFilter ) );\n\t\t\t_gl.texParameteri( textureType, 10241, filterFallback( texture.minFilter ) );\n\n\t\t\tif ( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( extensions.has( 'EXT_texture_filter_anisotropic' ) === true ) {\n\n\t\t\tconst extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\t\tif ( texture.type === FloatType && extensions.has( 'OES_texture_float_linear' ) === false ) return; // verify extension for WebGL 1 and WebGL 2\n\t\t\tif ( isWebGL2 === false && ( texture.type === HalfFloatType && extensions.has( 'OES_texture_half_float_linear' ) === false ) ) return; // verify extension for WebGL 1 only\n\n\t\t\tif ( texture.anisotropy > 1 || properties.get( texture ).__currentAnisotropy ) {\n\n\t\t\t\t_gl.texParameterf( textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min( texture.anisotropy, capabilities.getMaxAnisotropy() ) );\n\t\t\t\tproperties.get( texture ).__currentAnisotropy = texture.anisotropy;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction initTexture( textureProperties, texture ) {\n\n\t\tif ( textureProperties.__webglInit === undefined ) {\n\n\t\t\ttextureProperties.__webglInit = true;\n\n\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\t\tinfo.memory.textures ++;\n\n\t\t}\n\n\t}\n\n\tfunction uploadTexture( textureProperties, texture, slot ) {\n\n\t\tlet textureType = 3553;\n\n\t\tif ( texture.isDataTexture2DArray ) textureType = 35866;\n\t\tif ( texture.isDataTexture3D ) textureType = 32879;\n\n\t\tinitTexture( textureProperties, texture );\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( textureType, textureProperties.__webglTexture );\n\n\t\t_gl.pixelStorei( 37440, texture.flipY );\n\t\t_gl.pixelStorei( 37441, texture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, texture.unpackAlignment );\n\t\t_gl.pixelStorei( 37443, 0 );\n\n\t\tconst needsPowerOfTwo = textureNeedsPowerOfTwo( texture ) && isPowerOfTwo$1( texture.image ) === false;\n\t\tconst image = resizeImage( texture.image, needsPowerOfTwo, false, maxTextureSize );\n\n\t\tconst supportsMips = isPowerOfTwo$1( image ) || isWebGL2,\n\t\t\tglFormat = utils.convert( texture.format );\n\n\t\tlet glType = utils.convert( texture.type ),\n\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\tsetTextureParameters( textureType, texture, supportsMips );\n\n\t\tlet mipmap;\n\t\tconst mipmaps = texture.mipmaps;\n\n\t\tif ( texture.isDepthTexture ) {\n\n\t\t\t// populate depth texture with dummy data\n\n\t\t\tglInternalFormat = 6402;\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\t\tglInternalFormat = 36012;\n\n\t\t\t\t} else if ( texture.type === UnsignedIntType ) {\n\n\t\t\t\t\tglInternalFormat = 33190;\n\n\t\t\t\t} else if ( texture.type === UnsignedInt248Type ) {\n\n\t\t\t\t\tglInternalFormat = 35056;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tglInternalFormat = 33189; // WebGL2 requires sized internalformat for glTexImage2D\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\t\tconsole.error( 'WebGLRenderer: Floating point depth texture requires WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// validation checks for WebGL 1\n\n\t\t\tif ( texture.format === DepthFormat && glInternalFormat === 6402 ) {\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedShortType && texture.type !== UnsignedIntType ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedShortType;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( texture.format === DepthStencilFormat && glInternalFormat === 6402 ) {\n\n\t\t\t\t// Depth stencil textures need the DEPTH_STENCIL internal format\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tglInternalFormat = 34041;\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedInt248Type ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedInt248Type;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, null );\n\n\t\t} else if ( texture.isDataTexture ) {\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, image.data );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t} else if ( texture.isCompressedTexture ) {\n\n\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\tmipmap = mipmaps[ i ];\n\n\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat$1 ) {\n\n\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\tstate.compressedTexImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()' );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t} else if ( texture.isDataTexture2DArray ) {\n\n\t\t\tstate.texImage3D( 35866, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t} else if ( texture.isDataTexture3D ) {\n\n\t\t\tstate.texImage3D( 32879, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t} else {\n\n\t\t\t// regular Texture (image, video, canvas)\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\tfor ( let i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, glFormat, glType, mipmap );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, glFormat, glType, image );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\tgenerateMipmap( textureType, texture, image.width, image.height );\n\n\t\t}\n\n\t\ttextureProperties.__version = texture.version;\n\n\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t}\n\n\tfunction uploadCubeTexture( textureProperties, texture, slot ) {\n\n\t\tif ( texture.image.length !== 6 ) return;\n\n\t\tinitTexture( textureProperties, texture );\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\n\t\t_gl.pixelStorei( 37440, texture.flipY );\n\t\t_gl.pixelStorei( 37441, texture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, texture.unpackAlignment );\n\t\t_gl.pixelStorei( 37443, 0 );\n\n\t\tconst isCompressed = ( texture && ( texture.isCompressedTexture || texture.image[ 0 ].isCompressedTexture ) );\n\t\tconst isDataTexture = ( texture.image[ 0 ] && texture.image[ 0 ].isDataTexture );\n\n\t\tconst cubeImage = [];\n\n\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\tif ( ! isCompressed && ! isDataTexture ) {\n\n\t\t\t\tcubeImage[ i ] = resizeImage( texture.image[ i ], false, true, maxCubemapSize );\n\n\t\t\t} else {\n\n\t\t\t\tcubeImage[ i ] = isDataTexture ? texture.image[ i ].image : texture.image[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst image = cubeImage[ 0 ],\n\t\t\tsupportsMips = isPowerOfTwo$1( image ) || isWebGL2,\n\t\t\tglFormat = utils.convert( texture.format ),\n\t\t\tglType = utils.convert( texture.type ),\n\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\tsetTextureParameters( 34067, texture, supportsMips );\n\n\t\tlet mipmaps;\n\n\t\tif ( isCompressed ) {\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tmipmaps = cubeImage[ i ].mipmaps;\n\n\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\n\t\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat$1 ) {\n\n\t\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\t\tstate.compressedTexImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()' );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t} else {\n\n\t\t\tmipmaps = texture.mipmaps;\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tif ( isDataTexture ) {\n\n\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, cubeImage[ i ].width, cubeImage[ i ].height, 0, glFormat, glType, cubeImage[ i ].data );\n\n\t\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\t\t\t\t\t\tconst mipmapImage = mipmap.image[ i ].image;\n\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, mipmapImage.width, mipmapImage.height, 0, glFormat, glType, mipmapImage.data );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, glFormat, glType, cubeImage[ i ] );\n\n\t\t\t\t\tfor ( let j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\tconst mipmap = mipmaps[ j ];\n\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, glFormat, glType, mipmap.image[ i ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length;\n\n\t\t}\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t// We assume images for cube map have the same size.\n\t\t\tgenerateMipmap( 34067, texture, image.width, image.height );\n\n\t\t}\n\n\t\ttextureProperties.__version = texture.version;\n\n\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t}\n\n\t// Render targets\n\n\t// Setup storage for target texture and bind it to correct framebuffer\n\tfunction setupFrameBufferTexture( framebuffer, renderTarget, texture, attachment, textureTarget ) {\n\n\t\tconst glFormat = utils.convert( texture.format );\n\t\tconst glType = utils.convert( texture.type );\n\t\tconst glInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\tif ( textureTarget === 32879 || textureTarget === 35866 ) {\n\n\t\t\tstate.texImage3D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, renderTarget.depth, 0, glFormat, glType, null );\n\n\t\t} else {\n\n\t\t\tstate.texImage2D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null );\n\n\t\t}\n\n\t\tstate.bindFramebuffer( 36160, framebuffer );\n\t\t_gl.framebufferTexture2D( 36160, attachment, textureTarget, properties.get( texture ).__webglTexture, 0 );\n\t\tstate.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// Setup storage for internal depth/stencil buffers and bind to correct framebuffer\n\tfunction setupRenderBufferStorage( renderbuffer, renderTarget, isMultisample ) {\n\n\t\t_gl.bindRenderbuffer( 36161, renderbuffer );\n\n\t\tif ( renderTarget.depthBuffer && ! renderTarget.stencilBuffer ) {\n\n\t\t\tlet glInternalFormat = 33189;\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tconst depthTexture = renderTarget.depthTexture;\n\n\t\t\t\tif ( depthTexture && depthTexture.isDepthTexture ) {\n\n\t\t\t\t\tif ( depthTexture.type === FloatType ) {\n\n\t\t\t\t\t\tglInternalFormat = 36012;\n\n\t\t\t\t\t} else if ( depthTexture.type === UnsignedIntType ) {\n\n\t\t\t\t\t\tglInternalFormat = 33190;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 36096, 36161, renderbuffer );\n\n\t\t} else if ( renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, 35056, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, 34041, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 33306, 36161, renderbuffer );\n\n\t\t} else {\n\n\t\t\t// Use the first texture for MRT so far\n\t\t\tconst texture = renderTarget.isWebGLMultipleRenderTargets === true ? renderTarget.texture[ 0 ] : renderTarget.texture;\n\n\t\t\tconst glFormat = utils.convert( texture.format );\n\t\t\tconst glType = utils.convert( texture.type );\n\t\t\tconst glInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t}\n\n\t// Setup resources for a Depth Texture for a FBO (needs an extension)\n\tfunction setupDepthTexture( framebuffer, renderTarget ) {\n\n\t\tconst isCube = ( renderTarget && renderTarget.isWebGLCubeRenderTarget );\n\t\tif ( isCube ) throw new Error( 'Depth Texture with cube render targets is not supported' );\n\n\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\tif ( ! ( renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture ) ) {\n\n\t\t\tthrow new Error( 'renderTarget.depthTexture must be an instance of THREE.DepthTexture' );\n\n\t\t}\n\n\t\t// upload an empty depth texture with framebuffer size\n\t\tif ( ! properties.get( renderTarget.depthTexture ).__webglTexture ||\n\t\t\t\trenderTarget.depthTexture.image.width !== renderTarget.width ||\n\t\t\t\trenderTarget.depthTexture.image.height !== renderTarget.height ) {\n\n\t\t\trenderTarget.depthTexture.image.width = renderTarget.width;\n\t\t\trenderTarget.depthTexture.image.height = renderTarget.height;\n\t\t\trenderTarget.depthTexture.needsUpdate = true;\n\n\t\t}\n\n\t\tsetTexture2D( renderTarget.depthTexture, 0 );\n\n\t\tconst webglDepthTexture = properties.get( renderTarget.depthTexture ).__webglTexture;\n\n\t\tif ( renderTarget.depthTexture.format === DepthFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( 36160, 36096, 3553, webglDepthTexture, 0 );\n\n\t\t} else if ( renderTarget.depthTexture.format === DepthStencilFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( 36160, 33306, 3553, webglDepthTexture, 0 );\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'Unknown depthTexture format' );\n\n\t\t}\n\n\t}\n\n\t// Setup GL resources for a non-texture depth buffer\n\tfunction setupDepthRenderbuffer( renderTarget ) {\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\tconst isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\tif ( isCube ) throw new Error( 'target.depthTexture not supported in Cube render targets' );\n\n\t\t\tsetupDepthTexture( renderTargetProperties.__webglFramebuffer, renderTarget );\n\n\t\t} else {\n\n\t\t\tif ( isCube ) {\n\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = [];\n\n\t\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\t\trenderTargetProperties.__webglDepthbuffer[ i ] = _gl.createRenderbuffer();\n\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer[ i ], renderTarget, false );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer );\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\n\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer, renderTarget, false );\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// Set up GL resources for the render target\n\tfunction setupRenderTarget( renderTarget ) {\n\n\t\tconst texture = renderTarget.texture;\n\n\t\tconst renderTargetProperties = properties.get( renderTarget );\n\t\tconst textureProperties = properties.get( texture );\n\n\t\trenderTarget.addEventListener( 'dispose', onRenderTargetDispose );\n\n\t\tif ( renderTarget.isWebGLMultipleRenderTargets !== true ) {\n\n\t\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\t\t\ttextureProperties.__version = texture.version;\n\t\t\tinfo.memory.textures ++;\n\n\t\t}\n\n\t\tconst isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\n\t\tconst isMultipleRenderTargets = ( renderTarget.isWebGLMultipleRenderTargets === true );\n\t\tconst isMultisample = ( renderTarget.isWebGLMultisampleRenderTarget === true );\n\t\tconst isRenderTarget3D = texture.isDataTexture3D || texture.isDataTexture2DArray;\n\t\tconst supportsMips = isPowerOfTwo$1( renderTarget ) || isWebGL2;\n\n\t\t// Handles WebGL2 RGBFormat fallback - #18858\n\n\t\tif ( isWebGL2 && texture.format === RGBFormat$1 && ( texture.type === FloatType || texture.type === HalfFloatType ) ) {\n\n\t\t\ttexture.format = RGBAFormat;\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.' );\n\n\t\t}\n\n\t\t// Setup framebuffer\n\n\t\tif ( isCube ) {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = [];\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\trenderTargetProperties.__webglFramebuffer[ i ] = _gl.createFramebuffer();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n\n\t\t\tif ( isMultipleRenderTargets ) {\n\n\t\t\t\tif ( capabilities.drawBuffers ) {\n\n\t\t\t\t\tconst textures = renderTarget.texture;\n\n\t\t\t\t\tfor ( let i = 0, il = textures.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst attachmentProperties = properties.get( textures[ i ] );\n\n\t\t\t\t\t\tif ( attachmentProperties.__webglTexture === undefined ) {\n\n\t\t\t\t\t\t\tattachmentProperties.__webglTexture = _gl.createTexture();\n\n\t\t\t\t\t\t\tinfo.memory.textures ++;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.' );\n\n\t\t\t\t}\n\n\t\t\t} else if ( isMultisample ) {\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\trenderTargetProperties.__webglMultisampledFramebuffer = _gl.createFramebuffer();\n\t\t\t\t\trenderTargetProperties.__webglColorRenderbuffer = _gl.createRenderbuffer();\n\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, renderTargetProperties.__webglColorRenderbuffer );\n\n\t\t\t\t\tconst glFormat = utils.convert( texture.format );\n\t\t\t\t\tconst glType = utils.convert( texture.type );\n\t\t\t\t\tconst glInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\t\t\t\t\tconst samples = getRenderTargetSamples( renderTarget );\n\t\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t\t_gl.framebufferRenderbuffer( 36160, 36064, 36161, renderTargetProperties.__webglColorRenderbuffer );\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t\t\t\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\t\t\t\trenderTargetProperties.__webglDepthRenderbuffer = _gl.createRenderbuffer();\n\t\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthRenderbuffer, renderTarget, true );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tstate.bindFramebuffer( 36160, null );\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Setup color buffer\n\n\t\tif ( isCube ) {\n\n\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( 34067, texture, supportsMips );\n\n\t\t\tfor ( let i = 0; i < 6; i ++ ) {\n\n\t\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer[ i ], renderTarget, texture, 36064, 34069 + i );\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( 34067, texture, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\tstate.unbindTexture();\n\n\t\t} else if ( isMultipleRenderTargets ) {\n\n\t\t\tconst textures = renderTarget.texture;\n\n\t\t\tfor ( let i = 0, il = textures.length; i < il; i ++ ) {\n\n\t\t\t\tconst attachment = textures[ i ];\n\t\t\t\tconst attachmentProperties = properties.get( attachment );\n\n\t\t\t\tstate.bindTexture( 3553, attachmentProperties.__webglTexture );\n\t\t\t\tsetTextureParameters( 3553, attachment, supportsMips );\n\t\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, attachment, 36064 + i, 3553 );\n\n\t\t\t\tif ( textureNeedsGenerateMipmaps( attachment, supportsMips ) ) {\n\n\t\t\t\t\tgenerateMipmap( 3553, attachment, renderTarget.width, renderTarget.height );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.unbindTexture();\n\n\t\t} else {\n\n\t\t\tlet glTextureType = 3553;\n\n\t\t\tif ( isRenderTarget3D ) {\n\n\t\t\t\t// Render targets containing layers, i.e: Texture 3D and 2d arrays\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\tconst isTexture3D = texture.isDataTexture3D;\n\t\t\t\t\tglTextureType = isTexture3D ? 32879 : 35866;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( glTextureType, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( glTextureType, texture, supportsMips );\n\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, texture, 36064, glTextureType );\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( glTextureType, texture, renderTarget.width, renderTarget.height, renderTarget.depth );\n\n\t\t\t}\n\n\t\t\tstate.unbindTexture();\n\n\t\t}\n\n\t\t// Setup depth and stencil buffers\n\n\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\tsetupDepthRenderbuffer( renderTarget );\n\n\t\t}\n\n\t}\n\n\tfunction updateRenderTargetMipmap( renderTarget ) {\n\n\t\tconst supportsMips = isPowerOfTwo$1( renderTarget ) || isWebGL2;\n\n\t\tconst textures = renderTarget.isWebGLMultipleRenderTargets === true ? renderTarget.texture : [ renderTarget.texture ];\n\n\t\tfor ( let i = 0, il = textures.length; i < il; i ++ ) {\n\n\t\t\tconst texture = textures[ i ];\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\tconst target = renderTarget.isWebGLCubeRenderTarget ? 34067 : 3553;\n\t\t\t\tconst webglTexture = properties.get( texture ).__webglTexture;\n\n\t\t\t\tstate.bindTexture( target, webglTexture );\n\t\t\t\tgenerateMipmap( target, texture, renderTarget.width, renderTarget.height );\n\t\t\t\tstate.unbindTexture();\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction updateMultisampleRenderTarget( renderTarget ) {\n\n\t\tif ( renderTarget.isWebGLMultisampleRenderTarget ) {\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tconst width = renderTarget.width;\n\t\t\t\tconst height = renderTarget.height;\n\t\t\t\tlet mask = 16384;\n\n\t\t\t\tif ( renderTarget.depthBuffer ) mask |= 256;\n\t\t\t\tif ( renderTarget.stencilBuffer ) mask |= 1024;\n\n\t\t\t\tconst renderTargetProperties = properties.get( renderTarget );\n\n\t\t\t\tstate.bindFramebuffer( 36008, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\tstate.bindFramebuffer( 36009, renderTargetProperties.__webglFramebuffer );\n\n\t\t\t\t_gl.blitFramebuffer( 0, 0, width, height, 0, 0, width, height, mask, 9728 );\n\n\t\t\t\tstate.bindFramebuffer( 36008, null );\n\t\t\t\tstate.bindFramebuffer( 36009, renderTargetProperties.__webglMultisampledFramebuffer );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction getRenderTargetSamples( renderTarget ) {\n\n\t\treturn ( isWebGL2 && renderTarget.isWebGLMultisampleRenderTarget ) ?\n\t\t\tMath.min( maxSamples, renderTarget.samples ) : 0;\n\n\t}\n\n\tfunction updateVideoTexture( texture ) {\n\n\t\tconst frame = info.render.frame;\n\n\t\t// Check the last frame we updated the VideoTexture\n\n\t\tif ( _videoTextures.get( texture ) !== frame ) {\n\n\t\t\t_videoTextures.set( texture, frame );\n\t\t\ttexture.update();\n\n\t\t}\n\n\t}\n\n\t// backwards compatibility\n\n\tlet warnedTexture2D = false;\n\tlet warnedTextureCube = false;\n\n\tfunction safeSetTexture2D( texture, slot ) {\n\n\t\tif ( texture && texture.isWebGLRenderTarget ) {\n\n\t\t\tif ( warnedTexture2D === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLTextures.safeSetTexture2D: don\\'t use render targets as textures. Use their .texture property instead.' );\n\t\t\t\twarnedTexture2D = true;\n\n\t\t\t}\n\n\t\t\ttexture = texture.texture;\n\n\t\t}\n\n\t\tsetTexture2D( texture, slot );\n\n\t}\n\n\tfunction safeSetTextureCube( texture, slot ) {\n\n\t\tif ( texture && texture.isWebGLCubeRenderTarget ) {\n\n\t\t\tif ( warnedTextureCube === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLTextures.safeSetTextureCube: don\\'t use cube render targets as textures. Use their .texture property instead.' );\n\t\t\t\twarnedTextureCube = true;\n\n\t\t\t}\n\n\t\t\ttexture = texture.texture;\n\n\t\t}\n\n\n\t\tsetTextureCube( texture, slot );\n\n\t}\n\n\t//\n\n\tthis.allocateTextureUnit = allocateTextureUnit;\n\tthis.resetTextureUnits = resetTextureUnits;\n\n\tthis.setTexture2D = setTexture2D;\n\tthis.setTexture2DArray = setTexture2DArray;\n\tthis.setTexture3D = setTexture3D;\n\tthis.setTextureCube = setTextureCube;\n\tthis.setupRenderTarget = setupRenderTarget;\n\tthis.updateRenderTargetMipmap = updateRenderTargetMipmap;\n\tthis.updateMultisampleRenderTarget = updateMultisampleRenderTarget;\n\n\tthis.safeSetTexture2D = safeSetTexture2D;\n\tthis.safeSetTextureCube = safeSetTextureCube;\n\n}\n\nfunction WebGLUtils( gl, extensions, capabilities ) {\n\n\tconst isWebGL2 = capabilities.isWebGL2;\n\n\tfunction convert( p ) {\n\n\t\tlet extension;\n\n\t\tif ( p === UnsignedByteType ) return 5121;\n\t\tif ( p === UnsignedShort4444Type ) return 32819;\n\t\tif ( p === UnsignedShort5551Type ) return 32820;\n\t\tif ( p === UnsignedShort565Type ) return 33635;\n\n\t\tif ( p === ByteType ) return 5120;\n\t\tif ( p === ShortType ) return 5122;\n\t\tif ( p === UnsignedShortType ) return 5123;\n\t\tif ( p === IntType ) return 5124;\n\t\tif ( p === UnsignedIntType ) return 5125;\n\t\tif ( p === FloatType ) return 5126;\n\n\t\tif ( p === HalfFloatType ) {\n\n\t\t\tif ( isWebGL2 ) return 5131;\n\n\t\t\textension = extensions.get( 'OES_texture_half_float' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.HALF_FLOAT_OES;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === AlphaFormat ) return 6406;\n\t\tif ( p === RGBFormat$1 ) return 6407;\n\t\tif ( p === RGBAFormat ) return 6408;\n\t\tif ( p === LuminanceFormat ) return 6409;\n\t\tif ( p === LuminanceAlphaFormat ) return 6410;\n\t\tif ( p === DepthFormat ) return 6402;\n\t\tif ( p === DepthStencilFormat ) return 34041;\n\t\tif ( p === RedFormat ) return 6403;\n\n\t\t// WebGL2 formats.\n\n\t\tif ( p === RedIntegerFormat ) return 36244;\n\t\tif ( p === RGFormat ) return 33319;\n\t\tif ( p === RGIntegerFormat ) return 33320;\n\t\tif ( p === RGBIntegerFormat ) return 36248;\n\t\tif ( p === RGBAIntegerFormat ) return 36249;\n\n\t\tif ( p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format ||\n\t\t\tp === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_S3TC_DXT1_Format ) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT1_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT3_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT5_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format ||\n\t\t\tp === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGB_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_ETC1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc1' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.COMPRESSED_RGB_ETC1_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_ETC2_Format || p === RGBA_ETC2_EAC_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_ETC2_Format ) return extension.COMPRESSED_RGB8_ETC2;\n\t\t\t\tif ( p === RGBA_ETC2_EAC_Format ) return extension.COMPRESSED_RGBA8_ETC2_EAC;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format ||\n\t\t\tp === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format ||\n\t\t\tp === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format ||\n\t\t\tp === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format ||\n\t\t\tp === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_4x4_Format || p === SRGB8_ALPHA8_ASTC_5x4_Format || p === SRGB8_ALPHA8_ASTC_5x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_6x5_Format || p === SRGB8_ALPHA8_ASTC_6x6_Format || p === SRGB8_ALPHA8_ASTC_8x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_8x6_Format || p === SRGB8_ALPHA8_ASTC_8x8_Format || p === SRGB8_ALPHA8_ASTC_10x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_10x6_Format || p === SRGB8_ALPHA8_ASTC_10x8_Format || p === SRGB8_ALPHA8_ASTC_10x10_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_12x10_Format || p === SRGB8_ALPHA8_ASTC_12x12_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_astc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\t// TODO Complete?\n\n\t\t\t\treturn p;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGBA_BPTC_Format ) {\n\n\t\t\textension = extensions.get( 'EXT_texture_compression_bptc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\t// TODO Complete?\n\n\t\t\t\treturn p;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === UnsignedInt248Type ) {\n\n\t\t\tif ( isWebGL2 ) return 34042;\n\n\t\t\textension = extensions.get( 'WEBGL_depth_texture' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.UNSIGNED_INT_24_8_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn { convert: convert };\n\n}\n\nclass ArrayCamera extends PerspectiveCamera {\n\n\tconstructor( array = [] ) {\n\n\t\tsuper();\n\n\t\tthis.cameras = array;\n\n\t}\n\n}\n\nArrayCamera.prototype.isArrayCamera = true;\n\nclass Group extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'Group';\n\n\t}\n\n}\n\nGroup.prototype.isGroup = true;\n\nconst _moveEvent = { type: 'move' };\n\nclass WebXRController {\n\n\tconstructor() {\n\n\t\tthis._targetRay = null;\n\t\tthis._grip = null;\n\t\tthis._hand = null;\n\n\t}\n\n\tgetHandSpace() {\n\n\t\tif ( this._hand === null ) {\n\n\t\t\tthis._hand = new Group();\n\t\t\tthis._hand.matrixAutoUpdate = false;\n\t\t\tthis._hand.visible = false;\n\n\t\t\tthis._hand.joints = {};\n\t\t\tthis._hand.inputState = { pinching: false };\n\n\t\t}\n\n\t\treturn this._hand;\n\n\t}\n\n\tgetTargetRaySpace() {\n\n\t\tif ( this._targetRay === null ) {\n\n\t\t\tthis._targetRay = new Group();\n\t\t\tthis._targetRay.matrixAutoUpdate = false;\n\t\t\tthis._targetRay.visible = false;\n\t\t\tthis._targetRay.hasLinearVelocity = false;\n\t\t\tthis._targetRay.linearVelocity = new Vector3();\n\t\t\tthis._targetRay.hasAngularVelocity = false;\n\t\t\tthis._targetRay.angularVelocity = new Vector3();\n\n\t\t}\n\n\t\treturn this._targetRay;\n\n\t}\n\n\tgetGripSpace() {\n\n\t\tif ( this._grip === null ) {\n\n\t\t\tthis._grip = new Group();\n\t\t\tthis._grip.matrixAutoUpdate = false;\n\t\t\tthis._grip.visible = false;\n\t\t\tthis._grip.hasLinearVelocity = false;\n\t\t\tthis._grip.linearVelocity = new Vector3();\n\t\t\tthis._grip.hasAngularVelocity = false;\n\t\t\tthis._grip.angularVelocity = new Vector3();\n\n\t\t}\n\n\t\treturn this._grip;\n\n\t}\n\n\tdispatchEvent( event ) {\n\n\t\tif ( this._targetRay !== null ) {\n\n\t\t\tthis._targetRay.dispatchEvent( event );\n\n\t\t}\n\n\t\tif ( this._grip !== null ) {\n\n\t\t\tthis._grip.dispatchEvent( event );\n\n\t\t}\n\n\t\tif ( this._hand !== null ) {\n\n\t\t\tthis._hand.dispatchEvent( event );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tdisconnect( inputSource ) {\n\n\t\tthis.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\n\t\tif ( this._targetRay !== null ) {\n\n\t\t\tthis._targetRay.visible = false;\n\n\t\t}\n\n\t\tif ( this._grip !== null ) {\n\n\t\t\tthis._grip.visible = false;\n\n\t\t}\n\n\t\tif ( this._hand !== null ) {\n\n\t\t\tthis._hand.visible = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tupdate( inputSource, frame, referenceSpace ) {\n\n\t\tlet inputPose = null;\n\t\tlet gripPose = null;\n\t\tlet handPose = null;\n\n\t\tconst targetRay = this._targetRay;\n\t\tconst grip = this._grip;\n\t\tconst hand = this._hand;\n\n\t\tif ( inputSource && frame.session.visibilityState !== 'visible-blurred' ) {\n\n\t\t\tif ( targetRay !== null ) {\n\n\t\t\t\tinputPose = frame.getPose( inputSource.targetRaySpace, referenceSpace );\n\n\t\t\t\tif ( inputPose !== null ) {\n\n\t\t\t\t\ttargetRay.matrix.fromArray( inputPose.transform.matrix );\n\t\t\t\t\ttargetRay.matrix.decompose( targetRay.position, targetRay.rotation, targetRay.scale );\n\n\t\t\t\t\tif ( inputPose.linearVelocity ) {\n\n\t\t\t\t\t\ttargetRay.hasLinearVelocity = true;\n\t\t\t\t\t\ttargetRay.linearVelocity.copy( inputPose.linearVelocity );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ttargetRay.hasLinearVelocity = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( inputPose.angularVelocity ) {\n\n\t\t\t\t\t\ttargetRay.hasAngularVelocity = true;\n\t\t\t\t\t\ttargetRay.angularVelocity.copy( inputPose.angularVelocity );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ttargetRay.hasAngularVelocity = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis.dispatchEvent( _moveEvent );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hand && inputSource.hand ) {\n\n\t\t\t\thandPose = true;\n\n\t\t\t\tfor ( const inputjoint of inputSource.hand.values() ) {\n\n\t\t\t\t\t// Update the joints groups with the XRJoint poses\n\t\t\t\t\tconst jointPose = frame.getJointPose( inputjoint, referenceSpace );\n\n\t\t\t\t\tif ( hand.joints[ inputjoint.jointName ] === undefined ) {\n\n\t\t\t\t\t\t// The transform of this joint will be updated with the joint pose on each frame\n\t\t\t\t\t\tconst joint = new Group();\n\t\t\t\t\t\tjoint.matrixAutoUpdate = false;\n\t\t\t\t\t\tjoint.visible = false;\n\t\t\t\t\t\thand.joints[ inputjoint.jointName ] = joint;\n\t\t\t\t\t\t// ??\n\t\t\t\t\t\thand.add( joint );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst joint = hand.joints[ inputjoint.jointName ];\n\n\t\t\t\t\tif ( jointPose !== null ) {\n\n\t\t\t\t\t\tjoint.matrix.fromArray( jointPose.transform.matrix );\n\t\t\t\t\t\tjoint.matrix.decompose( joint.position, joint.rotation, joint.scale );\n\t\t\t\t\t\tjoint.jointRadius = jointPose.radius;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tjoint.visible = jointPose !== null;\n\n\t\t\t\t}\n\n\t\t\t\t// Custom events\n\n\t\t\t\t// Check pinchz\n\t\t\t\tconst indexTip = hand.joints[ 'index-finger-tip' ];\n\t\t\t\tconst thumbTip = hand.joints[ 'thumb-tip' ];\n\t\t\t\tconst distance = indexTip.position.distanceTo( thumbTip.position );\n\n\t\t\t\tconst distanceToPinch = 0.02;\n\t\t\t\tconst threshold = 0.005;\n\n\t\t\t\tif ( hand.inputState.pinching && distance > distanceToPinch + threshold ) {\n\n\t\t\t\t\thand.inputState.pinching = false;\n\t\t\t\t\tthis.dispatchEvent( {\n\t\t\t\t\t\ttype: 'pinchend',\n\t\t\t\t\t\thandedness: inputSource.handedness,\n\t\t\t\t\t\ttarget: this\n\t\t\t\t\t} );\n\n\t\t\t\t} else if ( ! hand.inputState.pinching && distance <= distanceToPinch - threshold ) {\n\n\t\t\t\t\thand.inputState.pinching = true;\n\t\t\t\t\tthis.dispatchEvent( {\n\t\t\t\t\t\ttype: 'pinchstart',\n\t\t\t\t\t\thandedness: inputSource.handedness,\n\t\t\t\t\t\ttarget: this\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( grip !== null && inputSource.gripSpace ) {\n\n\t\t\t\t\tgripPose = frame.getPose( inputSource.gripSpace, referenceSpace );\n\n\t\t\t\t\tif ( gripPose !== null ) {\n\n\t\t\t\t\t\tgrip.matrix.fromArray( gripPose.transform.matrix );\n\t\t\t\t\t\tgrip.matrix.decompose( grip.position, grip.rotation, grip.scale );\n\n\t\t\t\t\t\tif ( gripPose.linearVelocity ) {\n\n\t\t\t\t\t\t\tgrip.hasLinearVelocity = true;\n\t\t\t\t\t\t\tgrip.linearVelocity.copy( gripPose.linearVelocity );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tgrip.hasLinearVelocity = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( gripPose.angularVelocity ) {\n\n\t\t\t\t\t\t\tgrip.hasAngularVelocity = true;\n\t\t\t\t\t\t\tgrip.angularVelocity.copy( gripPose.angularVelocity );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tgrip.hasAngularVelocity = false;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( targetRay !== null ) {\n\n\t\t\ttargetRay.visible = ( inputPose !== null );\n\n\t\t}\n\n\t\tif ( grip !== null ) {\n\n\t\t\tgrip.visible = ( gripPose !== null );\n\n\t\t}\n\n\t\tif ( hand !== null ) {\n\n\t\t\thand.visible = ( handPose !== null );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass WebXRManager extends EventDispatcher {\n\n\tconstructor( renderer, gl ) {\n\n\t\tsuper();\n\n\t\tconst scope = this;\n\t\tconst state = renderer.state;\n\n\t\tlet session = null;\n\t\tlet framebufferScaleFactor = 1.0;\n\n\t\tlet referenceSpace = null;\n\t\tlet referenceSpaceType = 'local-floor';\n\n\t\tlet pose = null;\n\t\tlet glBinding = null;\n\t\tlet glFramebuffer = null;\n\t\tlet glProjLayer = null;\n\t\tlet glBaseLayer = null;\n\t\tlet isMultisample = false;\n\t\tlet glMultisampledFramebuffer = null;\n\t\tlet glColorRenderbuffer = null;\n\t\tlet glDepthRenderbuffer = null;\n\t\tlet xrFrame = null;\n\t\tlet depthStyle = null;\n\t\tlet clearStyle = null;\n\n\t\tconst controllers = [];\n\t\tconst inputSourcesMap = new Map();\n\n\t\t//\n\n\t\tconst cameraL = new PerspectiveCamera();\n\t\tcameraL.layers.enable( 1 );\n\t\tcameraL.viewport = new Vector4();\n\n\t\tconst cameraR = new PerspectiveCamera();\n\t\tcameraR.layers.enable( 2 );\n\t\tcameraR.viewport = new Vector4();\n\n\t\tconst cameras = [ cameraL, cameraR ];\n\n\t\tconst cameraVR = new ArrayCamera();\n\t\tcameraVR.layers.enable( 1 );\n\t\tcameraVR.layers.enable( 2 );\n\n\t\tlet _currentDepthNear = null;\n\t\tlet _currentDepthFar = null;\n\n\t\t//\n\n\t\tthis.cameraAutoUpdate = true;\n\t\tthis.enabled = false;\n\n\t\tthis.isPresenting = false;\n\n\t\tthis.getController = function ( index ) {\n\n\t\t\tlet controller = controllers[ index ];\n\n\t\t\tif ( controller === undefined ) {\n\n\t\t\t\tcontroller = new WebXRController();\n\t\t\t\tcontrollers[ index ] = controller;\n\n\t\t\t}\n\n\t\t\treturn controller.getTargetRaySpace();\n\n\t\t};\n\n\t\tthis.getControllerGrip = function ( index ) {\n\n\t\t\tlet controller = controllers[ index ];\n\n\t\t\tif ( controller === undefined ) {\n\n\t\t\t\tcontroller = new WebXRController();\n\t\t\t\tcontrollers[ index ] = controller;\n\n\t\t\t}\n\n\t\t\treturn controller.getGripSpace();\n\n\t\t};\n\n\t\tthis.getHand = function ( index ) {\n\n\t\t\tlet controller = controllers[ index ];\n\n\t\t\tif ( controller === undefined ) {\n\n\t\t\t\tcontroller = new WebXRController();\n\t\t\t\tcontrollers[ index ] = controller;\n\n\t\t\t}\n\n\t\t\treturn controller.getHandSpace();\n\n\t\t};\n\n\t\t//\n\n\t\tfunction onSessionEvent( event ) {\n\n\t\t\tconst controller = inputSourcesMap.get( event.inputSource );\n\n\t\t\tif ( controller ) {\n\n\t\t\t\tcontroller.dispatchEvent( { type: event.type, data: event.inputSource } );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction onSessionEnd() {\n\n\t\t\tinputSourcesMap.forEach( function ( controller, inputSource ) {\n\n\t\t\t\tcontroller.disconnect( inputSource );\n\n\t\t\t} );\n\n\t\t\tinputSourcesMap.clear();\n\n\t\t\t_currentDepthNear = null;\n\t\t\t_currentDepthFar = null;\n\n\t\t\t// restore framebuffer/rendering state\n\n\t\t\tstate.bindXRFramebuffer( null );\n\t\t\trenderer.setRenderTarget( renderer.getRenderTarget() );\n\n\t\t\tif ( glFramebuffer ) gl.deleteFramebuffer( glFramebuffer );\n\t\t\tif ( glMultisampledFramebuffer ) gl.deleteFramebuffer( glMultisampledFramebuffer );\n\t\t\tif ( glColorRenderbuffer ) gl.deleteRenderbuffer( glColorRenderbuffer );\n\t\t\tif ( glDepthRenderbuffer ) gl.deleteRenderbuffer( glDepthRenderbuffer );\n\t\t\tglFramebuffer = null;\n\t\t\tglMultisampledFramebuffer = null;\n\t\t\tglColorRenderbuffer = null;\n\t\t\tglDepthRenderbuffer = null;\n\t\t\tglBaseLayer = null;\n\t\t\tglProjLayer = null;\n\t\t\tglBinding = null;\n\t\t\tsession = null;\n\n\t\t\t//\n\n\t\t\tanimation.stop();\n\n\t\t\tscope.isPresenting = false;\n\n\t\t\tscope.dispatchEvent( { type: 'sessionend' } );\n\n\t\t}\n\n\t\tthis.setFramebufferScaleFactor = function ( value ) {\n\n\t\t\tframebufferScaleFactor = value;\n\n\t\t\tif ( scope.isPresenting === true ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebXRManager: Cannot change framebuffer scale while presenting.' );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.setReferenceSpaceType = function ( value ) {\n\n\t\t\treferenceSpaceType = value;\n\n\t\t\tif ( scope.isPresenting === true ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebXRManager: Cannot change reference space type while presenting.' );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.getReferenceSpace = function () {\n\n\t\t\treturn referenceSpace;\n\n\t\t};\n\n\t\tthis.getBaseLayer = function () {\n\n\t\t\treturn glProjLayer !== null ? glProjLayer : glBaseLayer;\n\n\t\t};\n\n\t\tthis.getBinding = function () {\n\n\t\t\treturn glBinding;\n\n\t\t};\n\n\t\tthis.getFrame = function () {\n\n\t\t\treturn xrFrame;\n\n\t\t};\n\n\t\tthis.getSession = function () {\n\n\t\t\treturn session;\n\n\t\t};\n\n\t\tthis.setSession = async function ( value ) {\n\n\t\t\tsession = value;\n\n\t\t\tif ( session !== null ) {\n\n\t\t\t\tsession.addEventListener( 'select', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'selectstart', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'selectend', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'squeeze', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'squeezestart', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'squeezeend', onSessionEvent );\n\t\t\t\tsession.addEventListener( 'end', onSessionEnd );\n\t\t\t\tsession.addEventListener( 'inputsourceschange', onInputSourcesChange );\n\n\t\t\t\tconst attributes = gl.getContextAttributes();\n\n\t\t\t\tif ( attributes.xrCompatible !== true ) {\n\n\t\t\t\t\tawait gl.makeXRCompatible();\n\n\t\t\t\t}\n\n\t\t\t\tif ( session.renderState.layers === undefined ) {\n\n\t\t\t\t\tconst layerInit = {\n\t\t\t\t\t\tantialias: attributes.antialias,\n\t\t\t\t\t\talpha: attributes.alpha,\n\t\t\t\t\t\tdepth: attributes.depth,\n\t\t\t\t\t\tstencil: attributes.stencil,\n\t\t\t\t\t\tframebufferScaleFactor: framebufferScaleFactor\n\t\t\t\t\t};\n\n\t\t\t\t\tglBaseLayer = new XRWebGLLayer( session, gl, layerInit );\n\n\t\t\t\t\tsession.updateRenderState( { baseLayer: glBaseLayer } );\n\n\t\t\t\t} else if ( gl instanceof WebGLRenderingContext ) {\n\n\t\t\t\t\t// Use old style webgl layer because we can't use MSAA\n\t\t\t\t\t// WebGL2 support.\n\n\t\t\t\t\tconst layerInit = {\n\t\t\t\t\t\tantialias: true,\n\t\t\t\t\t\talpha: attributes.alpha,\n\t\t\t\t\t\tdepth: attributes.depth,\n\t\t\t\t\t\tstencil: attributes.stencil,\n\t\t\t\t\t\tframebufferScaleFactor: framebufferScaleFactor\n\t\t\t\t\t};\n\n\t\t\t\t\tglBaseLayer = new XRWebGLLayer( session, gl, layerInit );\n\n\t\t\t\t\tsession.updateRenderState( { layers: [ glBaseLayer ] } );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tisMultisample = attributes.antialias;\n\t\t\t\t\tlet depthFormat = null;\n\n\n\t\t\t\t\tif ( attributes.depth ) {\n\n\t\t\t\t\t\tclearStyle = 256;\n\n\t\t\t\t\t\tif ( attributes.stencil ) clearStyle |= 1024;\n\n\t\t\t\t\t\tdepthStyle = attributes.stencil ? 33306 : 36096;\n\t\t\t\t\t\tdepthFormat = attributes.stencil ? 35056 : 33190;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst projectionlayerInit = {\n\t\t\t\t\t\tcolorFormat: attributes.alpha ? 32856 : 32849,\n\t\t\t\t\t\tdepthFormat: depthFormat,\n\t\t\t\t\t\tscaleFactor: framebufferScaleFactor\n\t\t\t\t\t};\n\n\t\t\t\t\tglBinding = new XRWebGLBinding( session, gl );\n\n\t\t\t\t\tglProjLayer = glBinding.createProjectionLayer( projectionlayerInit );\n\n\t\t\t\t\tglFramebuffer = gl.createFramebuffer();\n\n\t\t\t\t\tsession.updateRenderState( { layers: [ glProjLayer ] } );\n\n\t\t\t\t\tif ( isMultisample ) {\n\n\t\t\t\t\t\tglMultisampledFramebuffer = gl.createFramebuffer();\n\t\t\t\t\t\tglColorRenderbuffer = gl.createRenderbuffer();\n\t\t\t\t\t\tgl.bindRenderbuffer( 36161, glColorRenderbuffer );\n\t\t\t\t\t\tgl.renderbufferStorageMultisample(\n\t\t\t\t\t\t\t36161,\n\t\t\t\t\t\t\t4,\n\t\t\t\t\t\t\t32856,\n\t\t\t\t\t\t\tglProjLayer.textureWidth,\n\t\t\t\t\t\t\tglProjLayer.textureHeight );\n\t\t\t\t\t\tstate.bindFramebuffer( 36160, glMultisampledFramebuffer );\n\t\t\t\t\t\tgl.framebufferRenderbuffer( 36160, 36064, 36161, glColorRenderbuffer );\n\t\t\t\t\t\tgl.bindRenderbuffer( 36161, null );\n\n\t\t\t\t\t\tif ( depthFormat !== null ) {\n\n\t\t\t\t\t\t\tglDepthRenderbuffer = gl.createRenderbuffer();\n\t\t\t\t\t\t\tgl.bindRenderbuffer( 36161, glDepthRenderbuffer );\n\t\t\t\t\t\t\tgl.renderbufferStorageMultisample( 36161, 4, depthFormat, glProjLayer.textureWidth, glProjLayer.textureHeight );\n\t\t\t\t\t\t\tgl.framebufferRenderbuffer( 36160, depthStyle, 36161, glDepthRenderbuffer );\n\t\t\t\t\t\t\tgl.bindRenderbuffer( 36161, null );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tstate.bindFramebuffer( 36160, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treferenceSpace = await session.requestReferenceSpace( referenceSpaceType );\n\n\t\t\t\tanimation.setContext( session );\n\t\t\t\tanimation.start();\n\n\t\t\t\tscope.isPresenting = true;\n\n\t\t\t\tscope.dispatchEvent( { type: 'sessionstart' } );\n\n\t\t\t}\n\n\t\t};\n\n\t\tfunction onInputSourcesChange( event ) {\n\n\t\t\tconst inputSources = session.inputSources;\n\n\t\t\t// Assign inputSources to available controllers\n\n\t\t\tfor ( let i = 0; i < controllers.length; i ++ ) {\n\n\t\t\t\tinputSourcesMap.set( inputSources[ i ], controllers[ i ] );\n\n\t\t\t}\n\n\t\t\t// Notify disconnected\n\n\t\t\tfor ( let i = 0; i < event.removed.length; i ++ ) {\n\n\t\t\t\tconst inputSource = event.removed[ i ];\n\t\t\t\tconst controller = inputSourcesMap.get( inputSource );\n\n\t\t\t\tif ( controller ) {\n\n\t\t\t\t\tcontroller.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\t\t\t\t\tinputSourcesMap.delete( inputSource );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Notify connected\n\n\t\t\tfor ( let i = 0; i < event.added.length; i ++ ) {\n\n\t\t\t\tconst inputSource = event.added[ i ];\n\t\t\t\tconst controller = inputSourcesMap.get( inputSource );\n\n\t\t\t\tif ( controller ) {\n\n\t\t\t\t\tcontroller.dispatchEvent( { type: 'connected', data: inputSource } );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tconst cameraLPos = new Vector3();\n\t\tconst cameraRPos = new Vector3();\n\n\t\t/**\n\t\t * Assumes 2 cameras that are parallel and share an X-axis, and that\n\t\t * the cameras' projection and world matrices have already been set.\n\t\t * And that near and far planes are identical for both cameras.\n\t\t * Visualization of this technique: https://computergraphics.stackexchange.com/a/4765\n\t\t */\n\t\tfunction setProjectionFromUnion( camera, cameraL, cameraR ) {\n\n\t\t\tcameraLPos.setFromMatrixPosition( cameraL.matrixWorld );\n\t\t\tcameraRPos.setFromMatrixPosition( cameraR.matrixWorld );\n\n\t\t\tconst ipd = cameraLPos.distanceTo( cameraRPos );\n\n\t\t\tconst projL = cameraL.projectionMatrix.elements;\n\t\t\tconst projR = cameraR.projectionMatrix.elements;\n\n\t\t\t// VR systems will have identical far and near planes, and\n\t\t\t// most likely identical top and bottom frustum extents.\n\t\t\t// Use the left camera for these values.\n\t\t\tconst near = projL[ 14 ] / ( projL[ 10 ] - 1 );\n\t\t\tconst far = projL[ 14 ] / ( projL[ 10 ] + 1 );\n\t\t\tconst topFov = ( projL[ 9 ] + 1 ) / projL[ 5 ];\n\t\t\tconst bottomFov = ( projL[ 9 ] - 1 ) / projL[ 5 ];\n\n\t\t\tconst leftFov = ( projL[ 8 ] - 1 ) / projL[ 0 ];\n\t\t\tconst rightFov = ( projR[ 8 ] + 1 ) / projR[ 0 ];\n\t\t\tconst left = near * leftFov;\n\t\t\tconst right = near * rightFov;\n\n\t\t\t// Calculate the new camera's position offset from the\n\t\t\t// left camera. xOffset should be roughly half `ipd`.\n\t\t\tconst zOffset = ipd / ( - leftFov + rightFov );\n\t\t\tconst xOffset = zOffset * - leftFov;\n\n\t\t\t// TODO: Better way to apply this offset?\n\t\t\tcameraL.matrixWorld.decompose( camera.position, camera.quaternion, camera.scale );\n\t\t\tcamera.translateX( xOffset );\n\t\t\tcamera.translateZ( zOffset );\n\t\t\tcamera.matrixWorld.compose( camera.position, camera.quaternion, camera.scale );\n\t\t\tcamera.matrixWorldInverse.copy( camera.matrixWorld ).invert();\n\n\t\t\t// Find the union of the frustum values of the cameras and scale\n\t\t\t// the values so that the near plane's position does not change in world space,\n\t\t\t// although must now be relative to the new union camera.\n\t\t\tconst near2 = near + zOffset;\n\t\t\tconst far2 = far + zOffset;\n\t\t\tconst left2 = left - xOffset;\n\t\t\tconst right2 = right + ( ipd - xOffset );\n\t\t\tconst top2 = topFov * far / far2 * near2;\n\t\t\tconst bottom2 = bottomFov * far / far2 * near2;\n\n\t\t\tcamera.projectionMatrix.makePerspective( left2, right2, top2, bottom2, near2, far2 );\n\n\t\t}\n\n\t\tfunction updateCamera( camera, parent ) {\n\n\t\t\tif ( parent === null ) {\n\n\t\t\t\tcamera.matrixWorld.copy( camera.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tcamera.matrixWorld.multiplyMatrices( parent.matrixWorld, camera.matrix );\n\n\t\t\t}\n\n\t\t\tcamera.matrixWorldInverse.copy( camera.matrixWorld ).invert();\n\n\t\t}\n\n\t\tthis.updateCamera = function ( camera ) {\n\n\t\t\tif ( session === null ) return;\n\n\t\t\tcameraVR.near = cameraR.near = cameraL.near = camera.near;\n\t\t\tcameraVR.far = cameraR.far = cameraL.far = camera.far;\n\n\t\t\tif ( _currentDepthNear !== cameraVR.near || _currentDepthFar !== cameraVR.far ) {\n\n\t\t\t\t// Note that the new renderState won't apply until the next frame. See #18320\n\n\t\t\t\tsession.updateRenderState( {\n\t\t\t\t\tdepthNear: cameraVR.near,\n\t\t\t\t\tdepthFar: cameraVR.far\n\t\t\t\t} );\n\n\t\t\t\t_currentDepthNear = cameraVR.near;\n\t\t\t\t_currentDepthFar = cameraVR.far;\n\n\t\t\t}\n\n\t\t\tconst parent = camera.parent;\n\t\t\tconst cameras = cameraVR.cameras;\n\n\t\t\tupdateCamera( cameraVR, parent );\n\n\t\t\tfor ( let i = 0; i < cameras.length; i ++ ) {\n\n\t\t\t\tupdateCamera( cameras[ i ], parent );\n\n\t\t\t}\n\n\t\t\tcameraVR.matrixWorld.decompose( cameraVR.position, cameraVR.quaternion, cameraVR.scale );\n\n\t\t\t// update user camera and its children\n\n\t\t\tcamera.position.copy( cameraVR.position );\n\t\t\tcamera.quaternion.copy( cameraVR.quaternion );\n\t\t\tcamera.scale.copy( cameraVR.scale );\n\t\t\tcamera.matrix.copy( cameraVR.matrix );\n\t\t\tcamera.matrixWorld.copy( cameraVR.matrixWorld );\n\n\t\t\tconst children = camera.children;\n\n\t\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateMatrixWorld( true );\n\n\t\t\t}\n\n\t\t\t// update projection matrix for proper view frustum culling\n\n\t\t\tif ( cameras.length === 2 ) {\n\n\t\t\t\tsetProjectionFromUnion( cameraVR, cameraL, cameraR );\n\n\t\t\t} else {\n\n\t\t\t\t// assume single camera setup (AR)\n\n\t\t\t\tcameraVR.projectionMatrix.copy( cameraL.projectionMatrix );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.getCamera = function () {\n\n\t\t\treturn cameraVR;\n\n\t\t};\n\n\t\tthis.getFoveation = function () {\n\n\t\t\tif ( glProjLayer !== null ) {\n\n\t\t\t\treturn glProjLayer.fixedFoveation;\n\n\t\t\t}\n\n\t\t\tif ( glBaseLayer !== null ) {\n\n\t\t\t\treturn glBaseLayer.fixedFoveation;\n\n\t\t\t}\n\n\t\t\treturn undefined;\n\n\t\t};\n\n\t\tthis.setFoveation = function ( foveation ) {\n\n\t\t\t// 0 = no foveation = full resolution\n\t\t\t// 1 = maximum foveation = the edges render at lower resolution\n\n\t\t\tif ( glProjLayer !== null ) {\n\n\t\t\t\tglProjLayer.fixedFoveation = foveation;\n\n\t\t\t}\n\n\t\t\tif ( glBaseLayer !== null && glBaseLayer.fixedFoveation !== undefined ) {\n\n\t\t\t\tglBaseLayer.fixedFoveation = foveation;\n\n\t\t\t}\n\n\t\t};\n\n\t\t// Animation Loop\n\n\t\tlet onAnimationFrameCallback = null;\n\n\t\tfunction onAnimationFrame( time, frame ) {\n\n\t\t\tpose = frame.getViewerPose( referenceSpace );\n\t\t\txrFrame = frame;\n\n\t\t\tif ( pose !== null ) {\n\n\t\t\t\tconst views = pose.views;\n\n\t\t\t\tif ( glBaseLayer !== null ) {\n\n\t\t\t\t\tstate.bindXRFramebuffer( glBaseLayer.framebuffer );\n\n\t\t\t\t}\n\n\t\t\t\tlet cameraVRNeedsUpdate = false;\n\n\t\t\t\t// check if it's necessary to rebuild cameraVR's camera list\n\n\t\t\t\tif ( views.length !== cameraVR.cameras.length ) {\n\n\t\t\t\t\tcameraVR.cameras.length = 0;\n\n\t\t\t\t\tcameraVRNeedsUpdate = true;\n\n\t\t\t\t}\n\n\t\t\t\tfor ( let i = 0; i < views.length; i ++ ) {\n\n\t\t\t\t\tconst view = views[ i ];\n\n\t\t\t\t\tlet viewport = null;\n\n\t\t\t\t\tif ( glBaseLayer !== null ) {\n\n\t\t\t\t\t\tviewport = glBaseLayer.getViewport( view );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst glSubImage = glBinding.getViewSubImage( glProjLayer, view );\n\n\t\t\t\t\t\tstate.bindXRFramebuffer( glFramebuffer );\n\n\t\t\t\t\t\tif ( glSubImage.depthStencilTexture !== undefined ) {\n\n\t\t\t\t\t\t\tgl.framebufferTexture2D( 36160, depthStyle, 3553, glSubImage.depthStencilTexture, 0 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgl.framebufferTexture2D( 36160, 36064, 3553, glSubImage.colorTexture, 0 );\n\n\t\t\t\t\t\tviewport = glSubImage.viewport;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst camera = cameras[ i ];\n\n\t\t\t\t\tcamera.matrix.fromArray( view.transform.matrix );\n\t\t\t\t\tcamera.projectionMatrix.fromArray( view.projectionMatrix );\n\t\t\t\t\tcamera.viewport.set( viewport.x, viewport.y, viewport.width, viewport.height );\n\n\t\t\t\t\tif ( i === 0 ) {\n\n\t\t\t\t\t\tcameraVR.matrix.copy( camera.matrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( cameraVRNeedsUpdate === true ) {\n\n\t\t\t\t\t\tcameraVR.cameras.push( camera );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( isMultisample ) {\n\n\t\t\t\t\tstate.bindXRFramebuffer( glMultisampledFramebuffer );\n\n\t\t\t\t\tif ( clearStyle !== null ) gl.clear( clearStyle );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tconst inputSources = session.inputSources;\n\n\t\t\tfor ( let i = 0; i < controllers.length; i ++ ) {\n\n\t\t\t\tconst controller = controllers[ i ];\n\t\t\t\tconst inputSource = inputSources[ i ];\n\n\t\t\t\tcontroller.update( inputSource, frame, referenceSpace );\n\n\t\t\t}\n\n\t\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time, frame );\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tconst width = glProjLayer.textureWidth;\n\t\t\t\tconst height = glProjLayer.textureHeight;\n\n\t\t\t\tstate.bindFramebuffer( 36008, glMultisampledFramebuffer );\n\t\t\t\tstate.bindFramebuffer( 36009, glFramebuffer );\n\t\t\t\t// Invalidate the depth here to avoid flush of the depth data to main memory.\n\t\t\t\tgl.invalidateFramebuffer( 36008, [ depthStyle ] );\n\t\t\t\tgl.invalidateFramebuffer( 36009, [ depthStyle ] );\n\t\t\t\tgl.blitFramebuffer( 0, 0, width, height, 0, 0, width, height, 16384, 9728 );\n\t\t\t\t// Invalidate the MSAA buffer because it's not needed anymore.\n\t\t\t\tgl.invalidateFramebuffer( 36008, [ 36064 ] );\n\t\t\t\tstate.bindFramebuffer( 36008, null );\n\t\t\t\tstate.bindFramebuffer( 36009, null );\n\n\t\t\t\tstate.bindFramebuffer( 36160, glMultisampledFramebuffer );\n\n\t\t\t}\n\n\t\t\txrFrame = null;\n\n\t\t}\n\n\t\tconst animation = new WebGLAnimation();\n\n\t\tanimation.setAnimationLoop( onAnimationFrame );\n\n\t\tthis.setAnimationLoop = function ( callback ) {\n\n\t\t\tonAnimationFrameCallback = callback;\n\n\t\t};\n\n\t\tthis.dispose = function () {};\n\n\t}\n\n}\n\nfunction WebGLMaterials( properties ) {\n\n\tfunction refreshFogUniforms( uniforms, fog ) {\n\n\t\tuniforms.fogColor.value.copy( fog.color );\n\n\t\tif ( fog.isFog ) {\n\n\t\t\tuniforms.fogNear.value = fog.near;\n\t\t\tuniforms.fogFar.value = fog.far;\n\n\t\t} else if ( fog.isFogExp2 ) {\n\n\t\t\tuniforms.fogDensity.value = fog.density;\n\n\t\t}\n\n\t}\n\n\tfunction refreshMaterialUniforms( uniforms, material, pixelRatio, height, transmissionRenderTarget ) {\n\n\t\tif ( material.isMeshBasicMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\n\t\t} else if ( material.isMeshLambertMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsLambert( uniforms, material );\n\n\t\t} else if ( material.isMeshToonMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsToon( uniforms, material );\n\n\t\t} else if ( material.isMeshPhongMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsPhong( uniforms, material );\n\n\t\t} else if ( material.isMeshStandardMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\n\t\t\tif ( material.isMeshPhysicalMaterial ) {\n\n\t\t\t\trefreshUniformsPhysical( uniforms, material, transmissionRenderTarget );\n\n\t\t\t} else {\n\n\t\t\t\trefreshUniformsStandard( uniforms, material );\n\n\t\t\t}\n\n\t\t} else if ( material.isMeshMatcapMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsMatcap( uniforms, material );\n\n\t\t} else if ( material.isMeshDepthMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsDepth( uniforms, material );\n\n\t\t} else if ( material.isMeshDistanceMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsDistance( uniforms, material );\n\n\t\t} else if ( material.isMeshNormalMaterial ) {\n\n\t\t\trefreshUniformsCommon( uniforms, material );\n\t\t\trefreshUniformsNormal( uniforms, material );\n\n\t\t} else if ( material.isLineBasicMaterial ) {\n\n\t\t\trefreshUniformsLine( uniforms, material );\n\n\t\t\tif ( material.isLineDashedMaterial ) {\n\n\t\t\t\trefreshUniformsDash( uniforms, material );\n\n\t\t\t}\n\n\t\t} else if ( material.isPointsMaterial ) {\n\n\t\t\trefreshUniformsPoints( uniforms, material, pixelRatio, height );\n\n\t\t} else if ( material.isSpriteMaterial ) {\n\n\t\t\trefreshUniformsSprites( uniforms, material );\n\n\t\t} else if ( material.isShadowMaterial ) {\n\n\t\t\tuniforms.color.value.copy( material.color );\n\t\t\tuniforms.opacity.value = material.opacity;\n\n\t\t} else if ( material.isShaderMaterial ) {\n\n\t\t\tmaterial.uniformsNeedUpdate = false; // #15581\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsCommon( uniforms, material ) {\n\n\t\tuniforms.opacity.value = material.opacity;\n\n\t\tif ( material.color ) {\n\n\t\t\tuniforms.diffuse.value.copy( material.color );\n\n\t\t}\n\n\t\tif ( material.emissive ) {\n\n\t\t\tuniforms.emissive.value.copy( material.emissive ).multiplyScalar( material.emissiveIntensity );\n\n\t\t}\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\tif ( material.specularMap ) {\n\n\t\t\tuniforms.specularMap.value = material.specularMap;\n\n\t\t}\n\n\t\tif ( material.alphaTest > 0 ) {\n\n\t\t\tuniforms.alphaTest.value = material.alphaTest;\n\n\t\t}\n\n\t\tconst envMap = properties.get( material ).envMap;\n\n\t\tif ( envMap ) {\n\n\t\t\tuniforms.envMap.value = envMap;\n\n\t\t\tuniforms.flipEnvMap.value = ( envMap.isCubeTexture && envMap.isRenderTargetTexture === false ) ? - 1 : 1;\n\n\t\t\tuniforms.reflectivity.value = material.reflectivity;\n\t\t\tuniforms.ior.value = material.ior;\n\t\t\tuniforms.refractionRatio.value = material.refractionRatio;\n\n\t\t\tconst maxMipLevel = properties.get( envMap ).__maxMipLevel;\n\n\t\t\tif ( maxMipLevel !== undefined ) {\n\n\t\t\t\tuniforms.maxMipLevel.value = maxMipLevel;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.lightMap ) {\n\n\t\t\tuniforms.lightMap.value = material.lightMap;\n\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity;\n\n\t\t}\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuniforms.aoMap.value = material.aoMap;\n\t\t\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. specular map\n\t\t// 3. displacementMap map\n\t\t// 4. normal map\n\t\t// 5. bump map\n\t\t// 6. roughnessMap map\n\t\t// 7. metalnessMap map\n\t\t// 8. alphaMap map\n\t\t// 9. emissiveMap map\n\t\t// 10. clearcoat map\n\t\t// 11. clearcoat normal map\n\t\t// 12. clearcoat roughnessMap map\n\t\t// 13. specular intensity map\n\t\t// 14. specular tint map\n\t\t// 15. transmission map\n\t\t// 16. thickness map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.specularMap ) {\n\n\t\t\tuvScaleMap = material.specularMap;\n\n\t\t} else if ( material.displacementMap ) {\n\n\t\t\tuvScaleMap = material.displacementMap;\n\n\t\t} else if ( material.normalMap ) {\n\n\t\t\tuvScaleMap = material.normalMap;\n\n\t\t} else if ( material.bumpMap ) {\n\n\t\t\tuvScaleMap = material.bumpMap;\n\n\t\t} else if ( material.roughnessMap ) {\n\n\t\t\tuvScaleMap = material.roughnessMap;\n\n\t\t} else if ( material.metalnessMap ) {\n\n\t\t\tuvScaleMap = material.metalnessMap;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t} else if ( material.emissiveMap ) {\n\n\t\t\tuvScaleMap = material.emissiveMap;\n\n\t\t} else if ( material.clearcoatMap ) {\n\n\t\t\tuvScaleMap = material.clearcoatMap;\n\n\t\t} else if ( material.clearcoatNormalMap ) {\n\n\t\t\tuvScaleMap = material.clearcoatNormalMap;\n\n\t\t} else if ( material.clearcoatRoughnessMap ) {\n\n\t\t\tuvScaleMap = material.clearcoatRoughnessMap;\n\n\t\t} else if ( material.specularIntensityMap ) {\n\n\t\t\tuvScaleMap = material.specularIntensityMap;\n\n\t\t} else if ( material.specularTintMap ) {\n\n\t\t\tuvScaleMap = material.specularTintMap;\n\n\t\t} else if ( material.transmissionMap ) {\n\n\t\t\tuvScaleMap = material.transmissionMap;\n\n\t\t} else if ( material.thicknessMap ) {\n\n\t\t\tuvScaleMap = material.thicknessMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uvScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuvScaleMap = uvScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities for uv2\n\t\t// 1. ao map\n\t\t// 2. light map\n\n\t\tlet uv2ScaleMap;\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuv2ScaleMap = material.aoMap;\n\n\t\t} else if ( material.lightMap ) {\n\n\t\t\tuv2ScaleMap = material.lightMap;\n\n\t\t}\n\n\t\tif ( uv2ScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uv2ScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuv2ScaleMap = uv2ScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uv2ScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuv2ScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uv2Transform.value.copy( uv2ScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLine( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\n\t}\n\n\tfunction refreshUniformsDash( uniforms, material ) {\n\n\t\tuniforms.dashSize.value = material.dashSize;\n\t\tuniforms.totalSize.value = material.dashSize + material.gapSize;\n\t\tuniforms.scale.value = material.scale;\n\n\t}\n\n\tfunction refreshUniformsPoints( uniforms, material, pixelRatio, height ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.size.value = material.size * pixelRatio;\n\t\tuniforms.scale.value = height * 0.5;\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\tif ( material.alphaTest > 0 ) {\n\n\t\t\tuniforms.alphaTest.value = material.alphaTest;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. alpha map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsSprites( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.rotation.value = material.rotation;\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\tif ( material.alphaTest > 0 ) {\n\n\t\t\tuniforms.alphaTest.value = material.alphaTest;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. alpha map\n\n\t\tlet uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLambert( uniforms, material ) {\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhong( uniforms, material ) {\n\n\t\tuniforms.specular.value.copy( material.specular );\n\t\tuniforms.shininess.value = Math.max( material.shininess, 1e-4 ); // to prevent pow( 0.0, 0.0 )\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsToon( uniforms, material ) {\n\n\t\tif ( material.gradientMap ) {\n\n\t\t\tuniforms.gradientMap.value = material.gradientMap;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsStandard( uniforms, material ) {\n\n\t\tuniforms.roughness.value = material.roughness;\n\t\tuniforms.metalness.value = material.metalness;\n\n\t\tif ( material.roughnessMap ) {\n\n\t\t\tuniforms.roughnessMap.value = material.roughnessMap;\n\n\t\t}\n\n\t\tif ( material.metalnessMap ) {\n\n\t\t\tuniforms.metalnessMap.value = material.metalnessMap;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tconst envMap = properties.get( material ).envMap;\n\n\t\tif ( envMap ) {\n\n\t\t\t//uniforms.envMap.value = material.envMap; // part of uniforms common\n\t\t\tuniforms.envMapIntensity.value = material.envMapIntensity;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhysical( uniforms, material, transmissionRenderTarget ) {\n\n\t\trefreshUniformsStandard( uniforms, material );\n\n\t\tuniforms.ior.value = material.ior; // also part of uniforms common\n\n\t\tif ( material.sheenTint ) uniforms.sheenTint.value.copy( material.sheenTint );\n\n\t\tif ( material.clearcoat > 0 ) {\n\n\t\t\tuniforms.clearcoat.value = material.clearcoat;\n\t\t\tuniforms.clearcoatRoughness.value = material.clearcoatRoughness;\n\n\t\t\tif ( material.clearcoatMap ) {\n\n\t\t\t\tuniforms.clearcoatMap.value = material.clearcoatMap;\n\n\t\t\t}\n\n\t\t\tif ( material.clearcoatRoughnessMap ) {\n\n\t\t\t\tuniforms.clearcoatRoughnessMap.value = material.clearcoatRoughnessMap;\n\n\t\t\t}\n\n\t\t\tif ( material.clearcoatNormalMap ) {\n\n\t\t\t\tuniforms.clearcoatNormalScale.value.copy( material.clearcoatNormalScale );\n\t\t\t\tuniforms.clearcoatNormalMap.value = material.clearcoatNormalMap;\n\n\t\t\t\tif ( material.side === BackSide ) {\n\n\t\t\t\t\tuniforms.clearcoatNormalScale.value.negate();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.transmission > 0 ) {\n\n\t\t\tuniforms.transmission.value = material.transmission;\n\t\t\tuniforms.transmissionSamplerMap.value = transmissionRenderTarget.texture;\n\t\t\tuniforms.transmissionSamplerSize.value.set( transmissionRenderTarget.width, transmissionRenderTarget.height );\n\n\t\t\tif ( material.transmissionMap ) {\n\n\t\t\t\tuniforms.transmissionMap.value = material.transmissionMap;\n\n\t\t\t}\n\n\t\t\tuniforms.thickness.value = material.thickness;\n\n\t\t\tif ( material.thicknessMap ) {\n\n\t\t\t\tuniforms.thicknessMap.value = material.thicknessMap;\n\n\t\t\t}\n\n\t\t\tuniforms.attenuationDistance.value = material.attenuationDistance;\n\t\t\tuniforms.attenuationTint.value.copy( material.attenuationTint );\n\n\t\t}\n\n\t\tuniforms.specularIntensity.value = material.specularIntensity;\n\t\tuniforms.specularTint.value.copy( material.specularTint );\n\n\t\tif ( material.specularIntensityMap ) {\n\n\t\t\tuniforms.specularIntensityMap.value = material.specularIntensityMap;\n\n\t\t}\n\n\t\tif ( material.specularTintMap ) {\n\n\t\t\tuniforms.specularTintMap.value = material.specularTintMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsMatcap( uniforms, material ) {\n\n\t\tif ( material.matcap ) {\n\n\t\t\tuniforms.matcap.value = material.matcap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDepth( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDistance( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tuniforms.referencePosition.value.copy( material.referencePosition );\n\t\tuniforms.nearDistance.value = material.nearDistance;\n\t\tuniforms.farDistance.value = material.farDistance;\n\n\t}\n\n\tfunction refreshUniformsNormal( uniforms, material ) {\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\trefreshFogUniforms: refreshFogUniforms,\n\t\trefreshMaterialUniforms: refreshMaterialUniforms\n\t};\n\n}\n\nfunction createCanvasElement() {\n\n\tconst canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\tcanvas.style.display = 'block';\n\treturn canvas;\n\n}\n\nfunction WebGLRenderer( parameters = {} ) {\n\n\tconst _canvas = parameters.canvas !== undefined ? parameters.canvas : createCanvasElement(),\n\t\t_context = parameters.context !== undefined ? parameters.context : null,\n\n\t\t_alpha = parameters.alpha !== undefined ? parameters.alpha : false,\n\t\t_depth = parameters.depth !== undefined ? parameters.depth : true,\n\t\t_stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n\t\t_antialias = parameters.antialias !== undefined ? parameters.antialias : false,\n\t\t_premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\n\t\t_preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false,\n\t\t_powerPreference = parameters.powerPreference !== undefined ? parameters.powerPreference : 'default',\n\t\t_failIfMajorPerformanceCaveat = parameters.failIfMajorPerformanceCaveat !== undefined ? parameters.failIfMajorPerformanceCaveat : false;\n\n\tlet currentRenderList = null;\n\tlet currentRenderState = null;\n\n\t// render() can be called from within a callback triggered by another render.\n\t// We track this so that the nested render call gets its list and state isolated from the parent render call.\n\n\tconst renderListStack = [];\n\tconst renderStateStack = [];\n\n\t// public properties\n\n\tthis.domElement = _canvas;\n\n\t// Debug configuration container\n\tthis.debug = {\n\n\t\t/**\n\t\t * Enables error checking and reporting when shader programs are being compiled\n\t\t * @type {boolean}\n\t\t */\n\t\tcheckShaderErrors: true\n\t};\n\n\t// clearing\n\n\tthis.autoClear = true;\n\tthis.autoClearColor = true;\n\tthis.autoClearDepth = true;\n\tthis.autoClearStencil = true;\n\n\t// scene graph\n\n\tthis.sortObjects = true;\n\n\t// user-defined clipping\n\n\tthis.clippingPlanes = [];\n\tthis.localClippingEnabled = false;\n\n\t// physically based shading\n\n\tthis.gammaFactor = 2.0;\t// for backwards compatibility\n\tthis.outputEncoding = LinearEncoding;\n\n\t// physical lights\n\n\tthis.physicallyCorrectLights = false;\n\n\t// tone mapping\n\n\tthis.toneMapping = NoToneMapping;\n\tthis.toneMappingExposure = 1.0;\n\n\t// internal properties\n\n\tconst _this = this;\n\n\tlet _isContextLost = false;\n\n\t// internal state cache\n\n\tlet _currentActiveCubeFace = 0;\n\tlet _currentActiveMipmapLevel = 0;\n\tlet _currentRenderTarget = null;\n\tlet _currentMaterialId = - 1;\n\n\tlet _currentCamera = null;\n\n\tconst _currentViewport = new Vector4();\n\tconst _currentScissor = new Vector4();\n\tlet _currentScissorTest = null;\n\n\t//\n\n\tlet _width = _canvas.width;\n\tlet _height = _canvas.height;\n\n\tlet _pixelRatio = 1;\n\tlet _opaqueSort = null;\n\tlet _transparentSort = null;\n\n\tconst _viewport = new Vector4( 0, 0, _width, _height );\n\tconst _scissor = new Vector4( 0, 0, _width, _height );\n\tlet _scissorTest = false;\n\n\t//\n\n\tconst _currentDrawBuffers = [];\n\n\t// frustum\n\n\tconst _frustum = new Frustum();\n\n\t// clipping\n\n\tlet _clippingEnabled = false;\n\tlet _localClippingEnabled = false;\n\n\t// transmission\n\n\tlet _transmissionRenderTarget = null;\n\n\t// camera matrices cache\n\n\tconst _projScreenMatrix = new Matrix4();\n\n\tconst _vector3 = new Vector3();\n\n\tconst _emptyScene = { background: null, fog: null, environment: null, overrideMaterial: null, isScene: true };\n\n\tfunction getTargetPixelRatio() {\n\n\t\treturn _currentRenderTarget === null ? _pixelRatio : 1;\n\n\t}\n\n\t// initialize\n\n\tlet _gl = _context;\n\n\tfunction getContext( contextNames, contextAttributes ) {\n\n\t\tfor ( let i = 0; i < contextNames.length; i ++ ) {\n\n\t\t\tconst contextName = contextNames[ i ];\n\t\t\tconst context = _canvas.getContext( contextName, contextAttributes );\n\t\t\tif ( context !== null ) return context;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\ttry {\n\n\t\tconst contextAttributes = {\n\t\t\talpha: _alpha,\n\t\t\tdepth: _depth,\n\t\t\tstencil: _stencil,\n\t\t\tantialias: _antialias,\n\t\t\tpremultipliedAlpha: _premultipliedAlpha,\n\t\t\tpreserveDrawingBuffer: _preserveDrawingBuffer,\n\t\t\tpowerPreference: _powerPreference,\n\t\t\tfailIfMajorPerformanceCaveat: _failIfMajorPerformanceCaveat\n\t\t};\n\n\t\t// event listeners must be registered before WebGL context is created, see #12753\n\n\t\t_canvas.addEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.addEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\tif ( _gl === null ) {\n\n\t\t\tconst contextNames = [ 'webgl2', 'webgl', 'experimental-webgl' ];\n\n\t\t\tif ( _this.isWebGL1Renderer === true ) {\n\n\t\t\t\tcontextNames.shift();\n\n\t\t\t}\n\n\t\t\t_gl = getContext( contextNames, contextAttributes );\n\n\t\t\tif ( _gl === null ) {\n\n\t\t\t\tif ( getContext( contextNames ) ) {\n\n\t\t\t\t\tthrow new Error( 'Error creating WebGL context with your selected attributes.' );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( 'Error creating WebGL context.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Some experimental-webgl implementations do not have getShaderPrecisionFormat\n\n\t\tif ( _gl.getShaderPrecisionFormat === undefined ) {\n\n\t\t\t_gl.getShaderPrecisionFormat = function () {\n\n\t\t\t\treturn { 'rangeMin': 1, 'rangeMax': 1, 'precision': 1 };\n\n\t\t\t};\n\n\t\t}\n\n\t} catch ( error ) {\n\n\t\tconsole.error( 'THREE.WebGLRenderer: ' + error.message );\n\t\tthrow error;\n\n\t}\n\n\tlet extensions, capabilities, state, info;\n\tlet properties, textures, cubemaps, cubeuvmaps, attributes, geometries, objects;\n\tlet programCache, materials, renderLists, renderStates, clipping, shadowMap;\n\n\tlet background, morphtargets, bufferRenderer, indexedBufferRenderer;\n\n\tlet utils, bindingStates;\n\n\tfunction initGLContext() {\n\n\t\textensions = new WebGLExtensions( _gl );\n\n\t\tcapabilities = new WebGLCapabilities( _gl, extensions, parameters );\n\n\t\textensions.init( capabilities );\n\n\t\tutils = new WebGLUtils( _gl, extensions, capabilities );\n\n\t\tstate = new WebGLState( _gl, extensions, capabilities );\n\n\t\t_currentDrawBuffers[ 0 ] = 1029;\n\n\t\tinfo = new WebGLInfo( _gl );\n\t\tproperties = new WebGLProperties();\n\t\ttextures = new WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info );\n\t\tcubemaps = new WebGLCubeMaps( _this );\n\t\tcubeuvmaps = new WebGLCubeUVMaps( _this );\n\t\tattributes = new WebGLAttributes( _gl, capabilities );\n\t\tbindingStates = new WebGLBindingStates( _gl, extensions, attributes, capabilities );\n\t\tgeometries = new WebGLGeometries( _gl, attributes, info, bindingStates );\n\t\tobjects = new WebGLObjects( _gl, geometries, attributes, info );\n\t\tmorphtargets = new WebGLMorphtargets( _gl );\n\t\tclipping = new WebGLClipping( properties );\n\t\tprogramCache = new WebGLPrograms( _this, cubemaps, cubeuvmaps, extensions, capabilities, bindingStates, clipping );\n\t\tmaterials = new WebGLMaterials( properties );\n\t\trenderLists = new WebGLRenderLists( properties );\n\t\trenderStates = new WebGLRenderStates( extensions, capabilities );\n\t\tbackground = new WebGLBackground( _this, cubemaps, state, objects, _premultipliedAlpha );\n\t\tshadowMap = new WebGLShadowMap( _this, objects, capabilities );\n\n\t\tbufferRenderer = new WebGLBufferRenderer( _gl, extensions, info, capabilities );\n\t\tindexedBufferRenderer = new WebGLIndexedBufferRenderer( _gl, extensions, info, capabilities );\n\n\t\tinfo.programs = programCache.programs;\n\n\t\t_this.capabilities = capabilities;\n\t\t_this.extensions = extensions;\n\t\t_this.properties = properties;\n\t\t_this.renderLists = renderLists;\n\t\t_this.shadowMap = shadowMap;\n\t\t_this.state = state;\n\t\t_this.info = info;\n\n\t}\n\n\tinitGLContext();\n\n\t// xr\n\n\tconst xr = new WebXRManager( _this, _gl );\n\n\tthis.xr = xr;\n\n\t// API\n\n\tthis.getContext = function () {\n\n\t\treturn _gl;\n\n\t};\n\n\tthis.getContextAttributes = function () {\n\n\t\treturn _gl.getContextAttributes();\n\n\t};\n\n\tthis.forceContextLoss = function () {\n\n\t\tconst extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.loseContext();\n\n\t};\n\n\tthis.forceContextRestore = function () {\n\n\t\tconst extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.restoreContext();\n\n\t};\n\n\tthis.getPixelRatio = function () {\n\n\t\treturn _pixelRatio;\n\n\t};\n\n\tthis.setPixelRatio = function ( value ) {\n\n\t\tif ( value === undefined ) return;\n\n\t\t_pixelRatio = value;\n\n\t\tthis.setSize( _width, _height, false );\n\n\t};\n\n\tthis.getSize = function ( target ) {\n\n\t\treturn target.set( _width, _height );\n\n\t};\n\n\tthis.setSize = function ( width, height, updateStyle ) {\n\n\t\tif ( xr.isPresenting ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Can\\'t change size while VR device is presenting.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_canvas.width = Math.floor( width * _pixelRatio );\n\t\t_canvas.height = Math.floor( height * _pixelRatio );\n\n\t\tif ( updateStyle !== false ) {\n\n\t\t\t_canvas.style.width = width + 'px';\n\t\t\t_canvas.style.height = height + 'px';\n\n\t\t}\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getDrawingBufferSize = function ( target ) {\n\n\t\treturn target.set( _width * _pixelRatio, _height * _pixelRatio ).floor();\n\n\t};\n\n\tthis.setDrawingBufferSize = function ( width, height, pixelRatio ) {\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_pixelRatio = pixelRatio;\n\n\t\t_canvas.width = Math.floor( width * pixelRatio );\n\t\t_canvas.height = Math.floor( height * pixelRatio );\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getCurrentViewport = function ( target ) {\n\n\t\treturn target.copy( _currentViewport );\n\n\t};\n\n\tthis.getViewport = function ( target ) {\n\n\t\treturn target.copy( _viewport );\n\n\t};\n\n\tthis.setViewport = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_viewport.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_viewport.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor() );\n\n\t};\n\n\tthis.getScissor = function ( target ) {\n\n\t\treturn target.copy( _scissor );\n\n\t};\n\n\tthis.setScissor = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_scissor.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_scissor.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor() );\n\n\t};\n\n\tthis.getScissorTest = function () {\n\n\t\treturn _scissorTest;\n\n\t};\n\n\tthis.setScissorTest = function ( boolean ) {\n\n\t\tstate.setScissorTest( _scissorTest = boolean );\n\n\t};\n\n\tthis.setOpaqueSort = function ( method ) {\n\n\t\t_opaqueSort = method;\n\n\t};\n\n\tthis.setTransparentSort = function ( method ) {\n\n\t\t_transparentSort = method;\n\n\t};\n\n\t// Clearing\n\n\tthis.getClearColor = function ( target ) {\n\n\t\treturn target.copy( background.getClearColor() );\n\n\t};\n\n\tthis.setClearColor = function () {\n\n\t\tbackground.setClearColor.apply( background, arguments );\n\n\t};\n\n\tthis.getClearAlpha = function () {\n\n\t\treturn background.getClearAlpha();\n\n\t};\n\n\tthis.setClearAlpha = function () {\n\n\t\tbackground.setClearAlpha.apply( background, arguments );\n\n\t};\n\n\tthis.clear = function ( color, depth, stencil ) {\n\n\t\tlet bits = 0;\n\n\t\tif ( color === undefined || color ) bits |= 16384;\n\t\tif ( depth === undefined || depth ) bits |= 256;\n\t\tif ( stencil === undefined || stencil ) bits |= 1024;\n\n\t\t_gl.clear( bits );\n\n\t};\n\n\tthis.clearColor = function () {\n\n\t\tthis.clear( true, false, false );\n\n\t};\n\n\tthis.clearDepth = function () {\n\n\t\tthis.clear( false, true, false );\n\n\t};\n\n\tthis.clearStencil = function () {\n\n\t\tthis.clear( false, false, true );\n\n\t};\n\n\t//\n\n\tthis.dispose = function () {\n\n\t\t_canvas.removeEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.removeEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\trenderLists.dispose();\n\t\trenderStates.dispose();\n\t\tproperties.dispose();\n\t\tcubemaps.dispose();\n\t\tcubeuvmaps.dispose();\n\t\tobjects.dispose();\n\t\tbindingStates.dispose();\n\n\t\txr.dispose();\n\n\t\txr.removeEventListener( 'sessionstart', onXRSessionStart );\n\t\txr.removeEventListener( 'sessionend', onXRSessionEnd );\n\n\t\tif ( _transmissionRenderTarget ) {\n\n\t\t\t_transmissionRenderTarget.dispose();\n\t\t\t_transmissionRenderTarget = null;\n\n\t\t}\n\n\t\tanimation.stop();\n\n\t};\n\n\t// Events\n\n\tfunction onContextLost( event ) {\n\n\t\tevent.preventDefault();\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Lost.' );\n\n\t\t_isContextLost = true;\n\n\t}\n\n\tfunction onContextRestore( /* event */ ) {\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Restored.' );\n\n\t\t_isContextLost = false;\n\n\t\tconst infoAutoReset = info.autoReset;\n\t\tconst shadowMapEnabled = shadowMap.enabled;\n\t\tconst shadowMapAutoUpdate = shadowMap.autoUpdate;\n\t\tconst shadowMapNeedsUpdate = shadowMap.needsUpdate;\n\t\tconst shadowMapType = shadowMap.type;\n\n\t\tinitGLContext();\n\n\t\tinfo.autoReset = infoAutoReset;\n\t\tshadowMap.enabled = shadowMapEnabled;\n\t\tshadowMap.autoUpdate = shadowMapAutoUpdate;\n\t\tshadowMap.needsUpdate = shadowMapNeedsUpdate;\n\t\tshadowMap.type = shadowMapType;\n\n\t}\n\n\tfunction onMaterialDispose( event ) {\n\n\t\tconst material = event.target;\n\n\t\tmaterial.removeEventListener( 'dispose', onMaterialDispose );\n\n\t\tdeallocateMaterial( material );\n\n\t}\n\n\t// Buffer deallocation\n\n\tfunction deallocateMaterial( material ) {\n\n\t\treleaseMaterialProgramReferences( material );\n\n\t\tproperties.remove( material );\n\n\t}\n\n\n\tfunction releaseMaterialProgramReferences( material ) {\n\n\t\tconst programs = properties.get( material ).programs;\n\n\t\tif ( programs !== undefined ) {\n\n\t\t\tprograms.forEach( function ( program ) {\n\n\t\t\t\tprogramCache.releaseProgram( program );\n\n\t\t\t} );\n\n\t\t}\n\n\t}\n\n\t// Buffer rendering\n\n\tfunction renderObjectImmediate( object, program ) {\n\n\t\tobject.render( function ( object ) {\n\n\t\t\t_this.renderBufferImmediate( object, program );\n\n\t\t} );\n\n\t}\n\n\tthis.renderBufferImmediate = function ( object, program ) {\n\n\t\tbindingStates.initAttributes();\n\n\t\tconst buffers = properties.get( object );\n\n\t\tif ( object.hasPositions && ! buffers.position ) buffers.position = _gl.createBuffer();\n\t\tif ( object.hasNormals && ! buffers.normal ) buffers.normal = _gl.createBuffer();\n\t\tif ( object.hasUvs && ! buffers.uv ) buffers.uv = _gl.createBuffer();\n\t\tif ( object.hasColors && ! buffers.color ) buffers.color = _gl.createBuffer();\n\n\t\tconst programAttributes = program.getAttributes();\n\n\t\tif ( object.hasPositions ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.position );\n\t\t\t_gl.bufferData( 34962, object.positionArray, 35048 );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.position.location );\n\t\t\t_gl.vertexAttribPointer( programAttributes.position.location, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasNormals ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.normal );\n\t\t\t_gl.bufferData( 34962, object.normalArray, 35048 );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.normal.location );\n\t\t\t_gl.vertexAttribPointer( programAttributes.normal.location, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasUvs ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.uv );\n\t\t\t_gl.bufferData( 34962, object.uvArray, 35048 );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.uv.location );\n\t\t\t_gl.vertexAttribPointer( programAttributes.uv.location, 2, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasColors ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.color );\n\t\t\t_gl.bufferData( 34962, object.colorArray, 35048 );\n\n\t\t\tbindingStates.enableAttribute( programAttributes.color.location );\n\t\t\t_gl.vertexAttribPointer( programAttributes.color.location, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tbindingStates.disableUnusedAttributes();\n\n\t\t_gl.drawArrays( 4, 0, object.count );\n\n\t\tobject.count = 0;\n\n\t};\n\n\tthis.renderBufferDirect = function ( camera, scene, geometry, material, object, group ) {\n\n\t\tif ( scene === null ) scene = _emptyScene; // renderBufferDirect second parameter used to be fog (could be null)\n\n\t\tconst frontFaceCW = ( object.isMesh && object.matrixWorld.determinant() < 0 );\n\n\t\tconst program = setProgram( camera, scene, material, object );\n\n\t\tstate.setMaterial( material, frontFaceCW );\n\n\t\t//\n\n\t\tlet index = geometry.index;\n\t\tconst position = geometry.attributes.position;\n\n\t\t//\n\n\t\tif ( index === null ) {\n\n\t\t\tif ( position === undefined || position.count === 0 ) return;\n\n\t\t} else if ( index.count === 0 ) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t//\n\n\t\tlet rangeFactor = 1;\n\n\t\tif ( material.wireframe === true ) {\n\n\t\t\tindex = geometries.getWireframeAttribute( geometry );\n\t\t\trangeFactor = 2;\n\n\t\t}\n\n\t\tif ( geometry.morphAttributes.position !== undefined || geometry.morphAttributes.normal !== undefined ) {\n\n\t\t\tmorphtargets.update( object, geometry, material, program );\n\n\t\t}\n\n\t\tbindingStates.setup( object, material, program, geometry, index );\n\n\t\tlet attribute;\n\t\tlet renderer = bufferRenderer;\n\n\t\tif ( index !== null ) {\n\n\t\t\tattribute = attributes.get( index );\n\n\t\t\trenderer = indexedBufferRenderer;\n\t\t\trenderer.setIndex( attribute );\n\n\t\t}\n\n\t\t//\n\n\t\tconst dataCount = ( index !== null ) ? index.count : position.count;\n\n\t\tconst rangeStart = geometry.drawRange.start * rangeFactor;\n\t\tconst rangeCount = geometry.drawRange.count * rangeFactor;\n\n\t\tconst groupStart = group !== null ? group.start * rangeFactor : 0;\n\t\tconst groupCount = group !== null ? group.count * rangeFactor : Infinity;\n\n\t\tconst drawStart = Math.max( rangeStart, groupStart );\n\t\tconst drawEnd = Math.min( dataCount, rangeStart + rangeCount, groupStart + groupCount ) - 1;\n\n\t\tconst drawCount = Math.max( 0, drawEnd - drawStart + 1 );\n\n\t\tif ( drawCount === 0 ) return;\n\n\t\t//\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tif ( material.wireframe === true ) {\n\n\t\t\t\tstate.setLineWidth( material.wireframeLinewidth * getTargetPixelRatio() );\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( 4 );\n\n\t\t\t}\n\n\t\t} else if ( object.isLine ) {\n\n\t\t\tlet lineWidth = material.linewidth;\n\n\t\t\tif ( lineWidth === undefined ) lineWidth = 1; // Not using Line*Material\n\n\t\t\tstate.setLineWidth( lineWidth * getTargetPixelRatio() );\n\n\t\t\tif ( object.isLineSegments ) {\n\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else if ( object.isLineLoop ) {\n\n\t\t\t\trenderer.setMode( 2 );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( 3 );\n\n\t\t\t}\n\n\t\t} else if ( object.isPoints ) {\n\n\t\t\trenderer.setMode( 0 );\n\n\t\t} else if ( object.isSprite ) {\n\n\t\t\trenderer.setMode( 4 );\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh ) {\n\n\t\t\trenderer.renderInstances( drawStart, drawCount, object.count );\n\n\t\t} else if ( geometry.isInstancedBufferGeometry ) {\n\n\t\t\tconst instanceCount = Math.min( geometry.instanceCount, geometry._maxInstanceCount );\n\n\t\t\trenderer.renderInstances( drawStart, drawCount, instanceCount );\n\n\t\t} else {\n\n\t\t\trenderer.render( drawStart, drawCount );\n\n\t\t}\n\n\t};\n\n\t// Compile\n\n\tthis.compile = function ( scene, camera ) {\n\n\t\tcurrentRenderState = renderStates.get( scene );\n\t\tcurrentRenderState.init();\n\n\t\trenderStateStack.push( currentRenderState );\n\n\t\tscene.traverseVisible( function ( object ) {\n\n\t\t\tif ( object.isLight && object.layers.test( camera.layers ) ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t\tcurrentRenderState.setupLights( _this.physicallyCorrectLights );\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tconst material = object.material;\n\n\t\t\tif ( material ) {\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( let i = 0; i < material.length; i ++ ) {\n\n\t\t\t\t\t\tconst material2 = material[ i ];\n\n\t\t\t\t\t\tgetProgram( material2, scene, object );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgetProgram( material, scene, object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t\trenderStateStack.pop();\n\t\tcurrentRenderState = null;\n\n\t};\n\n\t// Animation Loop\n\n\tlet onAnimationFrameCallback = null;\n\n\tfunction onAnimationFrame( time ) {\n\n\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time );\n\n\t}\n\n\tfunction onXRSessionStart() {\n\n\t\tanimation.stop();\n\n\t}\n\n\tfunction onXRSessionEnd() {\n\n\t\tanimation.start();\n\n\t}\n\n\tconst animation = new WebGLAnimation();\n\tanimation.setAnimationLoop( onAnimationFrame );\n\n\tif ( typeof window !== 'undefined' ) animation.setContext( window );\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tonAnimationFrameCallback = callback;\n\t\txr.setAnimationLoop( callback );\n\n\t\t( callback === null ) ? animation.stop() : animation.start();\n\n\t};\n\n\txr.addEventListener( 'sessionstart', onXRSessionStart );\n\txr.addEventListener( 'sessionend', onXRSessionEnd );\n\n\t// Rendering\n\n\tthis.render = function ( scene, camera ) {\n\n\t\tif ( camera !== undefined && camera.isCamera !== true ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( _isContextLost === true ) return;\n\n\t\t// update scene graph\n\n\t\tif ( scene.autoUpdate === true ) scene.updateMatrixWorld();\n\n\t\t// update camera matrices and frustum\n\n\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\n\n\t\tif ( xr.enabled === true && xr.isPresenting === true ) {\n\n\t\t\tif ( xr.cameraAutoUpdate === true ) xr.updateCamera( camera );\n\n\t\t\tcamera = xr.getCamera(); // use XR camera for rendering\n\n\t\t}\n\n\t\t//\n\t\tif ( scene.isScene === true ) scene.onBeforeRender( _this, scene, camera, _currentRenderTarget );\n\n\t\tcurrentRenderState = renderStates.get( scene, renderStateStack.length );\n\t\tcurrentRenderState.init();\n\n\t\trenderStateStack.push( currentRenderState );\n\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\t_frustum.setFromProjectionMatrix( _projScreenMatrix );\n\n\t\t_localClippingEnabled = this.localClippingEnabled;\n\t\t_clippingEnabled = clipping.init( this.clippingPlanes, _localClippingEnabled, camera );\n\n\t\tcurrentRenderList = renderLists.get( scene, renderListStack.length );\n\t\tcurrentRenderList.init();\n\n\t\trenderListStack.push( currentRenderList );\n\n\t\tprojectObject( scene, camera, 0, _this.sortObjects );\n\n\t\tcurrentRenderList.finish();\n\n\t\tif ( _this.sortObjects === true ) {\n\n\t\t\tcurrentRenderList.sort( _opaqueSort, _transparentSort );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( _clippingEnabled === true ) clipping.beginShadows();\n\n\t\tconst shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tshadowMap.render( shadowsArray, scene, camera );\n\n\t\tif ( _clippingEnabled === true ) clipping.endShadows();\n\n\t\t//\n\n\t\tif ( this.info.autoReset === true ) this.info.reset();\n\n\t\t//\n\n\t\tbackground.render( currentRenderList, scene );\n\n\t\t// render scene\n\n\t\tcurrentRenderState.setupLights( _this.physicallyCorrectLights );\n\n\t\tif ( camera.isArrayCamera ) {\n\n\t\t\tconst cameras = camera.cameras;\n\n\t\t\tfor ( let i = 0, l = cameras.length; i < l; i ++ ) {\n\n\t\t\t\tconst camera2 = cameras[ i ];\n\n\t\t\t\trenderScene( currentRenderList, scene, camera2, camera2.viewport );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderScene( currentRenderList, scene, camera );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( _currentRenderTarget !== null ) {\n\n\t\t\t// resolve multisample renderbuffers to a single-sample texture if necessary\n\n\t\t\ttextures.updateMultisampleRenderTarget( _currentRenderTarget );\n\n\t\t\t// Generate mipmap if we're using any kind of mipmap filtering\n\n\t\t\ttextures.updateRenderTargetMipmap( _currentRenderTarget );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( scene.isScene === true ) scene.onAfterRender( _this, scene, camera );\n\n\t\t// Ensure depth buffer writing is enabled so it can be cleared on next render\n\n\t\tstate.buffers.depth.setTest( true );\n\t\tstate.buffers.depth.setMask( true );\n\t\tstate.buffers.color.setMask( true );\n\n\t\tstate.setPolygonOffset( false );\n\n\t\t// _gl.finish();\n\n\t\tbindingStates.resetDefaultState();\n\t\t_currentMaterialId = - 1;\n\t\t_currentCamera = null;\n\n\t\trenderStateStack.pop();\n\n\t\tif ( renderStateStack.length > 0 ) {\n\n\t\t\tcurrentRenderState = renderStateStack[ renderStateStack.length - 1 ];\n\n\t\t} else {\n\n\t\t\tcurrentRenderState = null;\n\n\t\t}\n\n\t\trenderListStack.pop();\n\n\t\tif ( renderListStack.length > 0 ) {\n\n\t\t\tcurrentRenderList = renderListStack[ renderListStack.length - 1 ];\n\n\t\t} else {\n\n\t\t\tcurrentRenderList = null;\n\n\t\t}\n\n\t};\n\n\tfunction projectObject( object, camera, groupOrder, sortObjects ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tconst visible = object.layers.test( camera.layers );\n\n\t\tif ( visible ) {\n\n\t\t\tif ( object.isGroup ) {\n\n\t\t\t\tgroupOrder = object.renderOrder;\n\n\t\t\t} else if ( object.isLOD ) {\n\n\t\t\t\tif ( object.autoUpdate === true ) object.update( camera );\n\n\t\t\t} else if ( object.isLight ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isSprite ) {\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsSprite( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst geometry = objects.update( object );\n\t\t\t\t\tconst material = object.material;\n\n\t\t\t\t\tif ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isImmediateRenderObject ) {\n\n\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t}\n\n\t\t\t\tcurrentRenderList.push( object, null, object.material, groupOrder, _vector3.z, null );\n\n\t\t\t} else if ( object.isMesh || object.isLine || object.isPoints ) {\n\n\t\t\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\t\t\t// update skeleton only once in a frame\n\n\t\t\t\t\tif ( object.skeleton.frame !== info.render.frame ) {\n\n\t\t\t\t\t\tobject.skeleton.update();\n\t\t\t\t\t\tobject.skeleton.frame = info.render.frame;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst geometry = objects.update( object );\n\t\t\t\t\tconst material = object.material;\n\n\t\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\t\tconst groups = geometry.groups;\n\n\t\t\t\t\t\tfor ( let i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t\tconst group = groups[ i ];\n\t\t\t\t\t\t\tconst groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\t\tcurrentRenderList.push( object, geometry, groupMaterial, groupOrder, _vector3.z, group );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst children = object.children;\n\n\t\tfor ( let i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tprojectObject( children[ i ], camera, groupOrder, sortObjects );\n\n\t\t}\n\n\t}\n\n\tfunction renderScene( currentRenderList, scene, camera, viewport ) {\n\n\t\tconst opaqueObjects = currentRenderList.opaque;\n\t\tconst transmissiveObjects = currentRenderList.transmissive;\n\t\tconst transparentObjects = currentRenderList.transparent;\n\n\t\tcurrentRenderState.setupLightsView( camera );\n\n\t\tif ( transmissiveObjects.length > 0 ) renderTransmissionPass( opaqueObjects, scene, camera );\n\n\t\tif ( viewport ) state.viewport( _currentViewport.copy( viewport ) );\n\n\t\tif ( opaqueObjects.length > 0 ) renderObjects( opaqueObjects, scene, camera );\n\t\tif ( transmissiveObjects.length > 0 ) renderObjects( transmissiveObjects, scene, camera );\n\t\tif ( transparentObjects.length > 0 ) renderObjects( transparentObjects, scene, camera );\n\n\t}\n\n\tfunction renderTransmissionPass( opaqueObjects, scene, camera ) {\n\n\t\tif ( _transmissionRenderTarget === null ) {\n\n\t\t\tconst needsAntialias = _antialias === true && capabilities.isWebGL2 === true;\n\t\t\tconst renderTargetType = needsAntialias ? WebGLMultisampleRenderTarget : WebGLRenderTarget;\n\n\t\t\t_transmissionRenderTarget = new renderTargetType( 1024, 1024, {\n\t\t\t\tgenerateMipmaps: true,\n\t\t\t\ttype: utils.convert( HalfFloatType ) !== null ? HalfFloatType : UnsignedByteType,\n\t\t\t\tminFilter: LinearMipmapLinearFilter,\n\t\t\t\tmagFilter: NearestFilter,\n\t\t\t\twrapS: ClampToEdgeWrapping,\n\t\t\t\twrapT: ClampToEdgeWrapping\n\t\t\t} );\n\n\t\t}\n\n\t\tconst currentRenderTarget = _this.getRenderTarget();\n\t\t_this.setRenderTarget( _transmissionRenderTarget );\n\t\t_this.clear();\n\n\t\t// Turn off the features which can affect the frag color for opaque objects pass.\n\t\t// Otherwise they are applied twice in opaque objects pass and transmission objects pass.\n\t\tconst currentToneMapping = _this.toneMapping;\n\t\t_this.toneMapping = NoToneMapping;\n\n\t\trenderObjects( opaqueObjects, scene, camera );\n\n\t\t_this.toneMapping = currentToneMapping;\n\n\t\ttextures.updateMultisampleRenderTarget( _transmissionRenderTarget );\n\t\ttextures.updateRenderTargetMipmap( _transmissionRenderTarget );\n\n\t\t_this.setRenderTarget( currentRenderTarget );\n\n\t}\n\n\tfunction renderObjects( renderList, scene, camera ) {\n\n\t\tconst overrideMaterial = scene.isScene === true ? scene.overrideMaterial : null;\n\n\t\tfor ( let i = 0, l = renderList.length; i < l; i ++ ) {\n\n\t\t\tconst renderItem = renderList[ i ];\n\n\t\t\tconst object = renderItem.object;\n\t\t\tconst geometry = renderItem.geometry;\n\t\t\tconst material = overrideMaterial === null ? renderItem.material : overrideMaterial;\n\t\t\tconst group = renderItem.group;\n\n\t\t\tif ( object.layers.test( camera.layers ) ) {\n\n\t\t\t\trenderObject( object, scene, camera, geometry, material, group );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction renderObject( object, scene, camera, geometry, material, group ) {\n\n\t\tobject.onBeforeRender( _this, scene, camera, geometry, material, group );\n\n\t\tobject.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, object.matrixWorld );\n\t\tobject.normalMatrix.getNormalMatrix( object.modelViewMatrix );\n\n\t\tif ( object.isImmediateRenderObject ) {\n\n\t\t\tconst program = setProgram( camera, scene, material, object );\n\n\t\t\tstate.setMaterial( material );\n\n\t\t\tbindingStates.reset();\n\n\t\t\trenderObjectImmediate( object, program );\n\n\t\t} else {\n\n\t\t\tif ( material.transparent === true && material.side === DoubleSide ) {\n\n\t\t\t\tmaterial.side = BackSide;\n\t\t\t\tmaterial.needsUpdate = true;\n\t\t\t\t_this.renderBufferDirect( camera, scene, geometry, material, object, group );\n\n\t\t\t\tmaterial.side = FrontSide;\n\t\t\t\tmaterial.needsUpdate = true;\n\t\t\t\t_this.renderBufferDirect( camera, scene, geometry, material, object, group );\n\n\t\t\t\tmaterial.side = DoubleSide;\n\n\t\t\t} else {\n\n\t\t\t\t_this.renderBufferDirect( camera, scene, geometry, material, object, group );\n\n\t\t\t}\n\n\t\t}\n\n\t\tobject.onAfterRender( _this, scene, camera, geometry, material, group );\n\n\t}\n\n\tfunction getProgram( material, scene, object ) {\n\n\t\tif ( scene.isScene !== true ) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n\t\tconst materialProperties = properties.get( material );\n\n\t\tconst lights = currentRenderState.state.lights;\n\t\tconst shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tconst lightsStateVersion = lights.state.version;\n\n\t\tconst parameters = programCache.getParameters( material, lights.state, shadowsArray, scene, object );\n\t\tconst programCacheKey = programCache.getProgramCacheKey( parameters );\n\n\t\tlet programs = materialProperties.programs;\n\n\t\t// always update environment and fog - changing these trigger an getProgram call, but it's possible that the program doesn't change\n\n\t\tmaterialProperties.environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\tmaterialProperties.fog = scene.fog;\n\t\tmaterialProperties.envMap = ( material.isMeshStandardMaterial ? cubeuvmaps : cubemaps ).get( material.envMap || materialProperties.environment );\n\n\t\tif ( programs === undefined ) {\n\n\t\t\t// new material\n\n\t\t\tmaterial.addEventListener( 'dispose', onMaterialDispose );\n\n\t\t\tprograms = new Map();\n\t\t\tmaterialProperties.programs = programs;\n\n\t\t}\n\n\t\tlet program = programs.get( programCacheKey );\n\n\t\tif ( program !== undefined ) {\n\n\t\t\t// early out if program and light state is identical\n\n\t\t\tif ( materialProperties.currentProgram === program && materialProperties.lightsStateVersion === lightsStateVersion ) {\n\n\t\t\t\tupdateCommonMaterialProperties( material, parameters );\n\n\t\t\t\treturn program;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tparameters.uniforms = programCache.getUniforms( material );\n\n\t\t\tmaterial.onBuild( parameters, _this );\n\n\t\t\tmaterial.onBeforeCompile( parameters, _this );\n\n\t\t\tprogram = programCache.acquireProgram( parameters, programCacheKey );\n\t\t\tprograms.set( programCacheKey, program );\n\n\t\t\tmaterialProperties.uniforms = parameters.uniforms;\n\n\t\t}\n\n\t\tconst uniforms = materialProperties.uniforms;\n\n\t\tif ( ( ! material.isShaderMaterial && ! material.isRawShaderMaterial ) || material.clipping === true ) {\n\n\t\t\tuniforms.clippingPlanes = clipping.uniform;\n\n\t\t}\n\n\t\tupdateCommonMaterialProperties( material, parameters );\n\n\t\t// store the light setup it was created for\n\n\t\tmaterialProperties.needsLights = materialNeedsLights( material );\n\t\tmaterialProperties.lightsStateVersion = lightsStateVersion;\n\n\t\tif ( materialProperties.needsLights ) {\n\n\t\t\t// wire up the material to this renderer's lighting state\n\n\t\t\tuniforms.ambientLightColor.value = lights.state.ambient;\n\t\t\tuniforms.lightProbe.value = lights.state.probe;\n\t\t\tuniforms.directionalLights.value = lights.state.directional;\n\t\t\tuniforms.directionalLightShadows.value = lights.state.directionalShadow;\n\t\t\tuniforms.spotLights.value = lights.state.spot;\n\t\t\tuniforms.spotLightShadows.value = lights.state.spotShadow;\n\t\t\tuniforms.rectAreaLights.value = lights.state.rectArea;\n\t\t\tuniforms.ltc_1.value = lights.state.rectAreaLTC1;\n\t\t\tuniforms.ltc_2.value = lights.state.rectAreaLTC2;\n\t\t\tuniforms.pointLights.value = lights.state.point;\n\t\t\tuniforms.pointLightShadows.value = lights.state.pointShadow;\n\t\t\tuniforms.hemisphereLights.value = lights.state.hemi;\n\n\t\t\tuniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\n\t\t\tuniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;\n\t\t\tuniforms.spotShadowMap.value = lights.state.spotShadowMap;\n\t\t\tuniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;\n\t\t\tuniforms.pointShadowMap.value = lights.state.pointShadowMap;\n\t\t\tuniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix;\n\t\t\t// TODO (abelnation): add area lights shadow info to uniforms\n\n\t\t}\n\n\t\tconst progUniforms = program.getUniforms();\n\t\tconst uniformsList = WebGLUniforms.seqWithValue( progUniforms.seq, uniforms );\n\n\t\tmaterialProperties.currentProgram = program;\n\t\tmaterialProperties.uniformsList = uniformsList;\n\n\t\treturn program;\n\n\t}\n\n\tfunction updateCommonMaterialProperties( material, parameters ) {\n\n\t\tconst materialProperties = properties.get( material );\n\n\t\tmaterialProperties.outputEncoding = parameters.outputEncoding;\n\t\tmaterialProperties.instancing = parameters.instancing;\n\t\tmaterialProperties.skinning = parameters.skinning;\n\t\tmaterialProperties.morphTargets = parameters.morphTargets;\n\t\tmaterialProperties.morphNormals = parameters.morphNormals;\n\t\tmaterialProperties.numClippingPlanes = parameters.numClippingPlanes;\n\t\tmaterialProperties.numIntersection = parameters.numClipIntersection;\n\t\tmaterialProperties.vertexAlphas = parameters.vertexAlphas;\n\t\tmaterialProperties.vertexTangents = parameters.vertexTangents;\n\n\t}\n\n\tfunction setProgram( camera, scene, material, object ) {\n\n\t\tif ( scene.isScene !== true ) scene = _emptyScene; // scene could be a Mesh, Line, Points, ...\n\n\t\ttextures.resetTextureUnits();\n\n\t\tconst fog = scene.fog;\n\t\tconst environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\tconst encoding = ( _currentRenderTarget === null ) ? _this.outputEncoding : _currentRenderTarget.texture.encoding;\n\t\tconst envMap = ( material.isMeshStandardMaterial ? cubeuvmaps : cubemaps ).get( material.envMap || environment );\n\t\tconst vertexAlphas = material.vertexColors === true && !! object.geometry && !! object.geometry.attributes.color && object.geometry.attributes.color.itemSize === 4;\n\t\tconst vertexTangents = !! object.geometry && !! object.geometry.attributes.tangent;\n\t\tconst morphTargets = !! object.geometry && !! object.geometry.morphAttributes.position;\n\t\tconst morphNormals = !! object.geometry && !! object.geometry.morphAttributes.normal;\n\n\t\tconst materialProperties = properties.get( material );\n\t\tconst lights = currentRenderState.state.lights;\n\n\t\tif ( _clippingEnabled === true ) {\n\n\t\t\tif ( _localClippingEnabled === true || camera !== _currentCamera ) {\n\n\t\t\t\tconst useCache =\n\t\t\t\t\tcamera === _currentCamera &&\n\t\t\t\t\tmaterial.id === _currentMaterialId;\n\n\t\t\t\t// we might want to call this function with some ClippingGroup\n\t\t\t\t// object instead of the material, once it becomes feasible\n\t\t\t\t// (#8465, #8379)\n\t\t\t\tclipping.setState( material, camera, useCache );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tlet needsProgramChange = false;\n\n\t\tif ( material.version === materialProperties.__version ) {\n\n\t\t\tif ( materialProperties.needsLights && ( materialProperties.lightsStateVersion !== lights.state.version ) ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.outputEncoding !== encoding ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( object.isInstancedMesh && materialProperties.instancing === false ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( ! object.isInstancedMesh && materialProperties.instancing === true ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( object.isSkinnedMesh && materialProperties.skinning === false ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( ! object.isSkinnedMesh && materialProperties.skinning === true ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.envMap !== envMap ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( material.fog && materialProperties.fog !== fog ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.numClippingPlanes !== undefined &&\n\t\t\t\t( materialProperties.numClippingPlanes !== clipping.numPlanes ||\n\t\t\t\tmaterialProperties.numIntersection !== clipping.numIntersection ) ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.vertexAlphas !== vertexAlphas ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.vertexTangents !== vertexTangents ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.morphTargets !== morphTargets ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t} else if ( materialProperties.morphNormals !== morphNormals ) {\n\n\t\t\t\tneedsProgramChange = true;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tneedsProgramChange = true;\n\t\t\tmaterialProperties.__version = material.version;\n\n\t\t}\n\n\t\t//\n\n\t\tlet program = materialProperties.currentProgram;\n\n\t\tif ( needsProgramChange === true ) {\n\n\t\t\tprogram = getProgram( material, scene, object );\n\n\t\t}\n\n\t\tlet refreshProgram = false;\n\t\tlet refreshMaterial = false;\n\t\tlet refreshLights = false;\n\n\t\tconst p_uniforms = program.getUniforms(),\n\t\t\tm_uniforms = materialProperties.uniforms;\n\n\t\tif ( state.useProgram( program.program ) ) {\n\n\t\t\trefreshProgram = true;\n\t\t\trefreshMaterial = true;\n\t\t\trefreshLights = true;\n\n\t\t}\n\n\t\tif ( material.id !== _currentMaterialId ) {\n\n\t\t\t_currentMaterialId = material.id;\n\n\t\t\trefreshMaterial = true;\n\n\t\t}\n\n\t\tif ( refreshProgram || _currentCamera !== camera ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'projectionMatrix', camera.projectionMatrix );\n\n\t\t\tif ( capabilities.logarithmicDepthBuffer ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'logDepthBufFC',\n\t\t\t\t\t2.0 / ( Math.log( camera.far + 1.0 ) / Math.LN2 ) );\n\n\t\t\t}\n\n\t\t\tif ( _currentCamera !== camera ) {\n\n\t\t\t\t_currentCamera = camera;\n\n\t\t\t\t// lighting uniforms depend on the camera so enforce an update\n\t\t\t\t// now, in case this material supports lights - or later, when\n\t\t\t\t// the next material that does gets activated:\n\n\t\t\t\trefreshMaterial = true;\t\t// set to true on material change\n\t\t\t\trefreshLights = true;\t\t// remains set until update done\n\n\t\t\t}\n\n\t\t\t// load material specific uniforms\n\t\t\t// (shader material also gets them for the sake of genericity)\n\n\t\t\tif ( material.isShaderMaterial ||\n\t\t\t\tmaterial.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.envMap ) {\n\n\t\t\t\tconst uCamPos = p_uniforms.map.cameraPosition;\n\n\t\t\t\tif ( uCamPos !== undefined ) {\n\n\t\t\t\t\tuCamPos.setValue( _gl,\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( camera.matrixWorld ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'isOrthographic', camera.isOrthographicCamera === true );\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ||\n\t\t\t\tmaterial.isShadowMaterial ||\n\t\t\t\tobject.isSkinnedMesh ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'viewMatrix', camera.matrixWorldInverse );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// skinning uniforms must be set even if material didn't change\n\t\t// auto-setting of texture unit for bone texture must go before other textures\n\t\t// otherwise textures used for skinning can take over texture units reserved for other material textures\n\n\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrix' );\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrixInverse' );\n\n\t\t\tconst skeleton = object.skeleton;\n\n\t\t\tif ( skeleton ) {\n\n\t\t\t\tif ( capabilities.floatVertexTextures ) {\n\n\t\t\t\t\tif ( skeleton.boneTexture === null ) skeleton.computeBoneTexture();\n\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTexture', skeleton.boneTexture, textures );\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTextureSize', skeleton.boneTextureSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tp_uniforms.setOptional( _gl, skeleton, 'boneMatrices' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( refreshMaterial || materialProperties.receiveShadow !== object.receiveShadow ) {\n\n\t\t\tmaterialProperties.receiveShadow = object.receiveShadow;\n\t\t\tp_uniforms.setValue( _gl, 'receiveShadow', object.receiveShadow );\n\n\t\t}\n\n\t\tif ( refreshMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingExposure', _this.toneMappingExposure );\n\n\t\t\tif ( materialProperties.needsLights ) {\n\n\t\t\t\t// the current material requires lighting info\n\n\t\t\t\t// note: all lighting uniforms are always set correctly\n\t\t\t\t// they simply reference the renderer's state for their\n\t\t\t\t// values\n\t\t\t\t//\n\t\t\t\t// use the current material's .needsUpdate flags to set\n\t\t\t\t// the GL state when required\n\n\t\t\t\tmarkUniformsLightsNeedsUpdate( m_uniforms, refreshLights );\n\n\t\t\t}\n\n\t\t\t// refresh uniforms common to several materials\n\n\t\t\tif ( fog && material.fog ) {\n\n\t\t\t\tmaterials.refreshFogUniforms( m_uniforms, fog );\n\n\t\t\t}\n\n\t\t\tmaterials.refreshMaterialUniforms( m_uniforms, material, _pixelRatio, _height, _transmissionRenderTarget );\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\n\t\t}\n\n\t\tif ( material.isShaderMaterial && material.uniformsNeedUpdate === true ) {\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\t\t\tmaterial.uniformsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( material.isSpriteMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'center', object.center );\n\n\t\t}\n\n\t\t// common matrices\n\n\t\tp_uniforms.setValue( _gl, 'modelViewMatrix', object.modelViewMatrix );\n\t\tp_uniforms.setValue( _gl, 'normalMatrix', object.normalMatrix );\n\t\tp_uniforms.setValue( _gl, 'modelMatrix', object.matrixWorld );\n\n\t\treturn program;\n\n\t}\n\n\t// If uniforms are marked as clean, they don't need to be loaded to the GPU.\n\n\tfunction markUniformsLightsNeedsUpdate( uniforms, value ) {\n\n\t\tuniforms.ambientLightColor.needsUpdate = value;\n\t\tuniforms.lightProbe.needsUpdate = value;\n\n\t\tuniforms.directionalLights.needsUpdate = value;\n\t\tuniforms.directionalLightShadows.needsUpdate = value;\n\t\tuniforms.pointLights.needsUpdate = value;\n\t\tuniforms.pointLightShadows.needsUpdate = value;\n\t\tuniforms.spotLights.needsUpdate = value;\n\t\tuniforms.spotLightShadows.needsUpdate = value;\n\t\tuniforms.rectAreaLights.needsUpdate = value;\n\t\tuniforms.hemisphereLights.needsUpdate = value;\n\n\t}\n\n\tfunction materialNeedsLights( material ) {\n\n\t\treturn material.isMeshLambertMaterial || material.isMeshToonMaterial || material.isMeshPhongMaterial ||\n\t\t\tmaterial.isMeshStandardMaterial || material.isShadowMaterial ||\n\t\t\t( material.isShaderMaterial && material.lights === true );\n\n\t}\n\n\tthis.getActiveCubeFace = function () {\n\n\t\treturn _currentActiveCubeFace;\n\n\t};\n\n\tthis.getActiveMipmapLevel = function () {\n\n\t\treturn _currentActiveMipmapLevel;\n\n\t};\n\n\tthis.getRenderTarget = function () {\n\n\t\treturn _currentRenderTarget;\n\n\t};\n\n\tthis.setRenderTarget = function ( renderTarget, activeCubeFace = 0, activeMipmapLevel = 0 ) {\n\n\t\t_currentRenderTarget = renderTarget;\n\t\t_currentActiveCubeFace = activeCubeFace;\n\t\t_currentActiveMipmapLevel = activeMipmapLevel;\n\n\t\tif ( renderTarget && properties.get( renderTarget ).__webglFramebuffer === undefined ) {\n\n\t\t\ttextures.setupRenderTarget( renderTarget );\n\n\t\t}\n\n\t\tlet framebuffer = null;\n\t\tlet isCube = false;\n\t\tlet isRenderTarget3D = false;\n\n\t\tif ( renderTarget ) {\n\n\t\t\tconst texture = renderTarget.texture;\n\n\t\t\tif ( texture.isDataTexture3D || texture.isDataTexture2DArray ) {\n\n\t\t\t\tisRenderTarget3D = true;\n\n\t\t\t}\n\n\t\t\tconst __webglFramebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\n\n\t\t\t\tframebuffer = __webglFramebuffer[ activeCubeFace ];\n\t\t\t\tisCube = true;\n\n\t\t\t} else if ( renderTarget.isWebGLMultisampleRenderTarget ) {\n\n\t\t\t\tframebuffer = properties.get( renderTarget ).__webglMultisampledFramebuffer;\n\n\t\t\t} else {\n\n\t\t\t\tframebuffer = __webglFramebuffer;\n\n\t\t\t}\n\n\t\t\t_currentViewport.copy( renderTarget.viewport );\n\t\t\t_currentScissor.copy( renderTarget.scissor );\n\t\t\t_currentScissorTest = renderTarget.scissorTest;\n\n\t\t} else {\n\n\t\t\t_currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t_currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t_currentScissorTest = _scissorTest;\n\n\t\t}\n\n\t\tconst framebufferBound = state.bindFramebuffer( 36160, framebuffer );\n\n\t\tif ( framebufferBound && capabilities.drawBuffers ) {\n\n\t\t\tlet needsUpdate = false;\n\n\t\t\tif ( renderTarget ) {\n\n\t\t\t\tif ( renderTarget.isWebGLMultipleRenderTargets ) {\n\n\t\t\t\t\tconst textures = renderTarget.texture;\n\n\t\t\t\t\tif ( _currentDrawBuffers.length !== textures.length || _currentDrawBuffers[ 0 ] !== 36064 ) {\n\n\t\t\t\t\t\tfor ( let i = 0, il = textures.length; i < il; i ++ ) {\n\n\t\t\t\t\t\t\t_currentDrawBuffers[ i ] = 36064 + i;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_currentDrawBuffers.length = textures.length;\n\n\t\t\t\t\t\tneedsUpdate = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( _currentDrawBuffers.length !== 1 || _currentDrawBuffers[ 0 ] !== 36064 ) {\n\n\t\t\t\t\t\t_currentDrawBuffers[ 0 ] = 36064;\n\t\t\t\t\t\t_currentDrawBuffers.length = 1;\n\n\t\t\t\t\t\tneedsUpdate = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( _currentDrawBuffers.length !== 1 || _currentDrawBuffers[ 0 ] !== 1029 ) {\n\n\t\t\t\t\t_currentDrawBuffers[ 0 ] = 1029;\n\t\t\t\t\t_currentDrawBuffers.length = 1;\n\n\t\t\t\t\tneedsUpdate = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( needsUpdate ) {\n\n\t\t\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t\t\t_gl.drawBuffers( _currentDrawBuffers );\n\n\t\t\t\t} else {\n\n\t\t\t\t\textensions.get( 'WEBGL_draw_buffers' ).drawBuffersWEBGL( _currentDrawBuffers );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport );\n\t\tstate.scissor( _currentScissor );\n\t\tstate.setScissorTest( _currentScissorTest );\n\n\t\tif ( isCube ) {\n\n\t\t\tconst textureProperties = properties.get( renderTarget.texture );\n\t\t\t_gl.framebufferTexture2D( 36160, 36064, 34069 + activeCubeFace, textureProperties.__webglTexture, activeMipmapLevel );\n\n\t\t} else if ( isRenderTarget3D ) {\n\n\t\t\tconst textureProperties = properties.get( renderTarget.texture );\n\t\t\tconst layer = activeCubeFace || 0;\n\t\t\t_gl.framebufferTextureLayer( 36160, 36064, textureProperties.__webglTexture, activeMipmapLevel || 0, layer );\n\n\t\t}\n\n\t\t_currentMaterialId = - 1; // reset current material to ensure correct uniform bindings\n\n\t};\n\n\tthis.readRenderTargetPixels = function ( renderTarget, x, y, width, height, buffer, activeCubeFaceIndex ) {\n\n\t\tif ( ! ( renderTarget && renderTarget.isWebGLRenderTarget ) ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tlet framebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget && activeCubeFaceIndex !== undefined ) {\n\n\t\t\tframebuffer = framebuffer[ activeCubeFaceIndex ];\n\n\t\t}\n\n\t\tif ( framebuffer ) {\n\n\t\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\t\ttry {\n\n\t\t\t\tconst texture = renderTarget.texture;\n\t\t\t\tconst textureFormat = texture.format;\n\t\t\t\tconst textureType = texture.type;\n\n\t\t\t\tif ( textureFormat !== RGBAFormat && utils.convert( textureFormat ) !== _gl.getParameter( 35739 ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tconst halfFloatSupportedByExt = ( textureType === HalfFloatType ) && ( extensions.has( 'EXT_color_buffer_half_float' ) || ( capabilities.isWebGL2 && extensions.has( 'EXT_color_buffer_float' ) ) );\n\n\t\t\t\tif ( textureType !== UnsignedByteType && utils.convert( textureType ) !== _gl.getParameter( 35738 ) && // Edge and Chrome Mac < 52 (#9513)\n\t\t\t\t\t! ( textureType === FloatType && ( capabilities.isWebGL2 || extensions.has( 'OES_texture_float' ) || extensions.has( 'WEBGL_color_buffer_float' ) ) ) && // Chrome Mac >= 52 and Firefox\n\t\t\t\t\t! halfFloatSupportedByExt ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _gl.checkFramebufferStatus( 36160 ) === 36053 ) {\n\n\t\t\t\t\t// the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\n\n\t\t\t\t\tif ( ( x >= 0 && x <= ( renderTarget.width - width ) ) && ( y >= 0 && y <= ( renderTarget.height - height ) ) ) {\n\n\t\t\t\t\t\t_gl.readPixels( x, y, width, height, utils.convert( textureFormat ), utils.convert( textureType ), buffer );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.' );\n\n\t\t\t\t}\n\n\t\t\t} finally {\n\n\t\t\t\t// restore framebuffer of current render target if necessary\n\n\t\t\t\tconst framebuffer = ( _currentRenderTarget !== null ) ? properties.get( _currentRenderTarget ).__webglFramebuffer : null;\n\t\t\t\tstate.bindFramebuffer( 36160, framebuffer );\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.copyFramebufferToTexture = function ( position, texture, level = 0 ) {\n\n\t\tconst levelScale = Math.pow( 2, - level );\n\t\tconst width = Math.floor( texture.image.width * levelScale );\n\t\tconst height = Math.floor( texture.image.height * levelScale );\n\n\t\tlet glFormat = utils.convert( texture.format );\n\n\t\tif ( capabilities.isWebGL2 ) {\n\n\t\t\t// Workaround for https://bugs.chromium.org/p/chromium/issues/detail?id=1120100\n\t\t\t// Not needed in Chrome 93+\n\n\t\t\tif ( glFormat === 6407 ) glFormat = 32849;\n\t\t\tif ( glFormat === 6408 ) glFormat = 32856;\n\n\t\t}\n\n\t\ttextures.setTexture2D( texture, 0 );\n\n\t\t_gl.copyTexImage2D( 3553, level, glFormat, position.x, position.y, width, height, 0 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.copyTextureToTexture = function ( position, srcTexture, dstTexture, level = 0 ) {\n\n\t\tconst width = srcTexture.image.width;\n\t\tconst height = srcTexture.image.height;\n\t\tconst glFormat = utils.convert( dstTexture.format );\n\t\tconst glType = utils.convert( dstTexture.type );\n\n\t\ttextures.setTexture2D( dstTexture, 0 );\n\n\t\t// As another texture upload may have changed pixelStorei\n\t\t// parameters, make sure they are correct for the dstTexture\n\t\t_gl.pixelStorei( 37440, dstTexture.flipY );\n\t\t_gl.pixelStorei( 37441, dstTexture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, dstTexture.unpackAlignment );\n\n\t\tif ( srcTexture.isDataTexture ) {\n\n\t\t\t_gl.texSubImage2D( 3553, level, position.x, position.y, width, height, glFormat, glType, srcTexture.image.data );\n\n\t\t} else {\n\n\t\t\tif ( srcTexture.isCompressedTexture ) {\n\n\t\t\t\t_gl.compressedTexSubImage2D( 3553, level, position.x, position.y, srcTexture.mipmaps[ 0 ].width, srcTexture.mipmaps[ 0 ].height, glFormat, srcTexture.mipmaps[ 0 ].data );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.texSubImage2D( 3553, level, position.x, position.y, glFormat, glType, srcTexture.image );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Generate mipmaps only when copying level 0\n\t\tif ( level === 0 && dstTexture.generateMipmaps ) _gl.generateMipmap( 3553 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.copyTextureToTexture3D = function ( sourceBox, position, srcTexture, dstTexture, level = 0 ) {\n\n\t\tif ( _this.isWebGL1Renderer ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst width = sourceBox.max.x - sourceBox.min.x + 1;\n\t\tconst height = sourceBox.max.y - sourceBox.min.y + 1;\n\t\tconst depth = sourceBox.max.z - sourceBox.min.z + 1;\n\t\tconst glFormat = utils.convert( dstTexture.format );\n\t\tconst glType = utils.convert( dstTexture.type );\n\t\tlet glTarget;\n\n\t\tif ( dstTexture.isDataTexture3D ) {\n\n\t\t\ttextures.setTexture3D( dstTexture, 0 );\n\t\t\tglTarget = 32879;\n\n\t\t} else if ( dstTexture.isDataTexture2DArray ) {\n\n\t\t\ttextures.setTexture2DArray( dstTexture, 0 );\n\t\t\tglTarget = 35866;\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t_gl.pixelStorei( 37440, dstTexture.flipY );\n\t\t_gl.pixelStorei( 37441, dstTexture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, dstTexture.unpackAlignment );\n\n\t\tconst unpackRowLen = _gl.getParameter( 3314 );\n\t\tconst unpackImageHeight = _gl.getParameter( 32878 );\n\t\tconst unpackSkipPixels = _gl.getParameter( 3316 );\n\t\tconst unpackSkipRows = _gl.getParameter( 3315 );\n\t\tconst unpackSkipImages = _gl.getParameter( 32877 );\n\n\t\tconst image = srcTexture.isCompressedTexture ? srcTexture.mipmaps[ 0 ] : srcTexture.image;\n\n\t\t_gl.pixelStorei( 3314, image.width );\n\t\t_gl.pixelStorei( 32878, image.height );\n\t\t_gl.pixelStorei( 3316, sourceBox.min.x );\n\t\t_gl.pixelStorei( 3315, sourceBox.min.y );\n\t\t_gl.pixelStorei( 32877, sourceBox.min.z );\n\n\t\tif ( srcTexture.isDataTexture || srcTexture.isDataTexture3D ) {\n\n\t\t\t_gl.texSubImage3D( glTarget, level, position.x, position.y, position.z, width, height, depth, glFormat, glType, image.data );\n\n\t\t} else {\n\n\t\t\tif ( srcTexture.isCompressedTexture ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture.' );\n\t\t\t\t_gl.compressedTexSubImage3D( glTarget, level, position.x, position.y, position.z, width, height, depth, glFormat, image.data );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.texSubImage3D( glTarget, level, position.x, position.y, position.z, width, height, depth, glFormat, glType, image );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.pixelStorei( 3314, unpackRowLen );\n\t\t_gl.pixelStorei( 32878, unpackImageHeight );\n\t\t_gl.pixelStorei( 3316, unpackSkipPixels );\n\t\t_gl.pixelStorei( 3315, unpackSkipRows );\n\t\t_gl.pixelStorei( 32877, unpackSkipImages );\n\n\t\t// Generate mipmaps only when copying level 0\n\t\tif ( level === 0 && dstTexture.generateMipmaps ) _gl.generateMipmap( glTarget );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.initTexture = function ( texture ) {\n\n\t\ttextures.setTexture2D( texture, 0 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.resetState = function () {\n\n\t\t_currentActiveCubeFace = 0;\n\t\t_currentActiveMipmapLevel = 0;\n\t\t_currentRenderTarget = null;\n\n\t\tstate.reset();\n\t\tbindingStates.reset();\n\n\t};\n\n\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) ); // eslint-disable-line no-undef\n\n\t}\n\n}\n\nclass WebGL1Renderer extends WebGLRenderer {}\n\nWebGL1Renderer.prototype.isWebGL1Renderer = true;\n\nclass FogExp2 {\n\n\tconstructor( color, density = 0.00025 ) {\n\n\t\tthis.name = '';\n\n\t\tthis.color = new Color( color );\n\t\tthis.density = density;\n\n\t}\n\n\tclone() {\n\n\t\treturn new FogExp2( this.color, this.density );\n\n\t}\n\n\ttoJSON( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'FogExp2',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tdensity: this.density\n\t\t};\n\n\t}\n\n}\n\nFogExp2.prototype.isFogExp2 = true;\n\nclass Fog {\n\n\tconstructor( color, near = 1, far = 1000 ) {\n\n\t\tthis.name = '';\n\n\t\tthis.color = new Color( color );\n\n\t\tthis.near = near;\n\t\tthis.far = far;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Fog( this.color, this.near, this.far );\n\n\t}\n\n\ttoJSON( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'Fog',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tnear: this.near,\n\t\t\tfar: this.far\n\t\t};\n\n\t}\n\n}\n\nFog.prototype.isFog = true;\n\nclass Scene extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'Scene';\n\n\t\tthis.background = null;\n\t\tthis.environment = null;\n\t\tthis.fog = null;\n\n\t\tthis.overrideMaterial = null;\n\n\t\tthis.autoUpdate = true; // checked by the renderer\n\n\t\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) ); // eslint-disable-line no-undef\n\n\t\t}\n\n\t}\n\n\tcopy( source, recursive ) {\n\n\t\tsuper.copy( source, recursive );\n\n\t\tif ( source.background !== null ) this.background = source.background.clone();\n\t\tif ( source.environment !== null ) this.environment = source.environment.clone();\n\t\tif ( source.fog !== null ) this.fog = source.fog.clone();\n\n\t\tif ( source.overrideMaterial !== null ) this.overrideMaterial = source.overrideMaterial.clone();\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tif ( this.fog !== null ) data.object.fog = this.fog.toJSON();\n\n\t\treturn data;\n\n\t}\n\n}\n\nScene.prototype.isScene = true;\n\nclass InterleavedBuffer {\n\n\tconstructor( array, stride ) {\n\n\t\tthis.array = array;\n\t\tthis.stride = stride;\n\t\tthis.count = array !== undefined ? array.length / stride : 0;\n\n\t\tthis.usage = StaticDrawUsage;\n\t\tthis.updateRange = { offset: 0, count: - 1 };\n\n\t\tthis.version = 0;\n\n\t\tthis.uuid = generateUUID();\n\n\t}\n\n\tonUploadCallback() {}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\tsetUsage( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.count = source.count;\n\t\tthis.stride = source.stride;\n\t\tthis.usage = source.usage;\n\n\t\treturn this;\n\n\t}\n\n\tcopyAt( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.stride;\n\t\tindex2 *= attribute.stride;\n\n\t\tfor ( let i = 0, l = this.stride; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tset( value, offset = 0 ) {\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t}\n\n\tclone( data ) {\n\n\t\tif ( data.arrayBuffers === undefined ) {\n\n\t\t\tdata.arrayBuffers = {};\n\n\t\t}\n\n\t\tif ( this.array.buffer._uuid === undefined ) {\n\n\t\t\tthis.array.buffer._uuid = generateUUID();\n\n\t\t}\n\n\t\tif ( data.arrayBuffers[ this.array.buffer._uuid ] === undefined ) {\n\n\t\t\tdata.arrayBuffers[ this.array.buffer._uuid ] = this.array.slice( 0 ).buffer;\n\n\t\t}\n\n\t\tconst array = new this.array.constructor( data.arrayBuffers[ this.array.buffer._uuid ] );\n\n\t\tconst ib = new this.constructor( array, this.stride );\n\t\tib.setUsage( this.usage );\n\n\t\treturn ib;\n\n\t}\n\n\tonUpload( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( data ) {\n\n\t\tif ( data.arrayBuffers === undefined ) {\n\n\t\t\tdata.arrayBuffers = {};\n\n\t\t}\n\n\t\t// generate UUID for array buffer if necessary\n\n\t\tif ( this.array.buffer._uuid === undefined ) {\n\n\t\t\tthis.array.buffer._uuid = generateUUID();\n\n\t\t}\n\n\t\tif ( data.arrayBuffers[ this.array.buffer._uuid ] === undefined ) {\n\n\t\t\tdata.arrayBuffers[ this.array.buffer._uuid ] = Array.prototype.slice.call( new Uint32Array( this.array.buffer ) );\n\n\t\t}\n\n\t\t//\n\n\t\treturn {\n\t\t\tuuid: this.uuid,\n\t\t\tbuffer: this.array.buffer._uuid,\n\t\t\ttype: this.array.constructor.name,\n\t\t\tstride: this.stride\n\t\t};\n\n\t}\n\n}\n\nInterleavedBuffer.prototype.isInterleavedBuffer = true;\n\nconst _vector$6 = /*@__PURE__*/ new Vector3();\n\nclass InterleavedBufferAttribute {\n\n\tconstructor( interleavedBuffer, itemSize, offset, normalized = false ) {\n\n\t\tthis.name = '';\n\n\t\tthis.data = interleavedBuffer;\n\t\tthis.itemSize = itemSize;\n\t\tthis.offset = offset;\n\n\t\tthis.normalized = normalized === true;\n\n\t}\n\n\tget count() {\n\n\t\treturn this.data.count;\n\n\t}\n\n\tget array() {\n\n\t\treturn this.data.array;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tthis.data.needsUpdate = value;\n\n\t}\n\n\tapplyMatrix4( m ) {\n\n\t\tfor ( let i = 0, l = this.data.count; i < l; i ++ ) {\n\n\t\t\t_vector$6.x = this.getX( i );\n\t\t\t_vector$6.y = this.getY( i );\n\t\t\t_vector$6.z = this.getZ( i );\n\n\t\t\t_vector$6.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tapplyNormalMatrix( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$6.x = this.getX( i );\n\t\t\t_vector$6.y = this.getY( i );\n\t\t\t_vector$6.z = this.getZ( i );\n\n\t\t\t_vector$6.applyNormalMatrix( m );\n\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttransformDirection( m ) {\n\n\t\tfor ( let i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$6.x = this.getX( i );\n\t\t\t_vector$6.y = this.getY( i );\n\t\t\t_vector$6.z = this.getZ( i );\n\n\t\t\t_vector$6.transformDirection( m );\n\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetX( index, x ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset ] = x;\n\n\t\treturn this;\n\n\t}\n\n\tsetY( index, y ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetZ( index, z ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetW( index, w ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tgetX( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset ];\n\n\t}\n\n\tgetY( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 1 ];\n\n\t}\n\n\tgetZ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 2 ];\n\n\t}\n\n\tgetW( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 3 ];\n\n\t}\n\n\tsetXY( index, x, y ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZ( index, x, y, z ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t}\n\n\tsetXYZW( index, x, y, z, w ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\t\tthis.data.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n\tclone( data ) {\n\n\t\tif ( data === undefined ) {\n\n\t\t\tconsole.log( 'THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.' );\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0; i < this.count; i ++ ) {\n\n\t\t\t\tconst index = i * this.data.stride + this.offset;\n\n\t\t\t\tfor ( let j = 0; j < this.itemSize; j ++ ) {\n\n\t\t\t\t\tarray.push( this.data.array[ index + j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( new this.array.constructor( array ), this.itemSize, this.normalized );\n\n\t\t} else {\n\n\t\t\tif ( data.interleavedBuffers === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers = {};\n\n\t\t\t}\n\n\t\t\tif ( data.interleavedBuffers[ this.data.uuid ] === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers[ this.data.uuid ] = this.data.clone( data );\n\n\t\t\t}\n\n\t\t\treturn new InterleavedBufferAttribute( data.interleavedBuffers[ this.data.uuid ], this.itemSize, this.offset, this.normalized );\n\n\t\t}\n\n\t}\n\n\ttoJSON( data ) {\n\n\t\tif ( data === undefined ) {\n\n\t\t\tconsole.log( 'THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.' );\n\n\t\t\tconst array = [];\n\n\t\t\tfor ( let i = 0; i < this.count; i ++ ) {\n\n\t\t\t\tconst index = i * this.data.stride + this.offset;\n\n\t\t\t\tfor ( let j = 0; j < this.itemSize; j ++ ) {\n\n\t\t\t\t\tarray.push( this.data.array[ index + j ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// deinterleave data and save it as an ordinary buffer attribute for now\n\n\t\t\treturn {\n\t\t\t\titemSize: this.itemSize,\n\t\t\t\ttype: this.array.constructor.name,\n\t\t\t\tarray: array,\n\t\t\t\tnormalized: this.normalized\n\t\t\t};\n\n\t\t} else {\n\n\t\t\t// save as true interlaved attribtue\n\n\t\t\tif ( data.interleavedBuffers === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers = {};\n\n\t\t\t}\n\n\t\t\tif ( data.interleavedBuffers[ this.data.uuid ] === undefined ) {\n\n\t\t\t\tdata.interleavedBuffers[ this.data.uuid ] = this.data.toJSON( data );\n\n\t\t\t}\n\n\t\t\treturn {\n\t\t\t\tisInterleavedBufferAttribute: true,\n\t\t\t\titemSize: this.itemSize,\n\t\t\t\tdata: this.data.uuid,\n\t\t\t\toffset: this.offset,\n\t\t\t\tnormalized: this.normalized\n\t\t\t};\n\n\t\t}\n\n\t}\n\n}\n\nInterleavedBufferAttribute.prototype.isInterleavedBufferAttribute = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  map: new THREE.Texture( <Image> ),\n *  alphaMap: new THREE.Texture( <Image> ),\n *  rotation: <float>,\n *  sizeAttenuation: <bool>\n * }\n */\n\nclass SpriteMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'SpriteMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.rotation = 0;\n\n\t\tthis.sizeAttenuation = true;\n\n\t\tthis.transparent = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.rotation = source.rotation;\n\n\t\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\t\treturn this;\n\n\t}\n\n}\n\nSpriteMaterial.prototype.isSpriteMaterial = true;\n\nlet _geometry;\n\nconst _intersectPoint = /*@__PURE__*/ new Vector3();\nconst _worldScale = /*@__PURE__*/ new Vector3();\nconst _mvPosition = /*@__PURE__*/ new Vector3();\n\nconst _alignedPosition = /*@__PURE__*/ new Vector2();\nconst _rotatedPosition = /*@__PURE__*/ new Vector2();\nconst _viewWorldMatrix = /*@__PURE__*/ new Matrix4();\n\nconst _vA = /*@__PURE__*/ new Vector3();\nconst _vB = /*@__PURE__*/ new Vector3();\nconst _vC = /*@__PURE__*/ new Vector3();\n\nconst _uvA = /*@__PURE__*/ new Vector2();\nconst _uvB = /*@__PURE__*/ new Vector2();\nconst _uvC = /*@__PURE__*/ new Vector2();\n\nclass Sprite extends Object3D {\n\n\tconstructor( material ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Sprite';\n\n\t\tif ( _geometry === undefined ) {\n\n\t\t\t_geometry = new BufferGeometry();\n\n\t\t\tconst float32Array = new Float32Array( [\n\t\t\t\t- 0.5, - 0.5, 0, 0, 0,\n\t\t\t\t0.5, - 0.5, 0, 1, 0,\n\t\t\t\t0.5, 0.5, 0, 1, 1,\n\t\t\t\t- 0.5, 0.5, 0, 0, 1\n\t\t\t] );\n\n\t\t\tconst interleavedBuffer = new InterleavedBuffer( float32Array, 5 );\n\n\t\t\t_geometry.setIndex( [ 0, 1, 2,\t0, 2, 3 ] );\n\t\t\t_geometry.setAttribute( 'position', new InterleavedBufferAttribute( interleavedBuffer, 3, 0, false ) );\n\t\t\t_geometry.setAttribute( 'uv', new InterleavedBufferAttribute( interleavedBuffer, 2, 3, false ) );\n\n\t\t}\n\n\t\tthis.geometry = _geometry;\n\t\tthis.material = ( material !== undefined ) ? material : new SpriteMaterial();\n\n\t\tthis.center = new Vector2( 0.5, 0.5 );\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tif ( raycaster.camera === null ) {\n\n\t\t\tconsole.error( 'THREE.Sprite: \"Raycaster.camera\" needs to be set in order to raycast against sprites.' );\n\n\t\t}\n\n\t\t_worldScale.setFromMatrixScale( this.matrixWorld );\n\n\t\t_viewWorldMatrix.copy( raycaster.camera.matrixWorld );\n\t\tthis.modelViewMatrix.multiplyMatrices( raycaster.camera.matrixWorldInverse, this.matrixWorld );\n\n\t\t_mvPosition.setFromMatrixPosition( this.modelViewMatrix );\n\n\t\tif ( raycaster.camera.isPerspectiveCamera && this.material.sizeAttenuation === false ) {\n\n\t\t\t_worldScale.multiplyScalar( - _mvPosition.z );\n\n\t\t}\n\n\t\tconst rotation = this.material.rotation;\n\t\tlet sin, cos;\n\n\t\tif ( rotation !== 0 ) {\n\n\t\t\tcos = Math.cos( rotation );\n\t\t\tsin = Math.sin( rotation );\n\n\t\t}\n\n\t\tconst center = this.center;\n\n\t\ttransformVertex( _vA.set( - 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\ttransformVertex( _vB.set( 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\ttransformVertex( _vC.set( 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\n\t\t_uvA.set( 0, 0 );\n\t\t_uvB.set( 1, 0 );\n\t\t_uvC.set( 1, 1 );\n\n\t\t// check first triangle\n\t\tlet intersect = raycaster.ray.intersectTriangle( _vA, _vB, _vC, false, _intersectPoint );\n\n\t\tif ( intersect === null ) {\n\n\t\t\t// check second triangle\n\t\t\ttransformVertex( _vB.set( - 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\t\t_uvB.set( 0, 1 );\n\n\t\t\tintersect = raycaster.ray.intersectTriangle( _vA, _vC, _vB, false, _intersectPoint );\n\t\t\tif ( intersect === null ) {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst distance = raycaster.ray.origin.distanceTo( _intersectPoint );\n\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\tintersects.push( {\n\n\t\t\tdistance: distance,\n\t\t\tpoint: _intersectPoint.clone(),\n\t\t\tuv: Triangle.getUV( _intersectPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2() ),\n\t\t\tface: null,\n\t\t\tobject: this\n\n\t\t} );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tif ( source.center !== undefined ) this.center.copy( source.center );\n\n\t\tthis.material = source.material;\n\n\t\treturn this;\n\n\t}\n\n}\n\nSprite.prototype.isSprite = true;\n\nfunction transformVertex( vertexPosition, mvPosition, center, scale, sin, cos ) {\n\n\t// compute position in camera space\n\t_alignedPosition.subVectors( vertexPosition, center ).addScalar( 0.5 ).multiply( scale );\n\n\t// to check if rotation is not zero\n\tif ( sin !== undefined ) {\n\n\t\t_rotatedPosition.x = ( cos * _alignedPosition.x ) - ( sin * _alignedPosition.y );\n\t\t_rotatedPosition.y = ( sin * _alignedPosition.x ) + ( cos * _alignedPosition.y );\n\n\t} else {\n\n\t\t_rotatedPosition.copy( _alignedPosition );\n\n\t}\n\n\n\tvertexPosition.copy( mvPosition );\n\tvertexPosition.x += _rotatedPosition.x;\n\tvertexPosition.y += _rotatedPosition.y;\n\n\t// transform to world space\n\tvertexPosition.applyMatrix4( _viewWorldMatrix );\n\n}\n\nconst _basePosition = /*@__PURE__*/ new Vector3();\n\nconst _skinIndex = /*@__PURE__*/ new Vector4();\nconst _skinWeight = /*@__PURE__*/ new Vector4();\n\nconst _vector$5 = /*@__PURE__*/ new Vector3();\nconst _matrix = /*@__PURE__*/ new Matrix4();\n\nclass SkinnedMesh extends Mesh {\n\n\tconstructor( geometry, material ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'SkinnedMesh';\n\n\t\tthis.bindMode = 'attached';\n\t\tthis.bindMatrix = new Matrix4();\n\t\tthis.bindMatrixInverse = new Matrix4();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.bindMode = source.bindMode;\n\t\tthis.bindMatrix.copy( source.bindMatrix );\n\t\tthis.bindMatrixInverse.copy( source.bindMatrixInverse );\n\n\t\tthis.skeleton = source.skeleton;\n\n\t\treturn this;\n\n\t}\n\n\tbind( skeleton, bindMatrix ) {\n\n\t\tthis.skeleton = skeleton;\n\n\t\tif ( bindMatrix === undefined ) {\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.skeleton.calculateInverses();\n\n\t\t\tbindMatrix = this.matrixWorld;\n\n\t\t}\n\n\t\tthis.bindMatrix.copy( bindMatrix );\n\t\tthis.bindMatrixInverse.copy( bindMatrix ).invert();\n\n\t}\n\n\tpose() {\n\n\t\tthis.skeleton.pose();\n\n\t}\n\n\tnormalizeSkinWeights() {\n\n\t\tconst vector = new Vector4();\n\n\t\tconst skinWeight = this.geometry.attributes.skinWeight;\n\n\t\tfor ( let i = 0, l = skinWeight.count; i < l; i ++ ) {\n\n\t\t\tvector.x = skinWeight.getX( i );\n\t\t\tvector.y = skinWeight.getY( i );\n\t\t\tvector.z = skinWeight.getZ( i );\n\t\t\tvector.w = skinWeight.getW( i );\n\n\t\t\tconst scale = 1.0 / vector.manhattanLength();\n\n\t\t\tif ( scale !== Infinity ) {\n\n\t\t\t\tvector.multiplyScalar( scale );\n\n\t\t\t} else {\n\n\t\t\t\tvector.set( 1, 0, 0, 0 ); // do something reasonable\n\n\t\t\t}\n\n\t\t\tskinWeight.setXYZW( i, vector.x, vector.y, vector.z, vector.w );\n\n\t\t}\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t\tif ( this.bindMode === 'attached' ) {\n\n\t\t\tthis.bindMatrixInverse.copy( this.matrixWorld ).invert();\n\n\t\t} else if ( this.bindMode === 'detached' ) {\n\n\t\t\tthis.bindMatrixInverse.copy( this.bindMatrix ).invert();\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode );\n\n\t\t}\n\n\t}\n\n\tboneTransform( index, target ) {\n\n\t\tconst skeleton = this.skeleton;\n\t\tconst geometry = this.geometry;\n\n\t\t_skinIndex.fromBufferAttribute( geometry.attributes.skinIndex, index );\n\t\t_skinWeight.fromBufferAttribute( geometry.attributes.skinWeight, index );\n\n\t\t_basePosition.fromBufferAttribute( geometry.attributes.position, index ).applyMatrix4( this.bindMatrix );\n\n\t\ttarget.set( 0, 0, 0 );\n\n\t\tfor ( let i = 0; i < 4; i ++ ) {\n\n\t\t\tconst weight = _skinWeight.getComponent( i );\n\n\t\t\tif ( weight !== 0 ) {\n\n\t\t\t\tconst boneIndex = _skinIndex.getComponent( i );\n\n\t\t\t\t_matrix.multiplyMatrices( skeleton.bones[ boneIndex ].matrixWorld, skeleton.boneInverses[ boneIndex ] );\n\n\t\t\t\ttarget.addScaledVector( _vector$5.copy( _basePosition ).applyMatrix4( _matrix ), weight );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn target.applyMatrix4( this.bindMatrixInverse );\n\n\t}\n\n}\n\nSkinnedMesh.prototype.isSkinnedMesh = true;\n\nclass Bone extends Object3D {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'Bone';\n\n\t}\n\n}\n\nBone.prototype.isBone = true;\n\nclass DataTexture extends Texture {\n\n\tconstructor( data = null, width = 1, height = 1, format, type, mapping, wrapS, wrapT, magFilter = NearestFilter, minFilter = NearestFilter, anisotropy, encoding ) {\n\n\t\tsuper( null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\t\tthis.image = { data: data, width: width, height: height };\n\n\t\tthis.magFilter = magFilter;\n\t\tthis.minFilter = minFilter;\n\n\t\tthis.generateMipmaps = false;\n\t\tthis.flipY = false;\n\t\tthis.unpackAlignment = 1;\n\n\t\tthis.needsUpdate = true;\n\n\t}\n\n}\n\nDataTexture.prototype.isDataTexture = true;\n\nconst _offsetMatrix = /*@__PURE__*/ new Matrix4();\nconst _identityMatrix = /*@__PURE__*/ new Matrix4();\n\nclass InstancedBufferAttribute extends BufferAttribute {\n\n\tconstructor( array, itemSize, normalized, meshPerAttribute = 1 ) {\n\n\t\tif ( typeof normalized === 'number' ) {\n\n\t\t\tmeshPerAttribute = normalized;\n\n\t\t\tnormalized = false;\n\n\t\t\tconsole.error( 'THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.' );\n\n\t\t}\n\n\t\tsuper( array, itemSize, normalized );\n\n\t\tthis.meshPerAttribute = meshPerAttribute;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.meshPerAttribute = this.meshPerAttribute;\n\n\t\tdata.isInstancedBufferAttribute = true;\n\n\t\treturn data;\n\n\t}\n\n}\n\nInstancedBufferAttribute.prototype.isInstancedBufferAttribute = true;\n\nconst _instanceLocalMatrix = /*@__PURE__*/ new Matrix4();\nconst _instanceWorldMatrix = /*@__PURE__*/ new Matrix4();\n\nconst _instanceIntersects = [];\n\nconst _mesh = /*@__PURE__*/ new Mesh();\n\nclass InstancedMesh extends Mesh {\n\n\tconstructor( geometry, material, count ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.instanceMatrix = new InstancedBufferAttribute( new Float32Array( count * 16 ), 16 );\n\t\tthis.instanceColor = null;\n\n\t\tthis.count = count;\n\n\t\tthis.frustumCulled = false;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.instanceMatrix.copy( source.instanceMatrix );\n\n\t\tif ( source.instanceColor !== null ) this.instanceColor = source.instanceColor.clone();\n\n\t\tthis.count = source.count;\n\n\t\treturn this;\n\n\t}\n\n\tgetColorAt( index, color ) {\n\n\t\tcolor.fromArray( this.instanceColor.array, index * 3 );\n\n\t}\n\n\tgetMatrixAt( index, matrix ) {\n\n\t\tmatrix.fromArray( this.instanceMatrix.array, index * 16 );\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst raycastTimes = this.count;\n\n\t\t_mesh.geometry = this.geometry;\n\t\t_mesh.material = this.material;\n\n\t\tif ( _mesh.material === undefined ) return;\n\n\t\tfor ( let instanceId = 0; instanceId < raycastTimes; instanceId ++ ) {\n\n\t\t\t// calculate the world matrix for each instance\n\n\t\t\tthis.getMatrixAt( instanceId, _instanceLocalMatrix );\n\n\t\t\t_instanceWorldMatrix.multiplyMatrices( matrixWorld, _instanceLocalMatrix );\n\n\t\t\t// the mesh represents this single instance\n\n\t\t\t_mesh.matrixWorld = _instanceWorldMatrix;\n\n\t\t\t_mesh.raycast( raycaster, _instanceIntersects );\n\n\t\t\t// process the result of raycast\n\n\t\t\tfor ( let i = 0, l = _instanceIntersects.length; i < l; i ++ ) {\n\n\t\t\t\tconst intersect = _instanceIntersects[ i ];\n\t\t\t\tintersect.instanceId = instanceId;\n\t\t\t\tintersect.object = this;\n\t\t\t\tintersects.push( intersect );\n\n\t\t\t}\n\n\t\t\t_instanceIntersects.length = 0;\n\n\t\t}\n\n\t}\n\n\tsetColorAt( index, color ) {\n\n\t\tif ( this.instanceColor === null ) {\n\n\t\t\tthis.instanceColor = new InstancedBufferAttribute( new Float32Array( this.instanceMatrix.count * 3 ), 3 );\n\n\t\t}\n\n\t\tcolor.toArray( this.instanceColor.array, index * 3 );\n\n\t}\n\n\tsetMatrixAt( index, matrix ) {\n\n\t\tmatrix.toArray( this.instanceMatrix.array, index * 16 );\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t}\n\n\tdispose() {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n}\n\nInstancedMesh.prototype.isInstancedMesh = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *  linecap: \"round\",\n *  linejoin: \"round\"\n * }\n */\n\nclass LineBasicMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'LineBasicMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.linewidth = 1;\n\t\tthis.linecap = 'round';\n\t\tthis.linejoin = 'round';\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.linewidth = source.linewidth;\n\t\tthis.linecap = source.linecap;\n\t\tthis.linejoin = source.linejoin;\n\n\t\treturn this;\n\n\t}\n\n}\n\nLineBasicMaterial.prototype.isLineBasicMaterial = true;\n\nconst _start$1 = /*@__PURE__*/ new Vector3();\nconst _end$1 = /*@__PURE__*/ new Vector3();\nconst _inverseMatrix$1 = /*@__PURE__*/ new Matrix4();\nconst _ray$1 = /*@__PURE__*/ new Ray();\nconst _sphere$1 = /*@__PURE__*/ new Sphere();\n\nclass Line extends Object3D {\n\n\tconstructor( geometry = new BufferGeometry(), material = new LineBasicMaterial() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Line';\n\n\t\tthis.geometry = geometry;\n\t\tthis.material = material;\n\n\t\tthis.updateMorphTargets();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t}\n\n\tcomputeLineDistances() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t// we assume non-indexed geometry\n\n\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\tconst positionAttribute = geometry.attributes.position;\n\t\t\t\tconst lineDistances = [ 0 ];\n\n\t\t\t\tfor ( let i = 1, l = positionAttribute.count; i < l; i ++ ) {\n\n\t\t\t\t\t_start$1.fromBufferAttribute( positionAttribute, i - 1 );\n\t\t\t\t\t_end$1.fromBufferAttribute( positionAttribute, i );\n\n\t\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i ] += _start$1.distanceTo( _end$1 );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconsole.error( 'THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst threshold = raycaster.params.Line.threshold;\n\t\tconst drawRange = geometry.drawRange;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$1.copy( geometry.boundingSphere );\n\t\t_sphere$1.applyMatrix4( matrixWorld );\n\t\t_sphere$1.radius += threshold;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$1 ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix$1.copy( matrixWorld ).invert();\n\t\t_ray$1.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$1 );\n\n\t\tconst localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\tconst localThresholdSq = localThreshold * localThreshold;\n\n\t\tconst vStart = new Vector3();\n\t\tconst vEnd = new Vector3();\n\t\tconst interSegment = new Vector3();\n\t\tconst interRay = new Vector3();\n\t\tconst step = this.isLineSegments ? 2 : 1;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst index = geometry.index;\n\t\t\tconst attributes = geometry.attributes;\n\t\t\tconst positionAttribute = attributes.position;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( let i = start, l = end - 1; i < l; i += step ) {\n\n\t\t\t\t\tconst a = index.getX( i );\n\t\t\t\t\tconst b = index.getX( i + 1 );\n\n\t\t\t\t\tvStart.fromBufferAttribute( positionAttribute, a );\n\t\t\t\t\tvEnd.fromBufferAttribute( positionAttribute, b );\n\n\t\t\t\t\tconst distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\tif ( distSq > localThresholdSq ) continue;\n\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\tconst distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\tconst end = Math.min( positionAttribute.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( let i = start, l = end - 1; i < l; i += step ) {\n\n\t\t\t\t\tvStart.fromBufferAttribute( positionAttribute, i );\n\t\t\t\t\tvEnd.fromBufferAttribute( positionAttribute, i + 1 );\n\n\t\t\t\t\tconst distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\tif ( distSq > localThresholdSq ) continue;\n\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\tconst distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconsole.error( 'THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\t\t\tconst keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nLine.prototype.isLine = true;\n\nconst _start = /*@__PURE__*/ new Vector3();\nconst _end = /*@__PURE__*/ new Vector3();\n\nclass LineSegments extends Line {\n\n\tconstructor( geometry, material ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'LineSegments';\n\n\t}\n\n\tcomputeLineDistances() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t// we assume non-indexed geometry\n\n\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\tconst positionAttribute = geometry.attributes.position;\n\t\t\t\tconst lineDistances = [];\n\n\t\t\t\tfor ( let i = 0, l = positionAttribute.count; i < l; i += 2 ) {\n\n\t\t\t\t\t_start.fromBufferAttribute( positionAttribute, i );\n\t\t\t\t\t_end.fromBufferAttribute( positionAttribute, i + 1 );\n\n\t\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + _start.distanceTo( _end );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tconsole.error( 'THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nLineSegments.prototype.isLineSegments = true;\n\nclass LineLoop extends Line {\n\n\tconstructor( geometry, material ) {\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'LineLoop';\n\n\t}\n\n}\n\nLineLoop.prototype.isLineLoop = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  size: <float>,\n *  sizeAttenuation: <bool>\n *\n * }\n */\n\nclass PointsMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'PointsMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.map = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.size = 1;\n\t\tthis.sizeAttenuation = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.size = source.size;\n\t\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\t\treturn this;\n\n\t}\n\n}\n\nPointsMaterial.prototype.isPointsMaterial = true;\n\nconst _inverseMatrix = /*@__PURE__*/ new Matrix4();\nconst _ray = /*@__PURE__*/ new Ray();\nconst _sphere = /*@__PURE__*/ new Sphere();\nconst _position$2 = /*@__PURE__*/ new Vector3();\n\nclass Points extends Object3D {\n\n\tconstructor( geometry = new BufferGeometry(), material = new PointsMaterial() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Points';\n\n\t\tthis.geometry = geometry;\n\t\tthis.material = material;\n\n\t\tthis.updateMorphTargets();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.material = source.material;\n\t\tthis.geometry = source.geometry;\n\n\t\treturn this;\n\n\t}\n\n\traycast( raycaster, intersects ) {\n\n\t\tconst geometry = this.geometry;\n\t\tconst matrixWorld = this.matrixWorld;\n\t\tconst threshold = raycaster.params.Points.threshold;\n\t\tconst drawRange = geometry.drawRange;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere.copy( geometry.boundingSphere );\n\t\t_sphere.applyMatrix4( matrixWorld );\n\t\t_sphere.radius += threshold;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix.copy( matrixWorld ).invert();\n\t\t_ray.copy( raycaster.ray ).applyMatrix4( _inverseMatrix );\n\n\t\tconst localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\tconst localThresholdSq = localThreshold * localThreshold;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst index = geometry.index;\n\t\t\tconst attributes = geometry.attributes;\n\t\t\tconst positionAttribute = attributes.position;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\tconst end = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( let i = start, il = end; i < il; i ++ ) {\n\n\t\t\t\t\tconst a = index.getX( i );\n\n\t\t\t\t\t_position$2.fromBufferAttribute( positionAttribute, a );\n\n\t\t\t\t\ttestPoint( _position$2, a, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tconst start = Math.max( 0, drawRange.start );\n\t\t\t\tconst end = Math.min( positionAttribute.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\tfor ( let i = start, l = end; i < l; i ++ ) {\n\n\t\t\t\t\t_position$2.fromBufferAttribute( positionAttribute, i );\n\n\t\t\t\t\ttestPoint( _position$2, i, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t}\n\n\tupdateMorphTargets() {\n\n\t\tconst geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tconst morphAttributes = geometry.morphAttributes;\n\t\t\tconst keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tconst morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( let m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tconst name = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconst morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nPoints.prototype.isPoints = true;\n\nfunction testPoint( point, index, localThresholdSq, matrixWorld, raycaster, intersects, object ) {\n\n\tconst rayPointDistanceSq = _ray.distanceSqToPoint( point );\n\n\tif ( rayPointDistanceSq < localThresholdSq ) {\n\n\t\tconst intersectPoint = new Vector3();\n\n\t\t_ray.closestPointToPoint( point, intersectPoint );\n\t\tintersectPoint.applyMatrix4( matrixWorld );\n\n\t\tconst distance = raycaster.ray.origin.distanceTo( intersectPoint );\n\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\tintersects.push( {\n\n\t\t\tdistance: distance,\n\t\t\tdistanceToRay: Math.sqrt( rayPointDistanceSq ),\n\t\t\tpoint: intersectPoint,\n\t\t\tindex: index,\n\t\t\tface: null,\n\t\t\tobject: object\n\n\t\t} );\n\n\t}\n\n}\n\nclass VideoTexture extends Texture {\n\n\tconstructor( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\t\tsuper( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\t\tthis.format = format !== undefined ? format : RGBFormat$1;\n\n\t\tthis.minFilter = minFilter !== undefined ? minFilter : LinearFilter;\n\t\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\n\t\tthis.generateMipmaps = false;\n\n\t\tconst scope = this;\n\n\t\tfunction updateVideo() {\n\n\t\t\tscope.needsUpdate = true;\n\t\t\tvideo.requestVideoFrameCallback( updateVideo );\n\n\t\t}\n\n\t\tif ( 'requestVideoFrameCallback' in video ) {\n\n\t\t\tvideo.requestVideoFrameCallback( updateVideo );\n\n\t\t}\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor( this.image ).copy( this );\n\n\t}\n\n\tupdate() {\n\n\t\tconst video = this.image;\n\t\tconst hasVideoFrameCallback = 'requestVideoFrameCallback' in video;\n\n\t\tif ( hasVideoFrameCallback === false && video.readyState >= video.HAVE_CURRENT_DATA ) {\n\n\t\t\tthis.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n}\n\nVideoTexture.prototype.isVideoTexture = true;\n\nclass CompressedTexture extends Texture {\n\n\tconstructor( mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\t\tsuper( null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\t\tthis.image = { width: width, height: height };\n\t\tthis.mipmaps = mipmaps;\n\n\t\t// no flipping for cube textures\n\t\t// (also flipping doesn't work for compressed textures )\n\n\t\tthis.flipY = false;\n\n\t\t// can't generate mipmaps for compressed textures\n\t\t// mips must be embedded in DDS files\n\n\t\tthis.generateMipmaps = false;\n\n\t}\n\n}\n\nCompressedTexture.prototype.isCompressedTexture = true;\n\nclass CanvasTexture extends Texture {\n\n\tconstructor( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\t\tsuper( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\t\tthis.needsUpdate = true;\n\n\t}\n\n}\n\nCanvasTexture.prototype.isCanvasTexture = true;\n\nclass DepthTexture extends Texture {\n\n\tconstructor( width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format ) {\n\n\t\tformat = format !== undefined ? format : DepthFormat;\n\n\t\tif ( format !== DepthFormat && format !== DepthStencilFormat ) {\n\n\t\t\tthrow new Error( 'DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat' );\n\n\t\t}\n\n\t\tif ( type === undefined && format === DepthFormat ) type = UnsignedShortType;\n\t\tif ( type === undefined && format === DepthStencilFormat ) type = UnsignedInt248Type;\n\n\t\tsuper( null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\t\tthis.image = { width: width, height: height };\n\n\t\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\t\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\t\tthis.flipY = false;\n\t\tthis.generateMipmaps\t= false;\n\n\t}\n\n\n}\n\nDepthTexture.prototype.isDepthTexture = true;\n\nclass CircleGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, segments = 8, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CircleGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tsegments: segments,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tsegments = Math.max( 3, segments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst vertex = new Vector3();\n\t\tconst uv = new Vector2();\n\n\t\t// center point\n\n\t\tvertices.push( 0, 0, 0 );\n\t\tnormals.push( 0, 0, 1 );\n\t\tuvs.push( 0.5, 0.5 );\n\n\t\tfor ( let s = 0, i = 3; s <= segments; s ++, i += 3 ) {\n\n\t\t\tconst segment = thetaStart + s / segments * thetaLength;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t// uvs\n\n\t\t\tuv.x = ( vertices[ i ] / radius + 1 ) / 2;\n\t\t\tuv.y = ( vertices[ i + 1 ] / radius + 1 ) / 2;\n\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\tindices.push( i, i + 1, 0 );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new CircleGeometry( data.radius, data.segments, data.thetaStart, data.thetaLength );\n\n\t}\n\n}\n\nclass CylinderGeometry extends BufferGeometry {\n\n\tconstructor( radiusTop = 1, radiusBottom = 1, height = 1, radialSegments = 8, heightSegments = 1, openEnded = false, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\t\tthis.type = 'CylinderGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradiusTop: radiusTop,\n\t\t\tradiusBottom: radiusBottom,\n\t\t\theight: height,\n\t\t\tradialSegments: radialSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\topenEnded: openEnded,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tconst scope = this;\n\n\t\tradialSegments = Math.floor( radialSegments );\n\t\theightSegments = Math.floor( heightSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet index = 0;\n\t\tconst indexArray = [];\n\t\tconst halfHeight = height / 2;\n\t\tlet groupStart = 0;\n\n\t\t// generate geometry\n\n\t\tgenerateTorso();\n\n\t\tif ( openEnded === false ) {\n\n\t\t\tif ( radiusTop > 0 ) generateCap( true );\n\t\t\tif ( radiusBottom > 0 ) generateCap( false );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\tfunction generateTorso() {\n\n\t\t\tconst normal = new Vector3();\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tlet groupCount = 0;\n\n\t\t\t// this will be used to calculate the normal\n\t\t\tconst slope = ( radiusBottom - radiusTop ) / height;\n\n\t\t\t// generate vertices, normals and uvs\n\n\t\t\tfor ( let y = 0; y <= heightSegments; y ++ ) {\n\n\t\t\t\tconst indexRow = [];\n\n\t\t\t\tconst v = y / heightSegments;\n\n\t\t\t\t// calculate the radius of the current row\n\n\t\t\t\tconst radius = v * ( radiusBottom - radiusTop ) + radiusTop;\n\n\t\t\t\tfor ( let x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\t\t\tconst u = x / radialSegments;\n\n\t\t\t\t\tconst theta = u * thetaLength + thetaStart;\n\n\t\t\t\t\tconst sinTheta = Math.sin( theta );\n\t\t\t\t\tconst cosTheta = Math.cos( theta );\n\n\t\t\t\t\t// vertex\n\n\t\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\t\tvertex.y = - v * height + halfHeight;\n\t\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t\t// normal\n\n\t\t\t\t\tnormal.set( sinTheta, slope, cosTheta ).normalize();\n\t\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t\t// uv\n\n\t\t\t\t\tuvs.push( u, 1 - v );\n\n\t\t\t\t\t// save index of vertex in respective row\n\n\t\t\t\t\tindexRow.push( index ++ );\n\n\t\t\t\t}\n\n\t\t\t\t// now save vertices of the row in our index array\n\n\t\t\t\tindexArray.push( indexRow );\n\n\t\t\t}\n\n\t\t\t// generate indices\n\n\t\t\tfor ( let x = 0; x < radialSegments; x ++ ) {\n\n\t\t\t\tfor ( let y = 0; y < heightSegments; y ++ ) {\n\n\t\t\t\t\t// we use the index array to access the correct indices\n\n\t\t\t\t\tconst a = indexArray[ y ][ x ];\n\t\t\t\t\tconst b = indexArray[ y + 1 ][ x ];\n\t\t\t\t\tconst c = indexArray[ y + 1 ][ x + 1 ];\n\t\t\t\t\tconst d = indexArray[ y ][ x + 1 ];\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t\t// update group counter\n\n\t\t\t\t\tgroupCount += 6;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, 0 );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t}\n\n\t\tfunction generateCap( top ) {\n\n\t\t\t// save the index of the first center vertex\n\t\t\tconst centerIndexStart = index;\n\n\t\t\tconst uv = new Vector2();\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tlet groupCount = 0;\n\n\t\t\tconst radius = ( top === true ) ? radiusTop : radiusBottom;\n\t\t\tconst sign = ( top === true ) ? 1 : - 1;\n\n\t\t\t// first we generate the center vertex data of the cap.\n\t\t\t// because the geometry needs one set of uvs per face,\n\t\t\t// we must generate a center vertex per face/segment\n\n\t\t\tfor ( let x = 1; x <= radialSegments; x ++ ) {\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertices.push( 0, halfHeight * sign, 0 );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( 0.5, 0.5 );\n\n\t\t\t\t// increase index\n\n\t\t\t\tindex ++;\n\n\t\t\t}\n\n\t\t\t// save the index of the last center vertex\n\t\t\tconst centerIndexEnd = index;\n\n\t\t\t// now we generate the surrounding vertices, normals and uvs\n\n\t\t\tfor ( let x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\t\tconst u = x / radialSegments;\n\t\t\t\tconst theta = u * thetaLength + thetaStart;\n\n\t\t\t\tconst cosTheta = Math.cos( theta );\n\t\t\t\tconst sinTheta = Math.sin( theta );\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\tvertex.y = halfHeight * sign;\n\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t\t// uv\n\n\t\t\t\tuv.x = ( cosTheta * 0.5 ) + 0.5;\n\t\t\t\tuv.y = ( sinTheta * 0.5 * sign ) + 0.5;\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t\t// increase index\n\n\t\t\t\tindex ++;\n\n\t\t\t}\n\n\t\t\t// generate indices\n\n\t\t\tfor ( let x = 0; x < radialSegments; x ++ ) {\n\n\t\t\t\tconst c = centerIndexStart + x;\n\t\t\t\tconst i = centerIndexEnd + x;\n\n\t\t\t\tif ( top === true ) {\n\n\t\t\t\t\t// face top\n\n\t\t\t\t\tindices.push( i, i + 1, c );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// face bottom\n\n\t\t\t\t\tindices.push( i + 1, i, c );\n\n\t\t\t\t}\n\n\t\t\t\tgroupCount += 3;\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, top === true ? 1 : 2 );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t}\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new CylinderGeometry( data.radiusTop, data.radiusBottom, data.height, data.radialSegments, data.heightSegments, data.openEnded, data.thetaStart, data.thetaLength );\n\n\t}\n\n}\n\nclass ConeGeometry extends CylinderGeometry {\n\n\tconstructor( radius = 1, height = 1, radialSegments = 8, heightSegments = 1, openEnded = false, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper( 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\t\tthis.type = 'ConeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\theight: height,\n\t\t\tradialSegments: radialSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\topenEnded: openEnded,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new ConeGeometry( data.radius, data.height, data.radialSegments, data.heightSegments, data.openEnded, data.thetaStart, data.thetaLength );\n\n\t}\n\n}\n\nclass PolyhedronGeometry extends BufferGeometry {\n\n\tconstructor( vertices, indices, radius = 1, detail = 0 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'PolyhedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tvertices: vertices,\n\t\t\tindices: indices,\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t\t// default buffer data\n\n\t\tconst vertexBuffer = [];\n\t\tconst uvBuffer = [];\n\n\t\t// the subdivision creates the vertex buffer data\n\n\t\tsubdivide( detail );\n\n\t\t// all vertices should lie on a conceptual sphere with a given radius\n\n\t\tapplyRadius( radius );\n\n\t\t// finally, create the uv data\n\n\t\tgenerateUVs();\n\n\t\t// build non-indexed geometry\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertexBuffer, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( vertexBuffer.slice(), 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvBuffer, 2 ) );\n\n\t\tif ( detail === 0 ) {\n\n\t\t\tthis.computeVertexNormals(); // flat normals\n\n\t\t} else {\n\n\t\t\tthis.normalizeNormals(); // smooth normals\n\n\t\t}\n\n\t\t// helper functions\n\n\t\tfunction subdivide( detail ) {\n\n\t\t\tconst a = new Vector3();\n\t\t\tconst b = new Vector3();\n\t\t\tconst c = new Vector3();\n\n\t\t\t// iterate over all faces and apply a subdivison with the given detail value\n\n\t\t\tfor ( let i = 0; i < indices.length; i += 3 ) {\n\n\t\t\t\t// get the vertices of the face\n\n\t\t\t\tgetVertexByIndex( indices[ i + 0 ], a );\n\t\t\t\tgetVertexByIndex( indices[ i + 1 ], b );\n\t\t\t\tgetVertexByIndex( indices[ i + 2 ], c );\n\n\t\t\t\t// perform subdivision\n\n\t\t\t\tsubdivideFace( a, b, c, detail );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction subdivideFace( a, b, c, detail ) {\n\n\t\t\tconst cols = detail + 1;\n\n\t\t\t// we use this multidimensional array as a data structure for creating the subdivision\n\n\t\t\tconst v = [];\n\n\t\t\t// construct all of the vertices for this subdivision\n\n\t\t\tfor ( let i = 0; i <= cols; i ++ ) {\n\n\t\t\t\tv[ i ] = [];\n\n\t\t\t\tconst aj = a.clone().lerp( c, i / cols );\n\t\t\t\tconst bj = b.clone().lerp( c, i / cols );\n\n\t\t\t\tconst rows = cols - i;\n\n\t\t\t\tfor ( let j = 0; j <= rows; j ++ ) {\n\n\t\t\t\t\tif ( j === 0 && i === cols ) {\n\n\t\t\t\t\t\tv[ i ][ j ] = aj;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tv[ i ][ j ] = aj.clone().lerp( bj, j / rows );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// construct all of the faces\n\n\t\t\tfor ( let i = 0; i < cols; i ++ ) {\n\n\t\t\t\tfor ( let j = 0; j < 2 * ( cols - i ) - 1; j ++ ) {\n\n\t\t\t\t\tconst k = Math.floor( j / 2 );\n\n\t\t\t\t\tif ( j % 2 === 0 ) {\n\n\t\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\t\t\t\t\t\tpushVertex( v[ i ][ k ] );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k + 1 ] );\n\t\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction applyRadius( radius ) {\n\n\t\t\tconst vertex = new Vector3();\n\n\t\t\t// iterate over the entire buffer and apply the radius to each vertex\n\n\t\t\tfor ( let i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\t\tvertex.normalize().multiplyScalar( radius );\n\n\t\t\t\tvertexBuffer[ i + 0 ] = vertex.x;\n\t\t\t\tvertexBuffer[ i + 1 ] = vertex.y;\n\t\t\t\tvertexBuffer[ i + 2 ] = vertex.z;\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction generateUVs() {\n\n\t\t\tconst vertex = new Vector3();\n\n\t\t\tfor ( let i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\t\tconst u = azimuth( vertex ) / 2 / Math.PI + 0.5;\n\t\t\t\tconst v = inclination( vertex ) / Math.PI + 0.5;\n\t\t\t\tuvBuffer.push( u, 1 - v );\n\n\t\t\t}\n\n\t\t\tcorrectUVs();\n\n\t\t\tcorrectSeam();\n\n\t\t}\n\n\t\tfunction correctSeam() {\n\n\t\t\t// handle case when face straddles the seam, see #3269\n\n\t\t\tfor ( let i = 0; i < uvBuffer.length; i += 6 ) {\n\n\t\t\t\t// uv data of a single face\n\n\t\t\t\tconst x0 = uvBuffer[ i + 0 ];\n\t\t\t\tconst x1 = uvBuffer[ i + 2 ];\n\t\t\t\tconst x2 = uvBuffer[ i + 4 ];\n\n\t\t\t\tconst max = Math.max( x0, x1, x2 );\n\t\t\t\tconst min = Math.min( x0, x1, x2 );\n\n\t\t\t\t// 0.9 is somewhat arbitrary\n\n\t\t\t\tif ( max > 0.9 && min < 0.1 ) {\n\n\t\t\t\t\tif ( x0 < 0.2 ) uvBuffer[ i + 0 ] += 1;\n\t\t\t\t\tif ( x1 < 0.2 ) uvBuffer[ i + 2 ] += 1;\n\t\t\t\t\tif ( x2 < 0.2 ) uvBuffer[ i + 4 ] += 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction pushVertex( vertex ) {\n\n\t\t\tvertexBuffer.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t\tfunction getVertexByIndex( index, vertex ) {\n\n\t\t\tconst stride = index * 3;\n\n\t\t\tvertex.x = vertices[ stride + 0 ];\n\t\t\tvertex.y = vertices[ stride + 1 ];\n\t\t\tvertex.z = vertices[ stride + 2 ];\n\n\t\t}\n\n\t\tfunction correctUVs() {\n\n\t\t\tconst a = new Vector3();\n\t\t\tconst b = new Vector3();\n\t\t\tconst c = new Vector3();\n\n\t\t\tconst centroid = new Vector3();\n\n\t\t\tconst uvA = new Vector2();\n\t\t\tconst uvB = new Vector2();\n\t\t\tconst uvC = new Vector2();\n\n\t\t\tfor ( let i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6 ) {\n\n\t\t\t\ta.set( vertexBuffer[ i + 0 ], vertexBuffer[ i + 1 ], vertexBuffer[ i + 2 ] );\n\t\t\t\tb.set( vertexBuffer[ i + 3 ], vertexBuffer[ i + 4 ], vertexBuffer[ i + 5 ] );\n\t\t\t\tc.set( vertexBuffer[ i + 6 ], vertexBuffer[ i + 7 ], vertexBuffer[ i + 8 ] );\n\n\t\t\t\tuvA.set( uvBuffer[ j + 0 ], uvBuffer[ j + 1 ] );\n\t\t\t\tuvB.set( uvBuffer[ j + 2 ], uvBuffer[ j + 3 ] );\n\t\t\t\tuvC.set( uvBuffer[ j + 4 ], uvBuffer[ j + 5 ] );\n\n\t\t\t\tcentroid.copy( a ).add( b ).add( c ).divideScalar( 3 );\n\n\t\t\t\tconst azi = azimuth( centroid );\n\n\t\t\t\tcorrectUV( uvA, j + 0, a, azi );\n\t\t\t\tcorrectUV( uvB, j + 2, b, azi );\n\t\t\t\tcorrectUV( uvC, j + 4, c, azi );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction correctUV( uv, stride, vector, azimuth ) {\n\n\t\t\tif ( ( azimuth < 0 ) && ( uv.x === 1 ) ) {\n\n\t\t\t\tuvBuffer[ stride ] = uv.x - 1;\n\n\t\t\t}\n\n\t\t\tif ( ( vector.x === 0 ) && ( vector.z === 0 ) ) {\n\n\t\t\t\tuvBuffer[ stride ] = azimuth / 2 / Math.PI + 0.5;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Angle around the Y axis, counter-clockwise when looking from above.\n\n\t\tfunction azimuth( vector ) {\n\n\t\t\treturn Math.atan2( vector.z, - vector.x );\n\n\t\t}\n\n\n\t\t// Angle above the XZ plane.\n\n\t\tfunction inclination( vector ) {\n\n\t\t\treturn Math.atan2( - vector.y, Math.sqrt( ( vector.x * vector.x ) + ( vector.z * vector.z ) ) );\n\n\t\t}\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new PolyhedronGeometry( data.vertices, data.indices, data.radius, data.details );\n\n\t}\n\n}\n\nclass DodecahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\t\tconst r = 1 / t;\n\n\t\tconst vertices = [\n\n\t\t\t// (\u00B11, \u00B11, \u00B11)\n\t\t\t- 1, - 1, - 1,\t- 1, - 1, 1,\n\t\t\t- 1, 1, - 1, - 1, 1, 1,\n\t\t\t1, - 1, - 1, 1, - 1, 1,\n\t\t\t1, 1, - 1, 1, 1, 1,\n\n\t\t\t// (0, \u00B11/\u03C6, \u00B1\u03C6)\n\t\t\t0, - r, - t, 0, - r, t,\n\t\t\t0, r, - t, 0, r, t,\n\n\t\t\t// (\u00B11/\u03C6, \u00B1\u03C6, 0)\n\t\t\t- r, - t, 0, - r, t, 0,\n\t\t\tr, - t, 0, r, t, 0,\n\n\t\t\t// (\u00B1\u03C6, 0, \u00B11/\u03C6)\n\t\t\t- t, 0, - r, t, 0, - r,\n\t\t\t- t, 0, r, t, 0, r\n\t\t];\n\n\t\tconst indices = [\n\t\t\t3, 11, 7, \t3, 7, 15, \t3, 15, 13,\n\t\t\t7, 19, 17, \t7, 17, 6, \t7, 6, 15,\n\t\t\t17, 4, 8, \t17, 8, 10, \t17, 10, 6,\n\t\t\t8, 0, 16, \t8, 16, 2, \t8, 2, 10,\n\t\t\t0, 12, 1, \t0, 1, 18, \t0, 18, 16,\n\t\t\t6, 10, 2, \t6, 2, 13, \t6, 13, 15,\n\t\t\t2, 16, 18, \t2, 18, 3, \t2, 3, 13,\n\t\t\t18, 1, 9, \t18, 9, 11, \t18, 11, 3,\n\t\t\t4, 14, 12, \t4, 12, 0, \t4, 0, 8,\n\t\t\t11, 9, 5, \t11, 5, 19, \t11, 19, 7,\n\t\t\t19, 5, 14, \t19, 14, 4, \t19, 4, 17,\n\t\t\t1, 12, 14, \t1, 14, 5, \t1, 5, 9\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'DodecahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new DodecahedronGeometry( data.radius, data.detail );\n\n\t}\n\n}\n\nconst _v0 = new Vector3();\nconst _v1$1 = new Vector3();\nconst _normal = new Vector3();\nconst _triangle = new Triangle();\n\nclass EdgesGeometry extends BufferGeometry {\n\n\tconstructor( geometry, thresholdAngle ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'EdgesGeometry';\n\n\t\tthis.parameters = {\n\t\t\tthresholdAngle: thresholdAngle\n\t\t};\n\n\t\tthresholdAngle = ( thresholdAngle !== undefined ) ? thresholdAngle : 1;\n\n\t\tif ( geometry.isGeometry === true ) {\n\n\t\t\tconsole.error( 'THREE.EdgesGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst precisionPoints = 4;\n\t\tconst precision = Math.pow( 10, precisionPoints );\n\t\tconst thresholdDot = Math.cos( DEG2RAD * thresholdAngle );\n\n\t\tconst indexAttr = geometry.getIndex();\n\t\tconst positionAttr = geometry.getAttribute( 'position' );\n\t\tconst indexCount = indexAttr ? indexAttr.count : positionAttr.count;\n\n\t\tconst indexArr = [ 0, 0, 0 ];\n\t\tconst vertKeys = [ 'a', 'b', 'c' ];\n\t\tconst hashes = new Array( 3 );\n\n\t\tconst edgeData = {};\n\t\tconst vertices = [];\n\t\tfor ( let i = 0; i < indexCount; i += 3 ) {\n\n\t\t\tif ( indexAttr ) {\n\n\t\t\t\tindexArr[ 0 ] = indexAttr.getX( i );\n\t\t\t\tindexArr[ 1 ] = indexAttr.getX( i + 1 );\n\t\t\t\tindexArr[ 2 ] = indexAttr.getX( i + 2 );\n\n\t\t\t} else {\n\n\t\t\t\tindexArr[ 0 ] = i;\n\t\t\t\tindexArr[ 1 ] = i + 1;\n\t\t\t\tindexArr[ 2 ] = i + 2;\n\n\t\t\t}\n\n\t\t\tconst { a, b, c } = _triangle;\n\t\t\ta.fromBufferAttribute( positionAttr, indexArr[ 0 ] );\n\t\t\tb.fromBufferAttribute( positionAttr, indexArr[ 1 ] );\n\t\t\tc.fromBufferAttribute( positionAttr, indexArr[ 2 ] );\n\t\t\t_triangle.getNormal( _normal );\n\n\t\t\t// create hashes for the edge from the vertices\n\t\t\thashes[ 0 ] = `${ Math.round( a.x * precision ) },${ Math.round( a.y * precision ) },${ Math.round( a.z * precision ) }`;\n\t\t\thashes[ 1 ] = `${ Math.round( b.x * precision ) },${ Math.round( b.y * precision ) },${ Math.round( b.z * precision ) }`;\n\t\t\thashes[ 2 ] = `${ Math.round( c.x * precision ) },${ Math.round( c.y * precision ) },${ Math.round( c.z * precision ) }`;\n\n\t\t\t// skip degenerate triangles\n\t\t\tif ( hashes[ 0 ] === hashes[ 1 ] || hashes[ 1 ] === hashes[ 2 ] || hashes[ 2 ] === hashes[ 0 ] ) {\n\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// iterate over every edge\n\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t// get the first and next vertex making up the edge\n\t\t\t\tconst jNext = ( j + 1 ) % 3;\n\t\t\t\tconst vecHash0 = hashes[ j ];\n\t\t\t\tconst vecHash1 = hashes[ jNext ];\n\t\t\t\tconst v0 = _triangle[ vertKeys[ j ] ];\n\t\t\t\tconst v1 = _triangle[ vertKeys[ jNext ] ];\n\n\t\t\t\tconst hash = `${ vecHash0 }_${ vecHash1 }`;\n\t\t\t\tconst reverseHash = `${ vecHash1 }_${ vecHash0 }`;\n\n\t\t\t\tif ( reverseHash in edgeData && edgeData[ reverseHash ] ) {\n\n\t\t\t\t\t// if we found a sibling edge add it into the vertex array if\n\t\t\t\t\t// it meets the angle threshold and delete the edge from the map.\n\t\t\t\t\tif ( _normal.dot( edgeData[ reverseHash ].normal ) <= thresholdDot ) {\n\n\t\t\t\t\t\tvertices.push( v0.x, v0.y, v0.z );\n\t\t\t\t\t\tvertices.push( v1.x, v1.y, v1.z );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tedgeData[ reverseHash ] = null;\n\n\t\t\t\t} else if ( ! ( hash in edgeData ) ) {\n\n\t\t\t\t\t// if we've already got an edge here then skip adding a new one\n\t\t\t\t\tedgeData[ hash ] = {\n\n\t\t\t\t\t\tindex0: indexArr[ j ],\n\t\t\t\t\t\tindex1: indexArr[ jNext ],\n\t\t\t\t\t\tnormal: _normal.clone(),\n\n\t\t\t\t\t};\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// iterate over all remaining, unmatched edges and add them to the vertex array\n\t\tfor ( const key in edgeData ) {\n\n\t\t\tif ( edgeData[ key ] ) {\n\n\t\t\t\tconst { index0, index1 } = edgeData[ key ];\n\t\t\t\t_v0.fromBufferAttribute( positionAttr, index0 );\n\t\t\t\t_v1$1.fromBufferAttribute( positionAttr, index1 );\n\n\t\t\t\tvertices.push( _v0.x, _v0.y, _v0.z );\n\t\t\t\tvertices.push( _v1$1.x, _v1$1.y, _v1$1.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n\t}\n\n}\n\n/**\n * Extensible curve object.\n *\n * Some common of curve methods:\n * .getPoint( t, optionalTarget ), .getTangent( t, optionalTarget )\n * .getPointAt( u, optionalTarget ), .getTangentAt( u, optionalTarget )\n * .getPoints(), .getSpacedPoints()\n * .getLength()\n * .updateArcLengths()\n *\n * This following curves inherit from THREE.Curve:\n *\n * -- 2D curves --\n * THREE.ArcCurve\n * THREE.CubicBezierCurve\n * THREE.EllipseCurve\n * THREE.LineCurve\n * THREE.QuadraticBezierCurve\n * THREE.SplineCurve\n *\n * -- 3D curves --\n * THREE.CatmullRomCurve3\n * THREE.CubicBezierCurve3\n * THREE.LineCurve3\n * THREE.QuadraticBezierCurve3\n *\n * A series of curves can be represented as a THREE.CurvePath.\n *\n **/\n\nclass Curve {\n\n\tconstructor() {\n\n\t\tthis.type = 'Curve';\n\n\t\tthis.arcLengthDivisions = 200;\n\n\t}\n\n\t// Virtual base class method to overwrite and implement in subclasses\n\t//\t- t [0 .. 1]\n\n\tgetPoint( /* t, optionalTarget */ ) {\n\n\t\tconsole.warn( 'THREE.Curve: .getPoint() not implemented.' );\n\t\treturn null;\n\n\t}\n\n\t// Get point at relative position in curve according to arc length\n\t// - u [0 .. 1]\n\n\tgetPointAt( u, optionalTarget ) {\n\n\t\tconst t = this.getUtoTmapping( u );\n\t\treturn this.getPoint( t, optionalTarget );\n\n\t}\n\n\t// Get sequence of points using getPoint( t )\n\n\tgetPoints( divisions = 5 ) {\n\n\t\tconst points = [];\n\n\t\tfor ( let d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPoint( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\t// Get sequence of points using getPointAt( u )\n\n\tgetSpacedPoints( divisions = 5 ) {\n\n\t\tconst points = [];\n\n\t\tfor ( let d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPointAt( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\t// Get total curve arc length\n\n\tgetLength() {\n\n\t\tconst lengths = this.getLengths();\n\t\treturn lengths[ lengths.length - 1 ];\n\n\t}\n\n\t// Get list of cumulative segment lengths\n\n\tgetLengths( divisions = this.arcLengthDivisions ) {\n\n\t\tif ( this.cacheArcLengths &&\n\t\t\t( this.cacheArcLengths.length === divisions + 1 ) &&\n\t\t\t! this.needsUpdate ) {\n\n\t\t\treturn this.cacheArcLengths;\n\n\t\t}\n\n\t\tthis.needsUpdate = false;\n\n\t\tconst cache = [];\n\t\tlet current, last = this.getPoint( 0 );\n\t\tlet sum = 0;\n\n\t\tcache.push( 0 );\n\n\t\tfor ( let p = 1; p <= divisions; p ++ ) {\n\n\t\t\tcurrent = this.getPoint( p / divisions );\n\t\t\tsum += current.distanceTo( last );\n\t\t\tcache.push( sum );\n\t\t\tlast = current;\n\n\t\t}\n\n\t\tthis.cacheArcLengths = cache;\n\n\t\treturn cache; // { sums: cache, sum: sum }; Sum is in the last element.\n\n\t}\n\n\tupdateArcLengths() {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.getLengths();\n\n\t}\n\n\t// Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\n\n\tgetUtoTmapping( u, distance ) {\n\n\t\tconst arcLengths = this.getLengths();\n\n\t\tlet i = 0;\n\t\tconst il = arcLengths.length;\n\n\t\tlet targetArcLength; // The targeted u distance value to get\n\n\t\tif ( distance ) {\n\n\t\t\ttargetArcLength = distance;\n\n\t\t} else {\n\n\t\t\ttargetArcLength = u * arcLengths[ il - 1 ];\n\n\t\t}\n\n\t\t// binary search for the index with largest value smaller than target u distance\n\n\t\tlet low = 0, high = il - 1, comparison;\n\n\t\twhile ( low <= high ) {\n\n\t\t\ti = Math.floor( low + ( high - low ) / 2 ); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\n\n\t\t\tcomparison = arcLengths[ i ] - targetArcLength;\n\n\t\t\tif ( comparison < 0 ) {\n\n\t\t\t\tlow = i + 1;\n\n\t\t\t} else if ( comparison > 0 ) {\n\n\t\t\t\thigh = i - 1;\n\n\t\t\t} else {\n\n\t\t\t\thigh = i;\n\t\t\t\tbreak;\n\n\t\t\t\t// DONE\n\n\t\t\t}\n\n\t\t}\n\n\t\ti = high;\n\n\t\tif ( arcLengths[ i ] === targetArcLength ) {\n\n\t\t\treturn i / ( il - 1 );\n\n\t\t}\n\n\t\t// we could get finer grain at lengths, or use simple interpolation between two points\n\n\t\tconst lengthBefore = arcLengths[ i ];\n\t\tconst lengthAfter = arcLengths[ i + 1 ];\n\n\t\tconst segmentLength = lengthAfter - lengthBefore;\n\n\t\t// determine where we are between the 'before' and 'after' points\n\n\t\tconst segmentFraction = ( targetArcLength - lengthBefore ) / segmentLength;\n\n\t\t// add that fractional amount to t\n\n\t\tconst t = ( i + segmentFraction ) / ( il - 1 );\n\n\t\treturn t;\n\n\t}\n\n\t// Returns a unit vector tangent at t\n\t// In case any sub curve does not implement its tangent derivation,\n\t// 2 points a small delta apart will be used to find its gradient\n\t// which seems to give a reasonable approximation\n\n\tgetTangent( t, optionalTarget ) {\n\n\t\tconst delta = 0.0001;\n\t\tlet t1 = t - delta;\n\t\tlet t2 = t + delta;\n\n\t\t// Capping in case of danger\n\n\t\tif ( t1 < 0 ) t1 = 0;\n\t\tif ( t2 > 1 ) t2 = 1;\n\n\t\tconst pt1 = this.getPoint( t1 );\n\t\tconst pt2 = this.getPoint( t2 );\n\n\t\tconst tangent = optionalTarget || ( ( pt1.isVector2 ) ? new Vector2() : new Vector3() );\n\n\t\ttangent.copy( pt2 ).sub( pt1 ).normalize();\n\n\t\treturn tangent;\n\n\t}\n\n\tgetTangentAt( u, optionalTarget ) {\n\n\t\tconst t = this.getUtoTmapping( u );\n\t\treturn this.getTangent( t, optionalTarget );\n\n\t}\n\n\tcomputeFrenetFrames( segments, closed ) {\n\n\t\t// see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\n\n\t\tconst normal = new Vector3();\n\n\t\tconst tangents = [];\n\t\tconst normals = [];\n\t\tconst binormals = [];\n\n\t\tconst vec = new Vector3();\n\t\tconst mat = new Matrix4();\n\n\t\t// compute the tangent vectors for each segment on the curve\n\n\t\tfor ( let i = 0; i <= segments; i ++ ) {\n\n\t\t\tconst u = i / segments;\n\n\t\t\ttangents[ i ] = this.getTangentAt( u, new Vector3() );\n\t\t\ttangents[ i ].normalize();\n\n\t\t}\n\n\t\t// select an initial normal vector perpendicular to the first tangent vector,\n\t\t// and in the direction of the minimum tangent xyz component\n\n\t\tnormals[ 0 ] = new Vector3();\n\t\tbinormals[ 0 ] = new Vector3();\n\t\tlet min = Number.MAX_VALUE;\n\t\tconst tx = Math.abs( tangents[ 0 ].x );\n\t\tconst ty = Math.abs( tangents[ 0 ].y );\n\t\tconst tz = Math.abs( tangents[ 0 ].z );\n\n\t\tif ( tx <= min ) {\n\n\t\t\tmin = tx;\n\t\t\tnormal.set( 1, 0, 0 );\n\n\t\t}\n\n\t\tif ( ty <= min ) {\n\n\t\t\tmin = ty;\n\t\t\tnormal.set( 0, 1, 0 );\n\n\t\t}\n\n\t\tif ( tz <= min ) {\n\n\t\t\tnormal.set( 0, 0, 1 );\n\n\t\t}\n\n\t\tvec.crossVectors( tangents[ 0 ], normal ).normalize();\n\n\t\tnormals[ 0 ].crossVectors( tangents[ 0 ], vec );\n\t\tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] );\n\n\n\t\t// compute the slowly-varying normal and binormal vectors for each segment on the curve\n\n\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\tnormals[ i ] = normals[ i - 1 ].clone();\n\n\t\t\tbinormals[ i ] = binormals[ i - 1 ].clone();\n\n\t\t\tvec.crossVectors( tangents[ i - 1 ], tangents[ i ] );\n\n\t\t\tif ( vec.length() > Number.EPSILON ) {\n\n\t\t\t\tvec.normalize();\n\n\t\t\t\tconst theta = Math.acos( clamp( tangents[ i - 1 ].dot( tangents[ i ] ), - 1, 1 ) ); // clamp for floating pt errors\n\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( vec, theta ) );\n\n\t\t\t}\n\n\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t}\n\n\t\t// if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n\n\t\tif ( closed === true ) {\n\n\t\t\tlet theta = Math.acos( clamp( normals[ 0 ].dot( normals[ segments ] ), - 1, 1 ) );\n\t\t\ttheta /= segments;\n\n\t\t\tif ( tangents[ 0 ].dot( vec.crossVectors( normals[ 0 ], normals[ segments ] ) ) > 0 ) {\n\n\t\t\t\ttheta = - theta;\n\n\t\t\t}\n\n\t\t\tfor ( let i = 1; i <= segments; i ++ ) {\n\n\t\t\t\t// twist a little...\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( tangents[ i ], theta * i ) );\n\t\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttangents: tangents,\n\t\t\tnormals: normals,\n\t\t\tbinormals: binormals\n\t\t};\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.arcLengthDivisions = source.arcLengthDivisions;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Curve',\n\t\t\t\tgenerator: 'Curve.toJSON'\n\t\t\t}\n\t\t};\n\n\t\tdata.arcLengthDivisions = this.arcLengthDivisions;\n\t\tdata.type = this.type;\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tthis.arcLengthDivisions = json.arcLengthDivisions;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass EllipseCurve extends Curve {\n\n\tconstructor( aX = 0, aY = 0, xRadius = 1, yRadius = 1, aStartAngle = 0, aEndAngle = Math.PI * 2, aClockwise = false, aRotation = 0 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'EllipseCurve';\n\n\t\tthis.aX = aX;\n\t\tthis.aY = aY;\n\n\t\tthis.xRadius = xRadius;\n\t\tthis.yRadius = yRadius;\n\n\t\tthis.aStartAngle = aStartAngle;\n\t\tthis.aEndAngle = aEndAngle;\n\n\t\tthis.aClockwise = aClockwise;\n\n\t\tthis.aRotation = aRotation;\n\n\t}\n\n\tgetPoint( t, optionalTarget ) {\n\n\t\tconst point = optionalTarget || new Vector2();\n\n\t\tconst twoPi = Math.PI * 2;\n\t\tlet deltaAngle = this.aEndAngle - this.aStartAngle;\n\t\tconst samePoints = Math.abs( deltaAngle ) < Number.EPSILON;\n\n\t\t// ensures that deltaAngle is 0 .. 2 PI\n\t\twhile ( deltaAngle < 0 ) deltaAngle += twoPi;\n\t\twhile ( deltaAngle > twoPi ) deltaAngle -= twoPi;\n\n\t\tif ( deltaAngle < Number.EPSILON ) {\n\n\t\t\tif ( samePoints ) {\n\n\t\t\t\tdeltaAngle = 0;\n\n\t\t\t} else {\n\n\t\t\t\tdeltaAngle = twoPi;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.aClockwise === true && ! samePoints ) {\n\n\t\t\tif ( deltaAngle === twoPi ) {\n\n\t\t\t\tdeltaAngle = - twoPi;\n\n\t\t\t} else {\n\n\t\t\t\tdeltaAngle = deltaAngle - twoPi;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst angle = this.aStartAngle + t * deltaAngle;\n\t\tlet x = this.aX + this.xRadius * Math.cos( angle );\n\t\tlet y = this.aY + this.yRadius * Math.sin( angle );\n\n\t\tif ( this.aRotation !== 0 ) {\n\n\t\t\tconst cos = Math.cos( this.aRotation );\n\t\t\tconst sin = Math.sin( this.aRotation );\n\n\t\t\tconst tx = x - this.aX;\n\t\t\tconst ty = y - this.aY;\n\n\t\t\t// Rotate the point about the center of the ellipse.\n\t\t\tx = tx * cos - ty * sin + this.aX;\n\t\t\ty = tx * sin + ty * cos + this.aY;\n\n\t\t}\n\n\t\treturn point.set( x, y );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.aX = source.aX;\n\t\tthis.aY = source.aY;\n\n\t\tthis.xRadius = source.xRadius;\n\t\tthis.yRadius = source.yRadius;\n\n\t\tthis.aStartAngle = source.aStartAngle;\n\t\tthis.aEndAngle = source.aEndAngle;\n\n\t\tthis.aClockwise = source.aClockwise;\n\n\t\tthis.aRotation = source.aRotation;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.aX = this.aX;\n\t\tdata.aY = this.aY;\n\n\t\tdata.xRadius = this.xRadius;\n\t\tdata.yRadius = this.yRadius;\n\n\t\tdata.aStartAngle = this.aStartAngle;\n\t\tdata.aEndAngle = this.aEndAngle;\n\n\t\tdata.aClockwise = this.aClockwise;\n\n\t\tdata.aRotation = this.aRotation;\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.aX = json.aX;\n\t\tthis.aY = json.aY;\n\n\t\tthis.xRadius = json.xRadius;\n\t\tthis.yRadius = json.yRadius;\n\n\t\tthis.aStartAngle = json.aStartAngle;\n\t\tthis.aEndAngle = json.aEndAngle;\n\n\t\tthis.aClockwise = json.aClockwise;\n\n\t\tthis.aRotation = json.aRotation;\n\n\t\treturn this;\n\n\t}\n\n}\n\nEllipseCurve.prototype.isEllipseCurve = true;\n\nclass ArcCurve extends EllipseCurve {\n\n\tconstructor( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tsuper( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\t\tthis.type = 'ArcCurve';\n\n\t}\n\n}\n\nArcCurve.prototype.isArcCurve = true;\n\n/**\n * Centripetal CatmullRom Curve - which is useful for avoiding\n * cusps and self-intersections in non-uniform catmull rom curves.\n * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\n *\n * curve.type accepts centripetal(default), chordal and catmullrom\n * curve.tension is used for catmullrom which defaults to 0.5\n */\n\n\n/*\nBased on an optimized c++ solution in\n - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\n - http://ideone.com/NoEbVM\n\nThis CubicPoly class could be used for reusing some variables and calculations,\nbut for three.js curve use, it could be possible inlined and flatten into a single function call\nwhich can be placed in CurveUtils.\n*/\n\nfunction CubicPoly() {\n\n\tlet c0 = 0, c1 = 0, c2 = 0, c3 = 0;\n\n\t/*\n\t * Compute coefficients for a cubic polynomial\n\t *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\n\t * such that\n\t *   p(0) = x0, p(1) = x1\n\t *  and\n\t *   p'(0) = t0, p'(1) = t1.\n\t */\n\tfunction init( x0, x1, t0, t1 ) {\n\n\t\tc0 = x0;\n\t\tc1 = t0;\n\t\tc2 = - 3 * x0 + 3 * x1 - 2 * t0 - t1;\n\t\tc3 = 2 * x0 - 2 * x1 + t0 + t1;\n\n\t}\n\n\treturn {\n\n\t\tinitCatmullRom: function ( x0, x1, x2, x3, tension ) {\n\n\t\t\tinit( x1, x2, tension * ( x2 - x0 ), tension * ( x3 - x1 ) );\n\n\t\t},\n\n\t\tinitNonuniformCatmullRom: function ( x0, x1, x2, x3, dt0, dt1, dt2 ) {\n\n\t\t\t// compute tangents when parameterized in [t1,t2]\n\t\t\tlet t1 = ( x1 - x0 ) / dt0 - ( x2 - x0 ) / ( dt0 + dt1 ) + ( x2 - x1 ) / dt1;\n\t\t\tlet t2 = ( x2 - x1 ) / dt1 - ( x3 - x1 ) / ( dt1 + dt2 ) + ( x3 - x2 ) / dt2;\n\n\t\t\t// rescale tangents for parametrization in [0,1]\n\t\t\tt1 *= dt1;\n\t\t\tt2 *= dt1;\n\n\t\t\tinit( x1, x2, t1, t2 );\n\n\t\t},\n\n\t\tcalc: function ( t ) {\n\n\t\t\tconst t2 = t * t;\n\t\t\tconst t3 = t2 * t;\n\t\t\treturn c0 + c1 * t + c2 * t2 + c3 * t3;\n\n\t\t}\n\n\t};\n\n}\n\n//\n\nconst tmp = new Vector3();\nconst px = new CubicPoly(), py = new CubicPoly(), pz = new CubicPoly();\n\nclass CatmullRomCurve3 extends Curve {\n\n\tconstructor( points = [], closed = false, curveType = 'centripetal', tension = 0.5 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CatmullRomCurve3';\n\n\t\tthis.points = points;\n\t\tthis.closed = closed;\n\t\tthis.curveType = curveType;\n\t\tthis.tension = tension;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst points = this.points;\n\t\tconst l = points.length;\n\n\t\tconst p = ( l - ( this.closed ? 0 : 1 ) ) * t;\n\t\tlet intPoint = Math.floor( p );\n\t\tlet weight = p - intPoint;\n\n\t\tif ( this.closed ) {\n\n\t\t\tintPoint += intPoint > 0 ? 0 : ( Math.floor( Math.abs( intPoint ) / l ) + 1 ) * l;\n\n\t\t} else if ( weight === 0 && intPoint === l - 1 ) {\n\n\t\t\tintPoint = l - 2;\n\t\t\tweight = 1;\n\n\t\t}\n\n\t\tlet p0, p3; // 4 points (p1 & p2 defined below)\n\n\t\tif ( this.closed || intPoint > 0 ) {\n\n\t\t\tp0 = points[ ( intPoint - 1 ) % l ];\n\n\t\t} else {\n\n\t\t\t// extrapolate first point\n\t\t\ttmp.subVectors( points[ 0 ], points[ 1 ] ).add( points[ 0 ] );\n\t\t\tp0 = tmp;\n\n\t\t}\n\n\t\tconst p1 = points[ intPoint % l ];\n\t\tconst p2 = points[ ( intPoint + 1 ) % l ];\n\n\t\tif ( this.closed || intPoint + 2 < l ) {\n\n\t\t\tp3 = points[ ( intPoint + 2 ) % l ];\n\n\t\t} else {\n\n\t\t\t// extrapolate last point\n\t\t\ttmp.subVectors( points[ l - 1 ], points[ l - 2 ] ).add( points[ l - 1 ] );\n\t\t\tp3 = tmp;\n\n\t\t}\n\n\t\tif ( this.curveType === 'centripetal' || this.curveType === 'chordal' ) {\n\n\t\t\t// init Centripetal / Chordal Catmull-Rom\n\t\t\tconst pow = this.curveType === 'chordal' ? 0.5 : 0.25;\n\t\t\tlet dt0 = Math.pow( p0.distanceToSquared( p1 ), pow );\n\t\t\tlet dt1 = Math.pow( p1.distanceToSquared( p2 ), pow );\n\t\t\tlet dt2 = Math.pow( p2.distanceToSquared( p3 ), pow );\n\n\t\t\t// safety check for repeated points\n\t\t\tif ( dt1 < 1e-4 ) dt1 = 1.0;\n\t\t\tif ( dt0 < 1e-4 ) dt0 = dt1;\n\t\t\tif ( dt2 < 1e-4 ) dt2 = dt1;\n\n\t\t\tpx.initNonuniformCatmullRom( p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2 );\n\t\t\tpy.initNonuniformCatmullRom( p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2 );\n\t\t\tpz.initNonuniformCatmullRom( p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2 );\n\n\t\t} else if ( this.curveType === 'catmullrom' ) {\n\n\t\t\tpx.initCatmullRom( p0.x, p1.x, p2.x, p3.x, this.tension );\n\t\t\tpy.initCatmullRom( p0.y, p1.y, p2.y, p3.y, this.tension );\n\t\t\tpz.initCatmullRom( p0.z, p1.z, p2.z, p3.z, this.tension );\n\n\t\t}\n\n\t\tpoint.set(\n\t\t\tpx.calc( weight ),\n\t\t\tpy.calc( weight ),\n\t\t\tpz.calc( weight )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = source.points[ i ];\n\n\t\t\tthis.points.push( point.clone() );\n\n\t\t}\n\n\t\tthis.closed = source.closed;\n\t\tthis.curveType = source.curveType;\n\t\tthis.tension = source.tension;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.points = [];\n\n\t\tfor ( let i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = this.points[ i ];\n\t\t\tdata.points.push( point.toArray() );\n\n\t\t}\n\n\t\tdata.closed = this.closed;\n\t\tdata.curveType = this.curveType;\n\t\tdata.tension = this.tension;\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = json.points[ i ];\n\t\t\tthis.points.push( new Vector3().fromArray( point ) );\n\n\t\t}\n\n\t\tthis.closed = json.closed;\n\t\tthis.curveType = json.curveType;\n\t\tthis.tension = json.tension;\n\n\t\treturn this;\n\n\t}\n\n}\n\nCatmullRomCurve3.prototype.isCatmullRomCurve3 = true;\n\n/**\n * Bezier Curves formulas obtained from\n * http://en.wikipedia.org/wiki/B\u00E9zier_curve\n */\n\nfunction CatmullRom( t, p0, p1, p2, p3 ) {\n\n\tconst v0 = ( p2 - p0 ) * 0.5;\n\tconst v1 = ( p3 - p1 ) * 0.5;\n\tconst t2 = t * t;\n\tconst t3 = t * t2;\n\treturn ( 2 * p1 - 2 * p2 + v0 + v1 ) * t3 + ( - 3 * p1 + 3 * p2 - 2 * v0 - v1 ) * t2 + v0 * t + p1;\n\n}\n\n//\n\nfunction QuadraticBezierP0( t, p ) {\n\n\tconst k = 1 - t;\n\treturn k * k * p;\n\n}\n\nfunction QuadraticBezierP1( t, p ) {\n\n\treturn 2 * ( 1 - t ) * t * p;\n\n}\n\nfunction QuadraticBezierP2( t, p ) {\n\n\treturn t * t * p;\n\n}\n\nfunction QuadraticBezier( t, p0, p1, p2 ) {\n\n\treturn QuadraticBezierP0( t, p0 ) + QuadraticBezierP1( t, p1 ) +\n\t\tQuadraticBezierP2( t, p2 );\n\n}\n\n//\n\nfunction CubicBezierP0( t, p ) {\n\n\tconst k = 1 - t;\n\treturn k * k * k * p;\n\n}\n\nfunction CubicBezierP1( t, p ) {\n\n\tconst k = 1 - t;\n\treturn 3 * k * k * t * p;\n\n}\n\nfunction CubicBezierP2( t, p ) {\n\n\treturn 3 * ( 1 - t ) * t * t * p;\n\n}\n\nfunction CubicBezierP3( t, p ) {\n\n\treturn t * t * t * p;\n\n}\n\nfunction CubicBezier( t, p0, p1, p2, p3 ) {\n\n\treturn CubicBezierP0( t, p0 ) + CubicBezierP1( t, p1 ) + CubicBezierP2( t, p2 ) +\n\t\tCubicBezierP3( t, p3 );\n\n}\n\nclass CubicBezierCurve extends Curve {\n\n\tconstructor( v0 = new Vector2(), v1 = new Vector2(), v2 = new Vector2(), v3 = new Vector2() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CubicBezierCurve';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\t\tthis.v3 = v3;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\t\tpoint.set(\n\t\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\t\tthis.v3.copy( source.v3 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\t\tdata.v3 = this.v3.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\t\tthis.v3.fromArray( json.v3 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nCubicBezierCurve.prototype.isCubicBezierCurve = true;\n\nclass CubicBezierCurve3 extends Curve {\n\n\tconstructor( v0 = new Vector3(), v1 = new Vector3(), v2 = new Vector3(), v3 = new Vector3() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'CubicBezierCurve3';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\t\tthis.v3 = v3;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\t\tpoint.set(\n\t\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y ),\n\t\t\tCubicBezier( t, v0.z, v1.z, v2.z, v3.z )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\t\tthis.v3.copy( source.v3 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\t\tdata.v3 = this.v3.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\t\tthis.v3.fromArray( json.v3 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nCubicBezierCurve3.prototype.isCubicBezierCurve3 = true;\n\nclass LineCurve extends Curve {\n\n\tconstructor( v1 = new Vector2(), v2 = new Vector2() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'LineCurve';\n\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tif ( t === 1 ) {\n\n\t\t\tpoint.copy( this.v2 );\n\n\t\t} else {\n\n\t\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t\t}\n\n\t\treturn point;\n\n\t}\n\n\t// Line curve is linear, so we can overwrite default getPointAt\n\tgetPointAt( u, optionalTarget ) {\n\n\t\treturn this.getPoint( u, optionalTarget );\n\n\t}\n\n\tgetTangent( t, optionalTarget ) {\n\n\t\tconst tangent = optionalTarget || new Vector2();\n\n\t\ttangent.copy( this.v2 ).sub( this.v1 ).normalize();\n\n\t\treturn tangent;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nLineCurve.prototype.isLineCurve = true;\n\nclass LineCurve3 extends Curve {\n\n\tconstructor( v1 = new Vector3(), v2 = new Vector3() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'LineCurve3';\n\t\tthis.isLineCurve3 = true;\n\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tif ( t === 1 ) {\n\n\t\t\tpoint.copy( this.v2 );\n\n\t\t} else {\n\n\t\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t\t}\n\n\t\treturn point;\n\n\t}\n\t// Line curve is linear, so we can overwrite default getPointAt\n\tgetPointAt( u, optionalTarget ) {\n\n\t\treturn this.getPoint( u, optionalTarget );\n\n\t}\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass QuadraticBezierCurve extends Curve {\n\n\tconstructor( v0 = new Vector2(), v1 = new Vector2(), v2 = new Vector2() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'QuadraticBezierCurve';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\t\tpoint.set(\n\t\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\t\tQuadraticBezier( t, v0.y, v1.y, v2.y )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nQuadraticBezierCurve.prototype.isQuadraticBezierCurve = true;\n\nclass QuadraticBezierCurve3 extends Curve {\n\n\tconstructor( v0 = new Vector3(), v1 = new Vector3(), v2 = new Vector3() ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'QuadraticBezierCurve3';\n\n\t\tthis.v0 = v0;\n\t\tthis.v1 = v1;\n\t\tthis.v2 = v2;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector3() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\t\tpoint.set(\n\t\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\t\tQuadraticBezier( t, v0.y, v1.y, v2.y ),\n\t\t\tQuadraticBezier( t, v0.z, v1.z, v2.z )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.v0.copy( source.v0 );\n\t\tthis.v1.copy( source.v1 );\n\t\tthis.v2.copy( source.v2 );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.v0 = this.v0.toArray();\n\t\tdata.v1 = this.v1.toArray();\n\t\tdata.v2 = this.v2.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.v0.fromArray( json.v0 );\n\t\tthis.v1.fromArray( json.v1 );\n\t\tthis.v2.fromArray( json.v2 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nQuadraticBezierCurve3.prototype.isQuadraticBezierCurve3 = true;\n\nclass SplineCurve extends Curve {\n\n\tconstructor( points = [] ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'SplineCurve';\n\n\t\tthis.points = points;\n\n\t}\n\n\tgetPoint( t, optionalTarget = new Vector2() ) {\n\n\t\tconst point = optionalTarget;\n\n\t\tconst points = this.points;\n\t\tconst p = ( points.length - 1 ) * t;\n\n\t\tconst intPoint = Math.floor( p );\n\t\tconst weight = p - intPoint;\n\n\t\tconst p0 = points[ intPoint === 0 ? intPoint : intPoint - 1 ];\n\t\tconst p1 = points[ intPoint ];\n\t\tconst p2 = points[ intPoint > points.length - 2 ? points.length - 1 : intPoint + 1 ];\n\t\tconst p3 = points[ intPoint > points.length - 3 ? points.length - 1 : intPoint + 2 ];\n\n\t\tpoint.set(\n\t\t\tCatmullRom( weight, p0.x, p1.x, p2.x, p3.x ),\n\t\t\tCatmullRom( weight, p0.y, p1.y, p2.y, p3.y )\n\t\t);\n\n\t\treturn point;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = source.points[ i ];\n\n\t\t\tthis.points.push( point.clone() );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.points = [];\n\n\t\tfor ( let i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = this.points[ i ];\n\t\t\tdata.points.push( point.toArray() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.points = [];\n\n\t\tfor ( let i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\t\tconst point = json.points[ i ];\n\t\t\tthis.points.push( new Vector2().fromArray( point ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nSplineCurve.prototype.isSplineCurve = true;\n\nvar Curves = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tArcCurve: ArcCurve,\n\tCatmullRomCurve3: CatmullRomCurve3,\n\tCubicBezierCurve: CubicBezierCurve,\n\tCubicBezierCurve3: CubicBezierCurve3,\n\tEllipseCurve: EllipseCurve,\n\tLineCurve: LineCurve,\n\tLineCurve3: LineCurve3,\n\tQuadraticBezierCurve: QuadraticBezierCurve,\n\tQuadraticBezierCurve3: QuadraticBezierCurve3,\n\tSplineCurve: SplineCurve\n});\n\n/**\n * Port from https://github.com/mapbox/earcut (v2.2.2)\n */\n\nconst Earcut = {\n\n\ttriangulate: function ( data, holeIndices, dim = 2 ) {\n\n\t\tconst hasHoles = holeIndices && holeIndices.length;\n\t\tconst outerLen = hasHoles ? holeIndices[ 0 ] * dim : data.length;\n\t\tlet outerNode = linkedList( data, 0, outerLen, dim, true );\n\t\tconst triangles = [];\n\n\t\tif ( ! outerNode || outerNode.next === outerNode.prev ) return triangles;\n\n\t\tlet minX, minY, maxX, maxY, x, y, invSize;\n\n\t\tif ( hasHoles ) outerNode = eliminateHoles( data, holeIndices, outerNode, dim );\n\n\t\t// if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n\t\tif ( data.length > 80 * dim ) {\n\n\t\t\tminX = maxX = data[ 0 ];\n\t\t\tminY = maxY = data[ 1 ];\n\n\t\t\tfor ( let i = dim; i < outerLen; i += dim ) {\n\n\t\t\t\tx = data[ i ];\n\t\t\t\ty = data[ i + 1 ];\n\t\t\t\tif ( x < minX ) minX = x;\n\t\t\t\tif ( y < minY ) minY = y;\n\t\t\t\tif ( x > maxX ) maxX = x;\n\t\t\t\tif ( y > maxY ) maxY = y;\n\n\t\t\t}\n\n\t\t\t// minX, minY and invSize are later used to transform coords into integers for z-order calculation\n\t\t\tinvSize = Math.max( maxX - minX, maxY - minY );\n\t\t\tinvSize = invSize !== 0 ? 1 / invSize : 0;\n\n\t\t}\n\n\t\tearcutLinked( outerNode, triangles, dim, minX, minY, invSize );\n\n\t\treturn triangles;\n\n\t}\n\n};\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList( data, start, end, dim, clockwise ) {\n\n\tlet i, last;\n\n\tif ( clockwise === ( signedArea( data, start, end, dim ) > 0 ) ) {\n\n\t\tfor ( i = start; i < end; i += dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t} else {\n\n\t\tfor ( i = end - dim; i >= start; i -= dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t}\n\n\tif ( last && equals( last, last.next ) ) {\n\n\t\tremoveNode( last );\n\t\tlast = last.next;\n\n\t}\n\n\treturn last;\n\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints( start, end ) {\n\n\tif ( ! start ) return start;\n\tif ( ! end ) end = start;\n\n\tlet p = start,\n\t\tagain;\n\tdo {\n\n\t\tagain = false;\n\n\t\tif ( ! p.steiner && ( equals( p, p.next ) || area( p.prev, p, p.next ) === 0 ) ) {\n\n\t\t\tremoveNode( p );\n\t\t\tp = end = p.prev;\n\t\t\tif ( p === p.next ) break;\n\t\t\tagain = true;\n\n\t\t} else {\n\n\t\t\tp = p.next;\n\n\t\t}\n\n\t} while ( again || p !== end );\n\n\treturn end;\n\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked( ear, triangles, dim, minX, minY, invSize, pass ) {\n\n\tif ( ! ear ) return;\n\n\t// interlink polygon nodes in z-order\n\tif ( ! pass && invSize ) indexCurve( ear, minX, minY, invSize );\n\n\tlet stop = ear,\n\t\tprev, next;\n\n\t// iterate through ears, slicing them one by one\n\twhile ( ear.prev !== ear.next ) {\n\n\t\tprev = ear.prev;\n\t\tnext = ear.next;\n\n\t\tif ( invSize ? isEarHashed( ear, minX, minY, invSize ) : isEar( ear ) ) {\n\n\t\t\t// cut off the triangle\n\t\t\ttriangles.push( prev.i / dim );\n\t\t\ttriangles.push( ear.i / dim );\n\t\t\ttriangles.push( next.i / dim );\n\n\t\t\tremoveNode( ear );\n\n\t\t\t// skipping the next vertex leads to less sliver triangles\n\t\t\tear = next.next;\n\t\t\tstop = next.next;\n\n\t\t\tcontinue;\n\n\t\t}\n\n\t\tear = next;\n\n\t\t// if we looped through the whole remaining polygon and can't find any more ears\n\t\tif ( ear === stop ) {\n\n\t\t\t// try filtering points and slicing again\n\t\t\tif ( ! pass ) {\n\n\t\t\t\tearcutLinked( filterPoints( ear ), triangles, dim, minX, minY, invSize, 1 );\n\n\t\t\t\t// if this didn't work, try curing all small self-intersections locally\n\n\t\t\t} else if ( pass === 1 ) {\n\n\t\t\t\tear = cureLocalIntersections( filterPoints( ear ), triangles, dim );\n\t\t\t\tearcutLinked( ear, triangles, dim, minX, minY, invSize, 2 );\n\n\t\t\t\t// as a last resort, try splitting the remaining polygon into two\n\n\t\t\t} else if ( pass === 2 ) {\n\n\t\t\t\tsplitEarcut( ear, triangles, dim, minX, minY, invSize );\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar( ear ) {\n\n\tconst a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// now make sure we don't have other points inside the potential ear\n\tlet p = ear.next.next;\n\n\twhile ( p !== ear.prev ) {\n\n\t\tif ( pointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.next;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction isEarHashed( ear, minX, minY, invSize ) {\n\n\tconst a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// triangle bbox; min & max are calculated like this for speed\n\tconst minTX = a.x < b.x ? ( a.x < c.x ? a.x : c.x ) : ( b.x < c.x ? b.x : c.x ),\n\t\tminTY = a.y < b.y ? ( a.y < c.y ? a.y : c.y ) : ( b.y < c.y ? b.y : c.y ),\n\t\tmaxTX = a.x > b.x ? ( a.x > c.x ? a.x : c.x ) : ( b.x > c.x ? b.x : c.x ),\n\t\tmaxTY = a.y > b.y ? ( a.y > c.y ? a.y : c.y ) : ( b.y > c.y ? b.y : c.y );\n\n\t// z-order range for the current triangle bbox;\n\tconst minZ = zOrder( minTX, minTY, minX, minY, invSize ),\n\t\tmaxZ = zOrder( maxTX, maxTY, minX, minY, invSize );\n\n\tlet p = ear.prevZ,\n\t\tn = ear.nextZ;\n\n\t// look for points inside the triangle in both directions\n\twhile ( p && p.z >= minZ && n && n.z <= maxZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.prevZ;\n\n\t\tif ( n !== ear.prev && n !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y ) &&\n\t\t\tarea( n.prev, n, n.next ) >= 0 ) return false;\n\t\tn = n.nextZ;\n\n\t}\n\n\t// look for remaining points in decreasing z-order\n\twhile ( p && p.z >= minZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.prevZ;\n\n\t}\n\n\t// look for remaining points in increasing z-order\n\twhile ( n && n.z <= maxZ ) {\n\n\t\tif ( n !== ear.prev && n !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y ) &&\n\t\t\tarea( n.prev, n, n.next ) >= 0 ) return false;\n\t\tn = n.nextZ;\n\n\t}\n\n\treturn true;\n\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections( start, triangles, dim ) {\n\n\tlet p = start;\n\tdo {\n\n\t\tconst a = p.prev,\n\t\t\tb = p.next.next;\n\n\t\tif ( ! equals( a, b ) && intersects( a, p, p.next, b ) && locallyInside( a, b ) && locallyInside( b, a ) ) {\n\n\t\t\ttriangles.push( a.i / dim );\n\t\t\ttriangles.push( p.i / dim );\n\t\t\ttriangles.push( b.i / dim );\n\n\t\t\t// remove two nodes involved\n\t\t\tremoveNode( p );\n\t\t\tremoveNode( p.next );\n\n\t\t\tp = start = b;\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn filterPoints( p );\n\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut( start, triangles, dim, minX, minY, invSize ) {\n\n\t// look for a valid diagonal that divides the polygon into two\n\tlet a = start;\n\tdo {\n\n\t\tlet b = a.next.next;\n\t\twhile ( b !== a.prev ) {\n\n\t\t\tif ( a.i !== b.i && isValidDiagonal( a, b ) ) {\n\n\t\t\t\t// split the polygon in two by the diagonal\n\t\t\t\tlet c = splitPolygon( a, b );\n\n\t\t\t\t// filter colinear points around the cuts\n\t\t\t\ta = filterPoints( a, a.next );\n\t\t\t\tc = filterPoints( c, c.next );\n\n\t\t\t\t// run earcut on each half\n\t\t\t\tearcutLinked( a, triangles, dim, minX, minY, invSize );\n\t\t\t\tearcutLinked( c, triangles, dim, minX, minY, invSize );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tb = b.next;\n\n\t\t}\n\n\t\ta = a.next;\n\n\t} while ( a !== start );\n\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles( data, holeIndices, outerNode, dim ) {\n\n\tconst queue = [];\n\tlet i, len, start, end, list;\n\n\tfor ( i = 0, len = holeIndices.length; i < len; i ++ ) {\n\n\t\tstart = holeIndices[ i ] * dim;\n\t\tend = i < len - 1 ? holeIndices[ i + 1 ] * dim : data.length;\n\t\tlist = linkedList( data, start, end, dim, false );\n\t\tif ( list === list.next ) list.steiner = true;\n\t\tqueue.push( getLeftmost( list ) );\n\n\t}\n\n\tqueue.sort( compareX );\n\n\t// process holes from left to right\n\tfor ( i = 0; i < queue.length; i ++ ) {\n\n\t\teliminateHole( queue[ i ], outerNode );\n\t\touterNode = filterPoints( outerNode, outerNode.next );\n\n\t}\n\n\treturn outerNode;\n\n}\n\nfunction compareX( a, b ) {\n\n\treturn a.x - b.x;\n\n}\n\n// find a bridge between vertices that connects hole with an outer ring and and link it\nfunction eliminateHole( hole, outerNode ) {\n\n\touterNode = findHoleBridge( hole, outerNode );\n\tif ( outerNode ) {\n\n\t\tconst b = splitPolygon( outerNode, hole );\n\n\t\t// filter collinear points around the cuts\n\t\tfilterPoints( outerNode, outerNode.next );\n\t\tfilterPoints( b, b.next );\n\n\t}\n\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge( hole, outerNode ) {\n\n\tlet p = outerNode;\n\tconst hx = hole.x;\n\tconst hy = hole.y;\n\tlet qx = - Infinity, m;\n\n\t// find a segment intersected by a ray from the hole's leftmost point to the left;\n\t// segment's endpoint with lesser x will be potential connection point\n\tdo {\n\n\t\tif ( hy <= p.y && hy >= p.next.y && p.next.y !== p.y ) {\n\n\t\t\tconst x = p.x + ( hy - p.y ) * ( p.next.x - p.x ) / ( p.next.y - p.y );\n\t\t\tif ( x <= hx && x > qx ) {\n\n\t\t\t\tqx = x;\n\t\t\t\tif ( x === hx ) {\n\n\t\t\t\t\tif ( hy === p.y ) return p;\n\t\t\t\t\tif ( hy === p.next.y ) return p.next;\n\n\t\t\t\t}\n\n\t\t\t\tm = p.x < p.next.x ? p : p.next;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== outerNode );\n\n\tif ( ! m ) return null;\n\n\tif ( hx === qx ) return m; // hole touches outer segment; pick leftmost endpoint\n\n\t// look for points inside the triangle of hole point, segment intersection and endpoint;\n\t// if there are no points found, we have a valid connection;\n\t// otherwise choose the point of the minimum angle with the ray as connection point\n\n\tconst stop = m,\n\t\tmx = m.x,\n\t\tmy = m.y;\n\tlet tanMin = Infinity, tan;\n\n\tp = m;\n\n\tdo {\n\n\t\tif ( hx >= p.x && p.x >= mx && hx !== p.x &&\n\t\t\t\tpointInTriangle( hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y ) ) {\n\n\t\t\ttan = Math.abs( hy - p.y ) / ( hx - p.x ); // tangential\n\n\t\t\tif ( locallyInside( p, hole ) && ( tan < tanMin || ( tan === tanMin && ( p.x > m.x || ( p.x === m.x && sectorContainsSector( m, p ) ) ) ) ) ) {\n\n\t\t\t\tm = p;\n\t\t\t\ttanMin = tan;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== stop );\n\n\treturn m;\n\n}\n\n// whether sector in vertex m contains sector in vertex p in the same coordinates\nfunction sectorContainsSector( m, p ) {\n\n\treturn area( m.prev, m, p.prev ) < 0 && area( p.next, m, m.next ) < 0;\n\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve( start, minX, minY, invSize ) {\n\n\tlet p = start;\n\tdo {\n\n\t\tif ( p.z === null ) p.z = zOrder( p.x, p.y, minX, minY, invSize );\n\t\tp.prevZ = p.prev;\n\t\tp.nextZ = p.next;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\tp.prevZ.nextZ = null;\n\tp.prevZ = null;\n\n\tsortLinked( p );\n\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked( list ) {\n\n\tlet i, p, q, e, tail, numMerges, pSize, qSize,\n\t\tinSize = 1;\n\n\tdo {\n\n\t\tp = list;\n\t\tlist = null;\n\t\ttail = null;\n\t\tnumMerges = 0;\n\n\t\twhile ( p ) {\n\n\t\t\tnumMerges ++;\n\t\t\tq = p;\n\t\t\tpSize = 0;\n\t\t\tfor ( i = 0; i < inSize; i ++ ) {\n\n\t\t\t\tpSize ++;\n\t\t\t\tq = q.nextZ;\n\t\t\t\tif ( ! q ) break;\n\n\t\t\t}\n\n\t\t\tqSize = inSize;\n\n\t\t\twhile ( pSize > 0 || ( qSize > 0 && q ) ) {\n\n\t\t\t\tif ( pSize !== 0 && ( qSize === 0 || ! q || p.z <= q.z ) ) {\n\n\t\t\t\t\te = p;\n\t\t\t\t\tp = p.nextZ;\n\t\t\t\t\tpSize --;\n\n\t\t\t\t} else {\n\n\t\t\t\t\te = q;\n\t\t\t\t\tq = q.nextZ;\n\t\t\t\t\tqSize --;\n\n\t\t\t\t}\n\n\t\t\t\tif ( tail ) tail.nextZ = e;\n\t\t\t\telse list = e;\n\n\t\t\t\te.prevZ = tail;\n\t\t\t\ttail = e;\n\n\t\t\t}\n\n\t\t\tp = q;\n\n\t\t}\n\n\t\ttail.nextZ = null;\n\t\tinSize *= 2;\n\n\t} while ( numMerges > 1 );\n\n\treturn list;\n\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder( x, y, minX, minY, invSize ) {\n\n\t// coords are transformed into non-negative 15-bit integer range\n\tx = 32767 * ( x - minX ) * invSize;\n\ty = 32767 * ( y - minY ) * invSize;\n\n\tx = ( x | ( x << 8 ) ) & 0x00FF00FF;\n\tx = ( x | ( x << 4 ) ) & 0x0F0F0F0F;\n\tx = ( x | ( x << 2 ) ) & 0x33333333;\n\tx = ( x | ( x << 1 ) ) & 0x55555555;\n\n\ty = ( y | ( y << 8 ) ) & 0x00FF00FF;\n\ty = ( y | ( y << 4 ) ) & 0x0F0F0F0F;\n\ty = ( y | ( y << 2 ) ) & 0x33333333;\n\ty = ( y | ( y << 1 ) ) & 0x55555555;\n\n\treturn x | ( y << 1 );\n\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost( start ) {\n\n\tlet p = start,\n\t\tleftmost = start;\n\tdo {\n\n\t\tif ( p.x < leftmost.x || ( p.x === leftmost.x && p.y < leftmost.y ) ) leftmost = p;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn leftmost;\n\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle( ax, ay, bx, by, cx, cy, px, py ) {\n\n\treturn ( cx - px ) * ( ay - py ) - ( ax - px ) * ( cy - py ) >= 0 &&\n\t\t\t( ax - px ) * ( by - py ) - ( bx - px ) * ( ay - py ) >= 0 &&\n\t\t\t( bx - px ) * ( cy - py ) - ( cx - px ) * ( by - py ) >= 0;\n\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal( a, b ) {\n\n\treturn a.next.i !== b.i && a.prev.i !== b.i && ! intersectsPolygon( a, b ) && // dones't intersect other edges\n\t\t( locallyInside( a, b ) && locallyInside( b, a ) && middleInside( a, b ) && // locally visible\n\t\t( area( a.prev, a, b.prev ) || area( a, b.prev, b ) ) || // does not create opposite-facing sectors\n\t\tequals( a, b ) && area( a.prev, a, a.next ) > 0 && area( b.prev, b, b.next ) > 0 ); // special zero-length case\n\n}\n\n// signed area of a triangle\nfunction area( p, q, r ) {\n\n\treturn ( q.y - p.y ) * ( r.x - q.x ) - ( q.x - p.x ) * ( r.y - q.y );\n\n}\n\n// check if two points are equal\nfunction equals( p1, p2 ) {\n\n\treturn p1.x === p2.x && p1.y === p2.y;\n\n}\n\n// check if two segments intersect\nfunction intersects( p1, q1, p2, q2 ) {\n\n\tconst o1 = sign( area( p1, q1, p2 ) );\n\tconst o2 = sign( area( p1, q1, q2 ) );\n\tconst o3 = sign( area( p2, q2, p1 ) );\n\tconst o4 = sign( area( p2, q2, q1 ) );\n\n\tif ( o1 !== o2 && o3 !== o4 ) return true; // general case\n\n\tif ( o1 === 0 && onSegment( p1, p2, q1 ) ) return true; // p1, q1 and p2 are collinear and p2 lies on p1q1\n\tif ( o2 === 0 && onSegment( p1, q2, q1 ) ) return true; // p1, q1 and q2 are collinear and q2 lies on p1q1\n\tif ( o3 === 0 && onSegment( p2, p1, q2 ) ) return true; // p2, q2 and p1 are collinear and p1 lies on p2q2\n\tif ( o4 === 0 && onSegment( p2, q1, q2 ) ) return true; // p2, q2 and q1 are collinear and q1 lies on p2q2\n\n\treturn false;\n\n}\n\n// for collinear points p, q, r, check if point q lies on segment pr\nfunction onSegment( p, q, r ) {\n\n\treturn q.x <= Math.max( p.x, r.x ) && q.x >= Math.min( p.x, r.x ) && q.y <= Math.max( p.y, r.y ) && q.y >= Math.min( p.y, r.y );\n\n}\n\nfunction sign( num ) {\n\n\treturn num > 0 ? 1 : num < 0 ? - 1 : 0;\n\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon( a, b ) {\n\n\tlet p = a;\n\tdo {\n\n\t\tif ( p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n\t\t\t\tintersects( p, p.next, a, b ) ) return true;\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn false;\n\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside( a, b ) {\n\n\treturn area( a.prev, a, a.next ) < 0 ?\n\t\tarea( a, b, a.next ) >= 0 && area( a, a.prev, b ) >= 0 :\n\t\tarea( a, b, a.prev ) < 0 || area( a, a.next, b ) < 0;\n\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside( a, b ) {\n\n\tlet p = a,\n\t\tinside = false;\n\tconst px = ( a.x + b.x ) / 2,\n\t\tpy = ( a.y + b.y ) / 2;\n\tdo {\n\n\t\tif ( ( ( p.y > py ) !== ( p.next.y > py ) ) && p.next.y !== p.y &&\n\t\t\t\t( px < ( p.next.x - p.x ) * ( py - p.y ) / ( p.next.y - p.y ) + p.x ) )\n\t\t\tinside = ! inside;\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn inside;\n\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon( a, b ) {\n\n\tconst a2 = new Node( a.i, a.x, a.y ),\n\t\tb2 = new Node( b.i, b.x, b.y ),\n\t\tan = a.next,\n\t\tbp = b.prev;\n\n\ta.next = b;\n\tb.prev = a;\n\n\ta2.next = an;\n\tan.prev = a2;\n\n\tb2.next = a2;\n\ta2.prev = b2;\n\n\tbp.next = b2;\n\tb2.prev = bp;\n\n\treturn b2;\n\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode( i, x, y, last ) {\n\n\tconst p = new Node( i, x, y );\n\n\tif ( ! last ) {\n\n\t\tp.prev = p;\n\t\tp.next = p;\n\n\t} else {\n\n\t\tp.next = last.next;\n\t\tp.prev = last;\n\t\tlast.next.prev = p;\n\t\tlast.next = p;\n\n\t}\n\n\treturn p;\n\n}\n\nfunction removeNode( p ) {\n\n\tp.next.prev = p.prev;\n\tp.prev.next = p.next;\n\n\tif ( p.prevZ ) p.prevZ.nextZ = p.nextZ;\n\tif ( p.nextZ ) p.nextZ.prevZ = p.prevZ;\n\n}\n\nfunction Node( i, x, y ) {\n\n\t// vertex index in coordinates array\n\tthis.i = i;\n\n\t// vertex coordinates\n\tthis.x = x;\n\tthis.y = y;\n\n\t// previous and next vertex nodes in a polygon ring\n\tthis.prev = null;\n\tthis.next = null;\n\n\t// z-order curve value\n\tthis.z = null;\n\n\t// previous and next nodes in z-order\n\tthis.prevZ = null;\n\tthis.nextZ = null;\n\n\t// indicates whether this is a steiner point\n\tthis.steiner = false;\n\n}\n\nfunction signedArea( data, start, end, dim ) {\n\n\tlet sum = 0;\n\tfor ( let i = start, j = end - dim; i < end; i += dim ) {\n\n\t\tsum += ( data[ j ] - data[ i ] ) * ( data[ i + 1 ] + data[ j + 1 ] );\n\t\tj = i;\n\n\t}\n\n\treturn sum;\n\n}\n\nclass ShapeUtils {\n\n\t// calculate area of the contour polygon\n\n\tstatic area( contour ) {\n\n\t\tconst n = contour.length;\n\t\tlet a = 0.0;\n\n\t\tfor ( let p = n - 1, q = 0; q < n; p = q ++ ) {\n\n\t\t\ta += contour[ p ].x * contour[ q ].y - contour[ q ].x * contour[ p ].y;\n\n\t\t}\n\n\t\treturn a * 0.5;\n\n\t}\n\n\tstatic isClockWise( pts ) {\n\n\t\treturn ShapeUtils.area( pts ) < 0;\n\n\t}\n\n\tstatic triangulateShape( contour, holes ) {\n\n\t\tconst vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\n\t\tconst holeIndices = []; // array of hole indices\n\t\tconst faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\n\n\t\tremoveDupEndPts( contour );\n\t\taddContour( vertices, contour );\n\n\t\t//\n\n\t\tlet holeIndex = contour.length;\n\n\t\tholes.forEach( removeDupEndPts );\n\n\t\tfor ( let i = 0; i < holes.length; i ++ ) {\n\n\t\t\tholeIndices.push( holeIndex );\n\t\t\tholeIndex += holes[ i ].length;\n\t\t\taddContour( vertices, holes[ i ] );\n\n\t\t}\n\n\t\t//\n\n\t\tconst triangles = Earcut.triangulate( vertices, holeIndices );\n\n\t\t//\n\n\t\tfor ( let i = 0; i < triangles.length; i += 3 ) {\n\n\t\t\tfaces.push( triangles.slice( i, i + 3 ) );\n\n\t\t}\n\n\t\treturn faces;\n\n\t}\n\n}\n\nfunction removeDupEndPts( points ) {\n\n\tconst l = points.length;\n\n\tif ( l > 2 && points[ l - 1 ].equals( points[ 0 ] ) ) {\n\n\t\tpoints.pop();\n\n\t}\n\n}\n\nfunction addContour( vertices, contour ) {\n\n\tfor ( let i = 0; i < contour.length; i ++ ) {\n\n\t\tvertices.push( contour[ i ].x );\n\t\tvertices.push( contour[ i ].y );\n\n\t}\n\n}\n\n/**\n * Creates extruded geometry from a path shape.\n *\n * parameters = {\n *\n *  curveSegments: <int>, // number of points on the curves\n *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n *  depth: <float>, // Depth to extrude the shape\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into the original shape bevel goes\n *  bevelSize: <float>, // how far from shape outline (including bevelOffset) is bevel\n *  bevelOffset: <float>, // how far from shape outline does bevel start\n *  bevelSegments: <int>, // number of bevel layers\n *\n *  extrudePath: <THREE.Curve> // curve to extrude shape along\n *\n *  UVGenerator: <Object> // object that provides UV generator functions\n *\n * }\n */\n\nclass ExtrudeGeometry extends BufferGeometry {\n\n\tconstructor( shapes, options ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ExtrudeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tshapes: shapes,\n\t\t\toptions: options\n\t\t};\n\n\t\tshapes = Array.isArray( shapes ) ? shapes : [ shapes ];\n\n\t\tconst scope = this;\n\n\t\tconst verticesArray = [];\n\t\tconst uvArray = [];\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\t\t\taddShape( shape );\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( verticesArray, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvArray, 2 ) );\n\n\t\tthis.computeVertexNormals();\n\n\t\t// functions\n\n\t\tfunction addShape( shape ) {\n\n\t\t\tconst placeholder = [];\n\n\t\t\t// options\n\n\t\t\tconst curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n\t\t\tconst steps = options.steps !== undefined ? options.steps : 1;\n\t\t\tlet depth = options.depth !== undefined ? options.depth : 100;\n\n\t\t\tlet bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true;\n\t\t\tlet bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 6;\n\t\t\tlet bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 2;\n\t\t\tlet bevelOffset = options.bevelOffset !== undefined ? options.bevelOffset : 0;\n\t\t\tlet bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\n\n\t\t\tconst extrudePath = options.extrudePath;\n\n\t\t\tconst uvgen = options.UVGenerator !== undefined ? options.UVGenerator : WorldUVGenerator;\n\n\t\t\t// deprecated options\n\n\t\t\tif ( options.amount !== undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ExtrudeBufferGeometry: amount has been renamed to depth.' );\n\t\t\t\tdepth = options.amount;\n\n\t\t\t}\n\n\t\t\t//\n\n\t\t\tlet extrudePts, extrudeByPath = false;\n\t\t\tlet splineTube, binormal, normal, position2;\n\n\t\t\tif ( extrudePath ) {\n\n\t\t\t\textrudePts = extrudePath.getSpacedPoints( steps );\n\n\t\t\t\textrudeByPath = true;\n\t\t\t\tbevelEnabled = false; // bevels not supported for path extrusion\n\n\t\t\t\t// SETUP TNB variables\n\n\t\t\t\t// TODO1 - have a .isClosed in spline?\n\n\t\t\t\tsplineTube = extrudePath.computeFrenetFrames( steps, false );\n\n\t\t\t\t// console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\n\n\t\t\t\tbinormal = new Vector3();\n\t\t\t\tnormal = new Vector3();\n\t\t\t\tposition2 = new Vector3();\n\n\t\t\t}\n\n\t\t\t// Safeguards if bevels are not enabled\n\n\t\t\tif ( ! bevelEnabled ) {\n\n\t\t\t\tbevelSegments = 0;\n\t\t\t\tbevelThickness = 0;\n\t\t\t\tbevelSize = 0;\n\t\t\t\tbevelOffset = 0;\n\n\t\t\t}\n\n\t\t\t// Variables initialization\n\n\t\t\tconst shapePoints = shape.extractPoints( curveSegments );\n\n\t\t\tlet vertices = shapePoints.shape;\n\t\t\tconst holes = shapePoints.holes;\n\n\t\t\tconst reverse = ! ShapeUtils.isClockWise( vertices );\n\n\t\t\tif ( reverse ) {\n\n\t\t\t\tvertices = vertices.reverse();\n\n\t\t\t\t// Maybe we should also check if holes are in the opposite direction, just to be safe ...\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\t\tif ( ShapeUtils.isClockWise( ahole ) ) {\n\n\t\t\t\t\t\tholes[ h ] = ahole.reverse();\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\tconst faces = ShapeUtils.triangulateShape( vertices, holes );\n\n\t\t\t/* Vertices */\n\n\t\t\tconst contour = vertices; // vertices has all points but contour has only points of circumference\n\n\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\tvertices = vertices.concat( ahole );\n\n\t\t\t}\n\n\n\t\t\tfunction scalePt2( pt, vec, size ) {\n\n\t\t\t\tif ( ! vec ) console.error( 'THREE.ExtrudeGeometry: vec does not exist' );\n\n\t\t\t\treturn vec.clone().multiplyScalar( size ).add( pt );\n\n\t\t\t}\n\n\t\t\tconst vlen = vertices.length, flen = faces.length;\n\n\n\t\t\t// Find directions for point movement\n\n\n\t\t\tfunction getBevelVec( inPt, inPrev, inNext ) {\n\n\t\t\t\t// computes for inPt the corresponding point inPt' on a new contour\n\t\t\t\t//   shifted by 1 unit (length of normalized vector) to the left\n\t\t\t\t// if we walk along contour clockwise, this new contour is outside the old one\n\t\t\t\t//\n\t\t\t\t// inPt' is the intersection of the two lines parallel to the two\n\t\t\t\t//  adjacent edges of inPt at a distance of 1 unit on the left side.\n\n\t\t\t\tlet v_trans_x, v_trans_y, shrink_by; // resulting translation vector for inPt\n\n\t\t\t\t// good reading for geometry algorithms (here: line-line intersection)\n\t\t\t\t// http://geomalgorithms.com/a05-_intersect-1.html\n\n\t\t\t\tconst v_prev_x = inPt.x - inPrev.x,\n\t\t\t\t\tv_prev_y = inPt.y - inPrev.y;\n\t\t\t\tconst v_next_x = inNext.x - inPt.x,\n\t\t\t\t\tv_next_y = inNext.y - inPt.y;\n\n\t\t\t\tconst v_prev_lensq = ( v_prev_x * v_prev_x + v_prev_y * v_prev_y );\n\n\t\t\t\t// check for collinear edges\n\t\t\t\tconst collinear0 = ( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\t\tif ( Math.abs( collinear0 ) > Number.EPSILON ) {\n\n\t\t\t\t\t// not collinear\n\n\t\t\t\t\t// length of vectors for normalizing\n\n\t\t\t\t\tconst v_prev_len = Math.sqrt( v_prev_lensq );\n\t\t\t\t\tconst v_next_len = Math.sqrt( v_next_x * v_next_x + v_next_y * v_next_y );\n\n\t\t\t\t\t// shift adjacent points by unit vectors to the left\n\n\t\t\t\t\tconst ptPrevShift_x = ( inPrev.x - v_prev_y / v_prev_len );\n\t\t\t\t\tconst ptPrevShift_y = ( inPrev.y + v_prev_x / v_prev_len );\n\n\t\t\t\t\tconst ptNextShift_x = ( inNext.x - v_next_y / v_next_len );\n\t\t\t\t\tconst ptNextShift_y = ( inNext.y + v_next_x / v_next_len );\n\n\t\t\t\t\t// scaling factor for v_prev to intersection point\n\n\t\t\t\t\tconst sf = ( ( ptNextShift_x - ptPrevShift_x ) * v_next_y -\n\t\t\t\t\t\t\t( ptNextShift_y - ptPrevShift_y ) * v_next_x ) /\n\t\t\t\t\t\t( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\t\t\t// vector from inPt to intersection point\n\n\t\t\t\t\tv_trans_x = ( ptPrevShift_x + v_prev_x * sf - inPt.x );\n\t\t\t\t\tv_trans_y = ( ptPrevShift_y + v_prev_y * sf - inPt.y );\n\n\t\t\t\t\t// Don't normalize!, otherwise sharp corners become ugly\n\t\t\t\t\t//  but prevent crazy spikes\n\t\t\t\t\tconst v_trans_lensq = ( v_trans_x * v_trans_x + v_trans_y * v_trans_y );\n\t\t\t\t\tif ( v_trans_lensq <= 2 ) {\n\n\t\t\t\t\t\treturn new Vector2( v_trans_x, v_trans_y );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_trans_lensq / 2 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// handle special case of collinear edges\n\n\t\t\t\t\tlet direction_eq = false; // assumes: opposite\n\n\t\t\t\t\tif ( v_prev_x > Number.EPSILON ) {\n\n\t\t\t\t\t\tif ( v_next_x > Number.EPSILON ) {\n\n\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( v_prev_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\t\tif ( v_next_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tif ( Math.sign( v_prev_y ) === Math.sign( v_next_y ) ) {\n\n\t\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( direction_eq ) {\n\n\t\t\t\t\t\t// console.log(\"Warning: lines are a straight sequence\");\n\t\t\t\t\t\tv_trans_x = - v_prev_y;\n\t\t\t\t\t\tv_trans_y = v_prev_x;\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// console.log(\"Warning: lines are a straight spike\");\n\t\t\t\t\t\tv_trans_x = v_prev_x;\n\t\t\t\t\t\tv_trans_y = v_prev_y;\n\t\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq / 2 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\treturn new Vector2( v_trans_x / shrink_by, v_trans_y / shrink_by );\n\n\t\t\t}\n\n\n\t\t\tconst contourMovements = [];\n\n\t\t\tfor ( let i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\t\tif ( j === il ) j = 0;\n\t\t\t\tif ( k === il ) k = 0;\n\n\t\t\t\t//  (j)---(i)---(k)\n\t\t\t\t// console.log('i,j,k', i, j , k)\n\n\t\t\t\tcontourMovements[ i ] = getBevelVec( contour[ i ], contour[ j ], contour[ k ] );\n\n\t\t\t}\n\n\t\t\tconst holesMovements = [];\n\t\t\tlet oneHoleMovements, verticesMovements = contourMovements.concat();\n\n\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tconst ahole = holes[ h ];\n\n\t\t\t\toneHoleMovements = [];\n\n\t\t\t\tfor ( let i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\t\t\tif ( j === il ) j = 0;\n\t\t\t\t\tif ( k === il ) k = 0;\n\n\t\t\t\t\t//  (j)---(i)---(k)\n\t\t\t\t\toneHoleMovements[ i ] = getBevelVec( ahole[ i ], ahole[ j ], ahole[ k ] );\n\n\t\t\t\t}\n\n\t\t\t\tholesMovements.push( oneHoleMovements );\n\t\t\t\tverticesMovements = verticesMovements.concat( oneHoleMovements );\n\n\t\t\t}\n\n\n\t\t\t// Loop bevelSegments, 1 for the front, 1 for the back\n\n\t\t\tfor ( let b = 0; b < bevelSegments; b ++ ) {\n\n\t\t\t\t//for ( b = bevelSegments; b > 0; b -- ) {\n\n\t\t\t\tconst t = b / bevelSegments;\n\t\t\t\tconst z = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\t\tconst bs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t\t// contract shape\n\n\t\t\t\tfor ( let i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst vert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\n\t\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t\t}\n\n\t\t\t\t// expand holes\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\t\tfor ( let i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst vert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst bs = bevelSize + bevelOffset;\n\n\t\t\t// Back facing vertices\n\n\t\t\tfor ( let i = 0; i < vlen; i ++ ) {\n\n\t\t\t\tconst vert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\tv( vert.x, vert.y, 0 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\n\n\t\t\t\t\tnormal.copy( splineTube.normals[ 0 ] ).multiplyScalar( vert.x );\n\t\t\t\t\tbinormal.copy( splineTube.binormals[ 0 ] ).multiplyScalar( vert.y );\n\n\t\t\t\t\tposition2.copy( extrudePts[ 0 ] ).add( normal ).add( binormal );\n\n\t\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Add stepped vertices...\n\t\t\t// Including front facing vertices\n\n\t\t\tfor ( let s = 1; s <= steps; s ++ ) {\n\n\t\t\t\tfor ( let i = 0; i < vlen; i ++ ) {\n\n\t\t\t\t\tconst vert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\t\tv( vert.x, vert.y, depth / steps * s );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\n\n\t\t\t\t\t\tnormal.copy( splineTube.normals[ s ] ).multiplyScalar( vert.x );\n\t\t\t\t\t\tbinormal.copy( splineTube.binormals[ s ] ).multiplyScalar( vert.y );\n\n\t\t\t\t\t\tposition2.copy( extrudePts[ s ] ).add( normal ).add( binormal );\n\n\t\t\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\n\t\t\t// Add bevel segments planes\n\n\t\t\t//for ( b = 1; b <= bevelSegments; b ++ ) {\n\t\t\tfor ( let b = bevelSegments - 1; b >= 0; b -- ) {\n\n\t\t\t\tconst t = b / bevelSegments;\n\t\t\t\tconst z = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\t\tconst bs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t\t// contract shape\n\n\t\t\t\tfor ( let i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst vert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\t\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t\t}\n\n\t\t\t\t// expand holes\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\t\tfor ( let i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst vert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tv( vert.x, vert.y + extrudePts[ steps - 1 ].y, extrudePts[ steps - 1 ].x + z );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t/* Faces */\n\n\t\t\t// Top and bottom faces\n\n\t\t\tbuildLidFaces();\n\n\t\t\t// Sides faces\n\n\t\t\tbuildSideFaces();\n\n\n\t\t\t/////  Internal functions\n\n\t\t\tfunction buildLidFaces() {\n\n\t\t\t\tconst start = verticesArray.length / 3;\n\n\t\t\t\tif ( bevelEnabled ) {\n\n\t\t\t\t\tlet layer = 0; // steps + 1\n\t\t\t\t\tlet offset = vlen * layer;\n\n\t\t\t\t\t// Bottom faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 2 ] + offset, face[ 1 ] + offset, face[ 0 ] + offset );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tlayer = steps + bevelSegments * 2;\n\t\t\t\t\toffset = vlen * layer;\n\n\t\t\t\t\t// Top faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 0 ] + offset, face[ 1 ] + offset, face[ 2 ] + offset );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// Bottom faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 2 ], face[ 1 ], face[ 0 ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// Top faces\n\n\t\t\t\t\tfor ( let i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\t\tconst face = faces[ i ];\n\t\t\t\t\t\tf3( face[ 0 ] + vlen * steps, face[ 1 ] + vlen * steps, face[ 2 ] + vlen * steps );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 0 );\n\n\t\t\t}\n\n\t\t\t// Create faces for the z-sides of the shape\n\n\t\t\tfunction buildSideFaces() {\n\n\t\t\t\tconst start = verticesArray.length / 3;\n\t\t\t\tlet layeroffset = 0;\n\t\t\t\tsidewalls( contour, layeroffset );\n\t\t\t\tlayeroffset += contour.length;\n\n\t\t\t\tfor ( let h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\t\tconst ahole = holes[ h ];\n\t\t\t\t\tsidewalls( ahole, layeroffset );\n\n\t\t\t\t\t//, true\n\t\t\t\t\tlayeroffset += ahole.length;\n\n\t\t\t\t}\n\n\n\t\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 1 );\n\n\n\t\t\t}\n\n\t\t\tfunction sidewalls( contour, layeroffset ) {\n\n\t\t\t\tlet i = contour.length;\n\n\t\t\t\twhile ( -- i >= 0 ) {\n\n\t\t\t\t\tconst j = i;\n\t\t\t\t\tlet k = i - 1;\n\t\t\t\t\tif ( k < 0 ) k = contour.length - 1;\n\n\t\t\t\t\t//console.log('b', i,j, i-1, k,vertices.length);\n\n\t\t\t\t\tfor ( let s = 0, sl = ( steps + bevelSegments * 2 ); s < sl; s ++ ) {\n\n\t\t\t\t\t\tconst slen1 = vlen * s;\n\t\t\t\t\t\tconst slen2 = vlen * ( s + 1 );\n\n\t\t\t\t\t\tconst a = layeroffset + j + slen1,\n\t\t\t\t\t\t\tb = layeroffset + k + slen1,\n\t\t\t\t\t\t\tc = layeroffset + k + slen2,\n\t\t\t\t\t\t\td = layeroffset + j + slen2;\n\n\t\t\t\t\t\tf4( a, b, c, d );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tfunction v( x, y, z ) {\n\n\t\t\t\tplaceholder.push( x );\n\t\t\t\tplaceholder.push( y );\n\t\t\t\tplaceholder.push( z );\n\n\t\t\t}\n\n\n\t\t\tfunction f3( a, b, c ) {\n\n\t\t\t\taddVertex( a );\n\t\t\t\taddVertex( b );\n\t\t\t\taddVertex( c );\n\n\t\t\t\tconst nextIndex = verticesArray.length / 3;\n\t\t\t\tconst uvs = uvgen.generateTopUV( scope, verticesArray, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\t\taddUV( uvs[ 0 ] );\n\t\t\t\taddUV( uvs[ 1 ] );\n\t\t\t\taddUV( uvs[ 2 ] );\n\n\t\t\t}\n\n\t\t\tfunction f4( a, b, c, d ) {\n\n\t\t\t\taddVertex( a );\n\t\t\t\taddVertex( b );\n\t\t\t\taddVertex( d );\n\n\t\t\t\taddVertex( b );\n\t\t\t\taddVertex( c );\n\t\t\t\taddVertex( d );\n\n\n\t\t\t\tconst nextIndex = verticesArray.length / 3;\n\t\t\t\tconst uvs = uvgen.generateSideWallUV( scope, verticesArray, nextIndex - 6, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\t\taddUV( uvs[ 0 ] );\n\t\t\t\taddUV( uvs[ 1 ] );\n\t\t\t\taddUV( uvs[ 3 ] );\n\n\t\t\t\taddUV( uvs[ 1 ] );\n\t\t\t\taddUV( uvs[ 2 ] );\n\t\t\t\taddUV( uvs[ 3 ] );\n\n\t\t\t}\n\n\t\t\tfunction addVertex( index ) {\n\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 0 ] );\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 1 ] );\n\t\t\t\tverticesArray.push( placeholder[ index * 3 + 2 ] );\n\n\t\t\t}\n\n\n\t\t\tfunction addUV( vector2 ) {\n\n\t\t\t\tuvArray.push( vector2.x );\n\t\t\t\tuvArray.push( vector2.y );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tconst shapes = this.parameters.shapes;\n\t\tconst options = this.parameters.options;\n\n\t\treturn toJSON$1( shapes, options, data );\n\n\t}\n\n\tstatic fromJSON( data, shapes ) {\n\n\t\tconst geometryShapes = [];\n\n\t\tfor ( let j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\tconst shape = shapes[ data.shapes[ j ] ];\n\n\t\t\tgeometryShapes.push( shape );\n\n\t\t}\n\n\t\tconst extrudePath = data.options.extrudePath;\n\n\t\tif ( extrudePath !== undefined ) {\n\n\t\t\tdata.options.extrudePath = new Curves[ extrudePath.type ]().fromJSON( extrudePath );\n\n\t\t}\n\n\t\treturn new ExtrudeGeometry( geometryShapes, data.options );\n\n\t}\n\n}\n\nconst WorldUVGenerator = {\n\n\tgenerateTopUV: function ( geometry, vertices, indexA, indexB, indexC ) {\n\n\t\tconst a_x = vertices[ indexA * 3 ];\n\t\tconst a_y = vertices[ indexA * 3 + 1 ];\n\t\tconst b_x = vertices[ indexB * 3 ];\n\t\tconst b_y = vertices[ indexB * 3 + 1 ];\n\t\tconst c_x = vertices[ indexC * 3 ];\n\t\tconst c_y = vertices[ indexC * 3 + 1 ];\n\n\t\treturn [\n\t\t\tnew Vector2( a_x, a_y ),\n\t\t\tnew Vector2( b_x, b_y ),\n\t\t\tnew Vector2( c_x, c_y )\n\t\t];\n\n\t},\n\n\tgenerateSideWallUV: function ( geometry, vertices, indexA, indexB, indexC, indexD ) {\n\n\t\tconst a_x = vertices[ indexA * 3 ];\n\t\tconst a_y = vertices[ indexA * 3 + 1 ];\n\t\tconst a_z = vertices[ indexA * 3 + 2 ];\n\t\tconst b_x = vertices[ indexB * 3 ];\n\t\tconst b_y = vertices[ indexB * 3 + 1 ];\n\t\tconst b_z = vertices[ indexB * 3 + 2 ];\n\t\tconst c_x = vertices[ indexC * 3 ];\n\t\tconst c_y = vertices[ indexC * 3 + 1 ];\n\t\tconst c_z = vertices[ indexC * 3 + 2 ];\n\t\tconst d_x = vertices[ indexD * 3 ];\n\t\tconst d_y = vertices[ indexD * 3 + 1 ];\n\t\tconst d_z = vertices[ indexD * 3 + 2 ];\n\n\t\tif ( Math.abs( a_y - b_y ) < Math.abs( a_x - b_x ) ) {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_x, 1 - a_z ),\n\t\t\t\tnew Vector2( b_x, 1 - b_z ),\n\t\t\t\tnew Vector2( c_x, 1 - c_z ),\n\t\t\t\tnew Vector2( d_x, 1 - d_z )\n\t\t\t];\n\n\t\t} else {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_y, 1 - a_z ),\n\t\t\t\tnew Vector2( b_y, 1 - b_z ),\n\t\t\t\tnew Vector2( c_y, 1 - c_z ),\n\t\t\t\tnew Vector2( d_y, 1 - d_z )\n\t\t\t];\n\n\t\t}\n\n\t}\n\n};\n\nfunction toJSON$1( shapes, options, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\tif ( options.extrudePath !== undefined ) data.options.extrudePath = options.extrudePath.toJSON();\n\n\treturn data;\n\n}\n\nclass IcosahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\n\t\tconst vertices = [\n\t\t\t- 1, t, 0, \t1, t, 0, \t- 1, - t, 0, \t1, - t, 0,\n\t\t\t0, - 1, t, \t0, 1, t,\t0, - 1, - t, \t0, 1, - t,\n\t\t\tt, 0, - 1, \tt, 0, 1, \t- t, 0, - 1, \t- t, 0, 1\n\t\t];\n\n\t\tconst indices = [\n\t\t\t0, 11, 5, \t0, 5, 1, \t0, 1, 7, \t0, 7, 10, \t0, 10, 11,\n\t\t\t1, 5, 9, \t5, 11, 4,\t11, 10, 2,\t10, 7, 6,\t7, 1, 8,\n\t\t\t3, 9, 4, \t3, 4, 2,\t3, 2, 6,\t3, 6, 8,\t3, 8, 9,\n\t\t\t4, 9, 5, \t2, 4, 11,\t6, 2, 10,\t8, 6, 7,\t9, 8, 1\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'IcosahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new IcosahedronGeometry( data.radius, data.detail );\n\n\t}\n\n}\n\nclass LatheGeometry extends BufferGeometry {\n\n\tconstructor( points, segments = 12, phiStart = 0, phiLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'LatheGeometry';\n\n\t\tthis.parameters = {\n\t\t\tpoints: points,\n\t\t\tsegments: segments,\n\t\t\tphiStart: phiStart,\n\t\t\tphiLength: phiLength\n\t\t};\n\n\t\tsegments = Math.floor( segments );\n\n\t\t// clamp phiLength so it's in range of [ 0, 2PI ]\n\n\t\tphiLength = clamp( phiLength, 0, Math.PI * 2 );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst inverseSegments = 1.0 / segments;\n\t\tconst vertex = new Vector3();\n\t\tconst uv = new Vector2();\n\n\t\t// generate vertices and uvs\n\n\t\tfor ( let i = 0; i <= segments; i ++ ) {\n\n\t\t\tconst phi = phiStart + i * inverseSegments * phiLength;\n\n\t\t\tconst sin = Math.sin( phi );\n\t\t\tconst cos = Math.cos( phi );\n\n\t\t\tfor ( let j = 0; j <= ( points.length - 1 ); j ++ ) {\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = points[ j ].x * sin;\n\t\t\t\tvertex.y = points[ j ].y;\n\t\t\t\tvertex.z = points[ j ].x * cos;\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuv.x = i / segments;\n\t\t\t\tuv.y = j / ( points.length - 1 );\n\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\n\t\t\t}\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let i = 0; i < segments; i ++ ) {\n\n\t\t\tfor ( let j = 0; j < ( points.length - 1 ); j ++ ) {\n\n\t\t\t\tconst base = j + i * points.length;\n\n\t\t\t\tconst a = base;\n\t\t\t\tconst b = base + points.length;\n\t\t\t\tconst c = base + points.length + 1;\n\t\t\t\tconst d = base + 1;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\t// generate normals\n\n\t\tthis.computeVertexNormals();\n\n\t\t// if the geometry is closed, we need to average the normals along the seam.\n\t\t// because the corresponding vertices are identical (but still have different UVs).\n\n\t\tif ( phiLength === Math.PI * 2 ) {\n\n\t\t\tconst normals = this.attributes.normal.array;\n\t\t\tconst n1 = new Vector3();\n\t\t\tconst n2 = new Vector3();\n\t\t\tconst n = new Vector3();\n\n\t\t\t// this is the buffer offset for the last line of vertices\n\n\t\t\tconst base = segments * points.length * 3;\n\n\t\t\tfor ( let i = 0, j = 0; i < points.length; i ++, j += 3 ) {\n\n\t\t\t\t// select the normal of the vertex in the first line\n\n\t\t\t\tn1.x = normals[ j + 0 ];\n\t\t\t\tn1.y = normals[ j + 1 ];\n\t\t\t\tn1.z = normals[ j + 2 ];\n\n\t\t\t\t// select the normal of the vertex in the last line\n\n\t\t\t\tn2.x = normals[ base + j + 0 ];\n\t\t\t\tn2.y = normals[ base + j + 1 ];\n\t\t\t\tn2.z = normals[ base + j + 2 ];\n\n\t\t\t\t// average normals\n\n\t\t\t\tn.addVectors( n1, n2 ).normalize();\n\n\t\t\t\t// assign the new values to both normals\n\n\t\t\t\tnormals[ j + 0 ] = normals[ base + j + 0 ] = n.x;\n\t\t\t\tnormals[ j + 1 ] = normals[ base + j + 1 ] = n.y;\n\t\t\t\tnormals[ j + 2 ] = normals[ base + j + 2 ] = n.z;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new LatheGeometry( data.points, data.segments, data.phiStart, data.phiLength );\n\n\t}\n\n}\n\nclass OctahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst vertices = [\n\t\t\t1, 0, 0, \t- 1, 0, 0,\t0, 1, 0,\n\t\t\t0, - 1, 0, \t0, 0, 1,\t0, 0, - 1\n\t\t];\n\n\t\tconst indices = [\n\t\t\t0, 2, 4,\t0, 4, 3,\t0, 3, 5,\n\t\t\t0, 5, 2,\t1, 2, 5,\t1, 5, 3,\n\t\t\t1, 3, 4,\t1, 4, 2\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'OctahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new OctahedronGeometry( data.radius, data.detail );\n\n\t}\n\n}\n\n/**\n * Parametric Surfaces Geometry\n * based on the brilliant article by @prideout https://prideout.net/blog/old/blog/index.html@p=44.html\n */\n\nclass ParametricGeometry extends BufferGeometry {\n\n\tconstructor( func, slices, stacks ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ParametricGeometry';\n\n\t\tthis.parameters = {\n\t\t\tfunc: func,\n\t\t\tslices: slices,\n\t\t\tstacks: stacks\n\t\t};\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\tconst EPS = 0.00001;\n\n\t\tconst normal = new Vector3();\n\n\t\tconst p0 = new Vector3(), p1 = new Vector3();\n\t\tconst pu = new Vector3(), pv = new Vector3();\n\n\t\tif ( func.length < 3 ) {\n\n\t\t\tconsole.error( 'THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.' );\n\n\t\t}\n\n\t\t// generate vertices, normals and uvs\n\n\t\tconst sliceCount = slices + 1;\n\n\t\tfor ( let i = 0; i <= stacks; i ++ ) {\n\n\t\t\tconst v = i / stacks;\n\n\t\t\tfor ( let j = 0; j <= slices; j ++ ) {\n\n\t\t\t\tconst u = j / slices;\n\n\t\t\t\t// vertex\n\n\t\t\t\tfunc( u, v, p0 );\n\t\t\t\tvertices.push( p0.x, p0.y, p0.z );\n\n\t\t\t\t// normal\n\n\t\t\t\t// approximate tangent vectors via finite differences\n\n\t\t\t\tif ( u - EPS >= 0 ) {\n\n\t\t\t\t\tfunc( u - EPS, v, p1 );\n\t\t\t\t\tpu.subVectors( p0, p1 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfunc( u + EPS, v, p1 );\n\t\t\t\t\tpu.subVectors( p1, p0 );\n\n\t\t\t\t}\n\n\t\t\t\tif ( v - EPS >= 0 ) {\n\n\t\t\t\t\tfunc( u, v - EPS, p1 );\n\t\t\t\t\tpv.subVectors( p0, p1 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfunc( u, v + EPS, p1 );\n\t\t\t\t\tpv.subVectors( p1, p0 );\n\n\t\t\t\t}\n\n\t\t\t\t// cross product of tangent vectors returns surface normal\n\n\t\t\t\tnormal.crossVectors( pu, pv ).normalize();\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( u, v );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( let i = 0; i < stacks; i ++ ) {\n\n\t\t\tfor ( let j = 0; j < slices; j ++ ) {\n\n\t\t\t\tconst a = i * sliceCount + j;\n\t\t\t\tconst b = i * sliceCount + j + 1;\n\t\t\t\tconst c = ( i + 1 ) * sliceCount + j + 1;\n\t\t\t\tconst d = ( i + 1 ) * sliceCount + j;\n\n\t\t\t\t// faces one and two\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n}\n\nclass RingGeometry extends BufferGeometry {\n\n\tconstructor( innerRadius = 0.5, outerRadius = 1, thetaSegments = 8, phiSegments = 1, thetaStart = 0, thetaLength = Math.PI * 2 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'RingGeometry';\n\n\t\tthis.parameters = {\n\t\t\tinnerRadius: innerRadius,\n\t\t\touterRadius: outerRadius,\n\t\t\tthetaSegments: thetaSegments,\n\t\t\tphiSegments: phiSegments,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\tthetaSegments = Math.max( 3, thetaSegments );\n\t\tphiSegments = Math.max( 1, phiSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// some helper variables\n\n\t\tlet radius = innerRadius;\n\t\tconst radiusStep = ( ( outerRadius - innerRadius ) / phiSegments );\n\t\tconst vertex = new Vector3();\n\t\tconst uv = new Vector2();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let j = 0; j <= phiSegments; j ++ ) {\n\n\t\t\tfor ( let i = 0; i <= thetaSegments; i ++ ) {\n\n\t\t\t\t// values are generate from the inside of the ring to the outside\n\n\t\t\t\tconst segment = thetaStart + i / thetaSegments * thetaLength;\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t\t// uv\n\n\t\t\t\tuv.x = ( vertex.x / outerRadius + 1 ) / 2;\n\t\t\t\tuv.y = ( vertex.y / outerRadius + 1 ) / 2;\n\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t}\n\n\t\t\t// increase the radius for next row of vertices\n\n\t\t\tradius += radiusStep;\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let j = 0; j < phiSegments; j ++ ) {\n\n\t\t\tconst thetaSegmentLevel = j * ( thetaSegments + 1 );\n\n\t\t\tfor ( let i = 0; i < thetaSegments; i ++ ) {\n\n\t\t\t\tconst segment = i + thetaSegmentLevel;\n\n\t\t\t\tconst a = segment;\n\t\t\t\tconst b = segment + thetaSegments + 1;\n\t\t\t\tconst c = segment + thetaSegments + 2;\n\t\t\t\tconst d = segment + 1;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new RingGeometry( data.innerRadius, data.outerRadius, data.thetaSegments, data.phiSegments, data.thetaStart, data.thetaLength );\n\n\t}\n\n}\n\nclass ShapeGeometry extends BufferGeometry {\n\n\tconstructor( shapes, curveSegments = 12 ) {\n\n\t\tsuper();\n\t\tthis.type = 'ShapeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tshapes: shapes,\n\t\t\tcurveSegments: curveSegments\n\t\t};\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tlet groupStart = 0;\n\t\tlet groupCount = 0;\n\n\t\t// allow single and array values for \"shapes\" parameter\n\n\t\tif ( Array.isArray( shapes ) === false ) {\n\n\t\t\taddShape( shapes );\n\n\t\t} else {\n\n\t\t\tfor ( let i = 0; i < shapes.length; i ++ ) {\n\n\t\t\t\taddShape( shapes[ i ] );\n\n\t\t\t\tthis.addGroup( groupStart, groupCount, i ); // enables MultiMaterial support\n\n\t\t\t\tgroupStart += groupCount;\n\t\t\t\tgroupCount = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\n\t\t// helper functions\n\n\t\tfunction addShape( shape ) {\n\n\t\t\tconst indexOffset = vertices.length / 3;\n\t\t\tconst points = shape.extractPoints( curveSegments );\n\n\t\t\tlet shapeVertices = points.shape;\n\t\t\tconst shapeHoles = points.holes;\n\n\t\t\t// check direction of vertices\n\n\t\t\tif ( ShapeUtils.isClockWise( shapeVertices ) === false ) {\n\n\t\t\t\tshapeVertices = shapeVertices.reverse();\n\n\t\t\t}\n\n\t\t\tfor ( let i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\t\tconst shapeHole = shapeHoles[ i ];\n\n\t\t\t\tif ( ShapeUtils.isClockWise( shapeHole ) === true ) {\n\n\t\t\t\t\tshapeHoles[ i ] = shapeHole.reverse();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconst faces = ShapeUtils.triangulateShape( shapeVertices, shapeHoles );\n\n\t\t\t// join vertices of inner and outer paths to a single array\n\n\t\t\tfor ( let i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\t\tconst shapeHole = shapeHoles[ i ];\n\t\t\t\tshapeVertices = shapeVertices.concat( shapeHole );\n\n\t\t\t}\n\n\t\t\t// vertices, normals, uvs\n\n\t\t\tfor ( let i = 0, l = shapeVertices.length; i < l; i ++ ) {\n\n\t\t\t\tconst vertex = shapeVertices[ i ];\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, 0 );\n\t\t\t\tnormals.push( 0, 0, 1 );\n\t\t\t\tuvs.push( vertex.x, vertex.y ); // world uvs\n\n\t\t\t}\n\n\t\t\t// incides\n\n\t\t\tfor ( let i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\t\tconst face = faces[ i ];\n\n\t\t\t\tconst a = face[ 0 ] + indexOffset;\n\t\t\t\tconst b = face[ 1 ] + indexOffset;\n\t\t\t\tconst c = face[ 2 ] + indexOffset;\n\n\t\t\t\tindices.push( a, b, c );\n\t\t\t\tgroupCount += 3;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tconst shapes = this.parameters.shapes;\n\n\t\treturn toJSON( shapes, data );\n\n\t}\n\n\tstatic fromJSON( data, shapes ) {\n\n\t\tconst geometryShapes = [];\n\n\t\tfor ( let j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\tconst shape = shapes[ data.shapes[ j ] ];\n\n\t\t\tgeometryShapes.push( shape );\n\n\t\t}\n\n\t\treturn new ShapeGeometry( geometryShapes, data.curveSegments );\n\n\t}\n\n}\n\nfunction toJSON( shapes, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( let i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tconst shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\treturn data;\n\n}\n\nclass SphereGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, widthSegments = 32, heightSegments = 16, phiStart = 0, phiLength = Math.PI * 2, thetaStart = 0, thetaLength = Math.PI ) {\n\n\t\tsuper();\n\t\tthis.type = 'SphereGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tphiStart: phiStart,\n\t\t\tphiLength: phiLength,\n\t\t\tthetaStart: thetaStart,\n\t\t\tthetaLength: thetaLength\n\t\t};\n\n\t\twidthSegments = Math.max( 3, Math.floor( widthSegments ) );\n\t\theightSegments = Math.max( 2, Math.floor( heightSegments ) );\n\n\t\tconst thetaEnd = Math.min( thetaStart + thetaLength, Math.PI );\n\n\t\tlet index = 0;\n\t\tconst grid = [];\n\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let iy = 0; iy <= heightSegments; iy ++ ) {\n\n\t\t\tconst verticesRow = [];\n\n\t\t\tconst v = iy / heightSegments;\n\n\t\t\t// special case for the poles\n\n\t\t\tlet uOffset = 0;\n\n\t\t\tif ( iy == 0 && thetaStart == 0 ) {\n\n\t\t\t\tuOffset = 0.5 / widthSegments;\n\n\t\t\t} else if ( iy == heightSegments && thetaEnd == Math.PI ) {\n\n\t\t\t\tuOffset = - 0.5 / widthSegments;\n\n\t\t\t}\n\n\t\t\tfor ( let ix = 0; ix <= widthSegments; ix ++ ) {\n\n\t\t\t\tconst u = ix / widthSegments;\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = - radius * Math.cos( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\t\t\t\tvertex.y = radius * Math.cos( thetaStart + v * thetaLength );\n\t\t\t\tvertex.z = radius * Math.sin( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormal.copy( vertex ).normalize();\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( u + uOffset, 1 - v );\n\n\t\t\t\tverticesRow.push( index ++ );\n\n\t\t\t}\n\n\t\t\tgrid.push( verticesRow );\n\n\t\t}\n\n\t\t// indices\n\n\t\tfor ( let iy = 0; iy < heightSegments; iy ++ ) {\n\n\t\t\tfor ( let ix = 0; ix < widthSegments; ix ++ ) {\n\n\t\t\t\tconst a = grid[ iy ][ ix + 1 ];\n\t\t\t\tconst b = grid[ iy ][ ix ];\n\t\t\t\tconst c = grid[ iy + 1 ][ ix ];\n\t\t\t\tconst d = grid[ iy + 1 ][ ix + 1 ];\n\n\t\t\t\tif ( iy !== 0 || thetaStart > 0 ) indices.push( a, b, d );\n\t\t\t\tif ( iy !== heightSegments - 1 || thetaEnd < Math.PI ) indices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new SphereGeometry( data.radius, data.widthSegments, data.heightSegments, data.phiStart, data.phiLength, data.thetaStart, data.thetaLength );\n\n\t}\n\n}\n\nclass TetrahedronGeometry extends PolyhedronGeometry {\n\n\tconstructor( radius = 1, detail = 0 ) {\n\n\t\tconst vertices = [\n\t\t\t1, 1, 1, \t- 1, - 1, 1, \t- 1, 1, - 1, \t1, - 1, - 1\n\t\t];\n\n\t\tconst indices = [\n\t\t\t2, 1, 0, \t0, 3, 2,\t1, 3, 0,\t2, 3, 1\n\t\t];\n\n\t\tsuper( vertices, indices, radius, detail );\n\n\t\tthis.type = 'TetrahedronGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\tdetail: detail\n\t\t};\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new TetrahedronGeometry( data.radius, data.detail );\n\n\t}\n\n}\n\n/**\n * Text = 3D Text\n *\n * parameters = {\n *  font: <THREE.Font>, // font\n *\n *  size: <float>, // size of the text\n *  height: <float>, // thickness to extrude text\n *  curveSegments: <int>, // number of points on the curves\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into text bevel goes\n *  bevelSize: <float>, // how far from text outline (including bevelOffset) is bevel\n *  bevelOffset: <float> // how far from text outline does bevel start\n * }\n */\n\nclass TextGeometry extends ExtrudeGeometry {\n\n\tconstructor( text, parameters = {} ) {\n\n\t\tconst font = parameters.font;\n\n\t\tif ( ! ( font && font.isFont ) ) {\n\n\t\t\tconsole.error( 'THREE.TextGeometry: font parameter is not an instance of THREE.Font.' );\n\t\t\treturn new BufferGeometry();\n\n\t\t}\n\n\t\tconst shapes = font.generateShapes( text, parameters.size );\n\n\t\t// translate parameters to ExtrudeGeometry API\n\n\t\tparameters.depth = parameters.height !== undefined ? parameters.height : 50;\n\n\t\t// defaults\n\n\t\tif ( parameters.bevelThickness === undefined ) parameters.bevelThickness = 10;\n\t\tif ( parameters.bevelSize === undefined ) parameters.bevelSize = 8;\n\t\tif ( parameters.bevelEnabled === undefined ) parameters.bevelEnabled = false;\n\n\t\tsuper( shapes, parameters );\n\n\t\tthis.type = 'TextGeometry';\n\n\t}\n\n}\n\nclass TorusGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, tube = 0.4, radialSegments = 8, tubularSegments = 6, arc = Math.PI * 2 ) {\n\n\t\tsuper();\n\t\tthis.type = 'TorusGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\ttube: tube,\n\t\t\tradialSegments: radialSegments,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tarc: arc\n\t\t};\n\n\t\tradialSegments = Math.floor( radialSegments );\n\t\ttubularSegments = Math.floor( tubularSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst center = new Vector3();\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\tfor ( let i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\t\tconst u = i / tubularSegments * arc;\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = ( radius + tube * Math.cos( v ) ) * Math.cos( u );\n\t\t\t\tvertex.y = ( radius + tube * Math.cos( v ) ) * Math.sin( u );\n\t\t\t\tvertex.z = tube * Math.sin( v );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tcenter.x = radius * Math.cos( u );\n\t\t\t\tcenter.y = radius * Math.sin( u );\n\t\t\t\tnormal.subVectors( vertex, center ).normalize();\n\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( i / tubularSegments );\n\t\t\t\tuvs.push( j / radialSegments );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( let j = 1; j <= radialSegments; j ++ ) {\n\n\t\t\tfor ( let i = 1; i <= tubularSegments; i ++ ) {\n\n\t\t\t\t// indices\n\n\t\t\t\tconst a = ( tubularSegments + 1 ) * j + i - 1;\n\t\t\t\tconst b = ( tubularSegments + 1 ) * ( j - 1 ) + i - 1;\n\t\t\t\tconst c = ( tubularSegments + 1 ) * ( j - 1 ) + i;\n\t\t\t\tconst d = ( tubularSegments + 1 ) * j + i;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new TorusGeometry( data.radius, data.tube, data.radialSegments, data.tubularSegments, data.arc );\n\n\t}\n\n}\n\nclass TorusKnotGeometry extends BufferGeometry {\n\n\tconstructor( radius = 1, tube = 0.4, tubularSegments = 64, radialSegments = 8, p = 2, q = 3 ) {\n\n\t\tsuper();\n\t\tthis.type = 'TorusKnotGeometry';\n\n\t\tthis.parameters = {\n\t\t\tradius: radius,\n\t\t\ttube: tube,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tradialSegments: radialSegments,\n\t\t\tp: p,\n\t\t\tq: q\n\t\t};\n\n\t\ttubularSegments = Math.floor( tubularSegments );\n\t\tradialSegments = Math.floor( radialSegments );\n\n\t\t// buffers\n\n\t\tconst indices = [];\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\n\t\t// helper variables\n\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\n\t\tconst P1 = new Vector3();\n\t\tconst P2 = new Vector3();\n\n\t\tconst B = new Vector3();\n\t\tconst T = new Vector3();\n\t\tconst N = new Vector3();\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( let i = 0; i <= tubularSegments; ++ i ) {\n\n\t\t\t// the radian \"u\" is used to calculate the position on the torus curve of the current tubular segement\n\n\t\t\tconst u = i / tubularSegments * p * Math.PI * 2;\n\n\t\t\t// now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\n\t\t\t// these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\n\n\t\t\tcalculatePositionOnCurve( u, p, q, radius, P1 );\n\t\t\tcalculatePositionOnCurve( u + 0.01, p, q, radius, P2 );\n\n\t\t\t// calculate orthonormal basis\n\n\t\t\tT.subVectors( P2, P1 );\n\t\t\tN.addVectors( P2, P1 );\n\t\t\tB.crossVectors( T, N );\n\t\t\tN.crossVectors( B, T );\n\n\t\t\t// normalize B, N. T can be ignored, we don't use it\n\n\t\t\tB.normalize();\n\t\t\tN.normalize();\n\n\t\t\tfor ( let j = 0; j <= radialSegments; ++ j ) {\n\n\t\t\t\t// now calculate the vertices. they are nothing more than an extrusion of the torus curve.\n\t\t\t\t// because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\n\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\t\t\t\tconst cx = - tube * Math.cos( v );\n\t\t\t\tconst cy = tube * Math.sin( v );\n\n\t\t\t\t// now calculate the final vertex position.\n\t\t\t\t// first we orient the extrusion with our basis vectos, then we add it to the current position on the curve\n\n\t\t\t\tvertex.x = P1.x + ( cx * N.x + cy * B.x );\n\t\t\t\tvertex.y = P1.y + ( cx * N.y + cy * B.y );\n\t\t\t\tvertex.z = P1.z + ( cx * N.z + cy * B.z );\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\n\n\t\t\t\tnormal.subVectors( vertex, P1 ).normalize();\n\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( i / tubularSegments );\n\t\t\t\tuvs.push( j / radialSegments );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( let j = 1; j <= tubularSegments; j ++ ) {\n\n\t\t\tfor ( let i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t\t// indices\n\n\t\t\t\tconst a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\t\tconst b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\t\tconst c = ( radialSegments + 1 ) * j + i;\n\t\t\t\tconst d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\t// this function calculates the current position on the torus curve\n\n\t\tfunction calculatePositionOnCurve( u, p, q, radius, position ) {\n\n\t\t\tconst cu = Math.cos( u );\n\t\t\tconst su = Math.sin( u );\n\t\t\tconst quOverP = q / p * u;\n\t\t\tconst cs = Math.cos( quOverP );\n\n\t\t\tposition.x = radius * ( 2 + cs ) * 0.5 * cu;\n\t\t\tposition.y = radius * ( 2 + cs ) * su * 0.5;\n\t\t\tposition.z = radius * Math.sin( quOverP ) * 0.5;\n\n\t\t}\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\treturn new TorusKnotGeometry( data.radius, data.tube, data.tubularSegments, data.radialSegments, data.p, data.q );\n\n\t}\n\n}\n\nclass TubeGeometry extends BufferGeometry {\n\n\tconstructor( path, tubularSegments = 64, radius = 1, radialSegments = 8, closed = false ) {\n\n\t\tsuper();\n\t\tthis.type = 'TubeGeometry';\n\n\t\tthis.parameters = {\n\t\t\tpath: path,\n\t\t\ttubularSegments: tubularSegments,\n\t\t\tradius: radius,\n\t\t\tradialSegments: radialSegments,\n\t\t\tclosed: closed\n\t\t};\n\n\t\tconst frames = path.computeFrenetFrames( tubularSegments, closed );\n\n\t\t// expose internals\n\n\t\tthis.tangents = frames.tangents;\n\t\tthis.normals = frames.normals;\n\t\tthis.binormals = frames.binormals;\n\n\t\t// helper variables\n\n\t\tconst vertex = new Vector3();\n\t\tconst normal = new Vector3();\n\t\tconst uv = new Vector2();\n\t\tlet P = new Vector3();\n\n\t\t// buffer\n\n\t\tconst vertices = [];\n\t\tconst normals = [];\n\t\tconst uvs = [];\n\t\tconst indices = [];\n\n\t\t// create buffer data\n\n\t\tgenerateBufferData();\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\t// functions\n\n\t\tfunction generateBufferData() {\n\n\t\t\tfor ( let i = 0; i < tubularSegments; i ++ ) {\n\n\t\t\t\tgenerateSegment( i );\n\n\t\t\t}\n\n\t\t\t// if the geometry is not closed, generate the last row of vertices and normals\n\t\t\t// at the regular position on the given path\n\t\t\t//\n\t\t\t// if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\n\n\t\t\tgenerateSegment( ( closed === false ) ? tubularSegments : 0 );\n\n\t\t\t// uvs are generated in a separate function.\n\t\t\t// this makes it easy compute correct values for closed geometries\n\n\t\t\tgenerateUVs();\n\n\t\t\t// finally create faces\n\n\t\t\tgenerateIndices();\n\n\t\t}\n\n\t\tfunction generateSegment( i ) {\n\n\t\t\t// we use getPointAt to sample evenly distributed points from the given path\n\n\t\t\tP = path.getPointAt( i / tubularSegments, P );\n\n\t\t\t// retrieve corresponding normal and binormal\n\n\t\t\tconst N = frames.normals[ i ];\n\t\t\tconst B = frames.binormals[ i ];\n\n\t\t\t// generate normals and vertices for the current segment\n\n\t\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\t\tconst v = j / radialSegments * Math.PI * 2;\n\n\t\t\t\tconst sin = Math.sin( v );\n\t\t\t\tconst cos = - Math.cos( v );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormal.x = ( cos * N.x + sin * B.x );\n\t\t\t\tnormal.y = ( cos * N.y + sin * B.y );\n\t\t\t\tnormal.z = ( cos * N.z + sin * B.z );\n\t\t\t\tnormal.normalize();\n\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = P.x + radius * normal.x;\n\t\t\t\tvertex.y = P.y + radius * normal.y;\n\t\t\t\tvertex.z = P.z + radius * normal.z;\n\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction generateIndices() {\n\n\t\t\tfor ( let j = 1; j <= tubularSegments; j ++ ) {\n\n\t\t\t\tfor ( let i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t\t\tconst a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\t\t\tconst b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\t\t\tconst c = ( radialSegments + 1 ) * j + i;\n\t\t\t\t\tconst d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction generateUVs() {\n\n\t\t\tfor ( let i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\t\tfor ( let j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\t\t\tuv.x = i / tubularSegments;\n\t\t\t\t\tuv.y = j / radialSegments;\n\n\t\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.path = this.parameters.path.toJSON();\n\n\t\treturn data;\n\n\t}\n\n\tstatic fromJSON( data ) {\n\n\t\t// This only works for built-in curves (e.g. CatmullRomCurve3).\n\t\t// User defined curves or instances of CurvePath will not be deserialized.\n\t\treturn new TubeGeometry(\n\t\t\tnew Curves[ data.path.type ]().fromJSON( data.path ),\n\t\t\tdata.tubularSegments,\n\t\t\tdata.radius,\n\t\t\tdata.radialSegments,\n\t\t\tdata.closed\n\t\t);\n\n\t}\n\n}\n\nclass WireframeGeometry extends BufferGeometry {\n\n\tconstructor( geometry ) {\n\n\t\tsuper();\n\t\tthis.type = 'WireframeGeometry';\n\n\t\tif ( geometry.isGeometry === true ) {\n\n\t\t\tconsole.error( 'THREE.WireframeGeometry no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t// buffer\n\n\t\tconst vertices = [];\n\t\tconst edges = new Set();\n\n\t\t// helper variables\n\n\t\tconst start = new Vector3();\n\t\tconst end = new Vector3();\n\n\t\tif ( geometry.index !== null ) {\n\n\t\t\t// indexed BufferGeometry\n\n\t\t\tconst position = geometry.attributes.position;\n\t\t\tconst indices = geometry.index;\n\t\t\tlet groups = geometry.groups;\n\n\t\t\tif ( groups.length === 0 ) {\n\n\t\t\t\tgroups = [ { start: 0, count: indices.count, materialIndex: 0 } ];\n\n\t\t\t}\n\n\t\t\t// create a data structure that contains all eges without duplicates\n\n\t\t\tfor ( let o = 0, ol = groups.length; o < ol; ++ o ) {\n\n\t\t\t\tconst group = groups[ o ];\n\n\t\t\t\tconst groupStart = group.start;\n\t\t\t\tconst groupCount = group.count;\n\n\t\t\t\tfor ( let i = groupStart, l = ( groupStart + groupCount ); i < l; i += 3 ) {\n\n\t\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t\tconst index1 = indices.getX( i + j );\n\t\t\t\t\t\tconst index2 = indices.getX( i + ( j + 1 ) % 3 );\n\n\t\t\t\t\t\tstart.fromBufferAttribute( position, index1 );\n\t\t\t\t\t\tend.fromBufferAttribute( position, index2 );\n\n\t\t\t\t\t\tif ( isUniqueEdge( start, end, edges ) === true ) {\n\n\t\t\t\t\t\t\tvertices.push( start.x, start.y, start.z );\n\t\t\t\t\t\t\tvertices.push( end.x, end.y, end.z );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// non-indexed BufferGeometry\n\n\t\t\tconst position = geometry.attributes.position;\n\n\t\t\tfor ( let i = 0, l = ( position.count / 3 ); i < l; i ++ ) {\n\n\t\t\t\tfor ( let j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t// three edges per triangle, an edge is represented as (index1, index2)\n\t\t\t\t\t// e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\n\n\t\t\t\t\tconst index1 = 3 * i + j;\n\t\t\t\t\tconst index2 = 3 * i + ( ( j + 1 ) % 3 );\n\n\t\t\t\t\tstart.fromBufferAttribute( position, index1 );\n\t\t\t\t\tend.fromBufferAttribute( position, index2 );\n\n\t\t\t\t\tif ( isUniqueEdge( start, end, edges ) === true ) {\n\n\t\t\t\t\t\tvertices.push( start.x, start.y, start.z );\n\t\t\t\t\t\tvertices.push( end.x, end.y, end.z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// build geometry\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n\t}\n\n}\n\nfunction isUniqueEdge( start, end, edges ) {\n\n\tconst hash1 = `${start.x},${start.y},${start.z}-${end.x},${end.y},${end.z}`;\n\tconst hash2 = `${end.x},${end.y},${end.z}-${start.x},${start.y},${start.z}`; // coincident edge\n\n\tif ( edges.has( hash1 ) === true || edges.has( hash2 ) === true ) {\n\n\t\treturn false;\n\n\t} else {\n\n\t\tedges.add( hash1, hash2 );\n\t\treturn true;\n\n\t}\n\n}\n\nvar Geometries = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tBoxGeometry: BoxGeometry,\n\tBoxBufferGeometry: BoxGeometry,\n\tCircleGeometry: CircleGeometry,\n\tCircleBufferGeometry: CircleGeometry,\n\tConeGeometry: ConeGeometry,\n\tConeBufferGeometry: ConeGeometry,\n\tCylinderGeometry: CylinderGeometry,\n\tCylinderBufferGeometry: CylinderGeometry,\n\tDodecahedronGeometry: DodecahedronGeometry,\n\tDodecahedronBufferGeometry: DodecahedronGeometry,\n\tEdgesGeometry: EdgesGeometry,\n\tExtrudeGeometry: ExtrudeGeometry,\n\tExtrudeBufferGeometry: ExtrudeGeometry,\n\tIcosahedronGeometry: IcosahedronGeometry,\n\tIcosahedronBufferGeometry: IcosahedronGeometry,\n\tLatheGeometry: LatheGeometry,\n\tLatheBufferGeometry: LatheGeometry,\n\tOctahedronGeometry: OctahedronGeometry,\n\tOctahedronBufferGeometry: OctahedronGeometry,\n\tParametricGeometry: ParametricGeometry,\n\tParametricBufferGeometry: ParametricGeometry,\n\tPlaneGeometry: PlaneGeometry,\n\tPlaneBufferGeometry: PlaneGeometry,\n\tPolyhedronGeometry: PolyhedronGeometry,\n\tPolyhedronBufferGeometry: PolyhedronGeometry,\n\tRingGeometry: RingGeometry,\n\tRingBufferGeometry: RingGeometry,\n\tShapeGeometry: ShapeGeometry,\n\tShapeBufferGeometry: ShapeGeometry,\n\tSphereGeometry: SphereGeometry,\n\tSphereBufferGeometry: SphereGeometry,\n\tTetrahedronGeometry: TetrahedronGeometry,\n\tTetrahedronBufferGeometry: TetrahedronGeometry,\n\tTextGeometry: TextGeometry,\n\tTextBufferGeometry: TextGeometry,\n\tTorusGeometry: TorusGeometry,\n\tTorusBufferGeometry: TorusGeometry,\n\tTorusKnotGeometry: TorusKnotGeometry,\n\tTorusKnotBufferGeometry: TorusKnotGeometry,\n\tTubeGeometry: TubeGeometry,\n\tTubeBufferGeometry: TubeGeometry,\n\tWireframeGeometry: WireframeGeometry\n});\n\n/**\n * parameters = {\n *  color: <THREE.Color>\n * }\n */\n\nclass ShadowMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'ShadowMaterial';\n\n\t\tthis.color = new Color( 0x000000 );\n\t\tthis.transparent = true;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\treturn this;\n\n\t}\n\n}\n\nShadowMaterial.prototype.isShadowMaterial = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  roughness: <float>,\n *  metalness: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  roughnessMap: new THREE.Texture( <Image> ),\n *\n *  metalnessMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  envMapIntensity: <float>\n *\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  flatShading: <bool>\n * }\n */\n\nclass MeshStandardMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.defines = { 'STANDARD': '' };\n\n\t\tthis.type = 'MeshStandardMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\t\tthis.roughness = 1.0;\n\t\tthis.metalness = 0.0;\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.roughnessMap = null;\n\n\t\tthis.metalnessMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.envMapIntensity = 1.0;\n\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.flatShading = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.defines = { 'STANDARD': '' };\n\n\t\tthis.color.copy( source.color );\n\t\tthis.roughness = source.roughness;\n\t\tthis.metalness = source.metalness;\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.roughnessMap = source.roughnessMap;\n\n\t\tthis.metalnessMap = source.metalnessMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.envMapIntensity = source.envMapIntensity;\n\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshStandardMaterial.prototype.isMeshStandardMaterial = true;\n\n/**\n * parameters = {\n *  clearcoat: <float>,\n *  clearcoatMap: new THREE.Texture( <Image> ),\n *  clearcoatRoughness: <float>,\n *  clearcoatRoughnessMap: new THREE.Texture( <Image> ),\n *  clearcoatNormalScale: <Vector2>,\n *  clearcoatNormalMap: new THREE.Texture( <Image> ),\n *\n *  ior: <float>,\n *  reflectivity: <float>,\n *\n *  sheenTint: <Color>,\n *\n *  transmission: <float>,\n *  transmissionMap: new THREE.Texture( <Image> ),\n *\n *  thickness: <float>,\n *  thicknessMap: new THREE.Texture( <Image> ),\n *  attenuationDistance: <float>,\n *  attenuationTint: <Color>,\n *\n *  specularIntensity: <float>,\n *  specularIntensityhMap: new THREE.Texture( <Image> ),\n *  specularTint: <Color>,\n *  specularTintMap: new THREE.Texture( <Image> )\n * }\n */\n\nclass MeshPhysicalMaterial extends MeshStandardMaterial {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.defines = {\n\n\t\t\t'STANDARD': '',\n\t\t\t'PHYSICAL': ''\n\n\t\t};\n\n\t\tthis.type = 'MeshPhysicalMaterial';\n\n\t\tthis.clearcoatMap = null;\n\t\tthis.clearcoatRoughness = 0.0;\n\t\tthis.clearcoatRoughnessMap = null;\n\t\tthis.clearcoatNormalScale = new Vector2( 1, 1 );\n\t\tthis.clearcoatNormalMap = null;\n\n\t\tthis.ior = 1.5;\n\n\t\tObject.defineProperty( this, 'reflectivity', {\n\t\t\tget: function () {\n\n\t\t\t\treturn ( clamp( 2.5 * ( this.ior - 1 ) / ( this.ior + 1 ), 0, 1 ) );\n\n\t\t\t},\n\t\t\tset: function ( reflectivity ) {\n\n\t\t\t\tthis.ior = ( 1 + 0.4 * reflectivity ) / ( 1 - 0.4 * reflectivity );\n\n\t\t\t}\n\t\t} );\n\n\t\tthis.sheenTint = new Color( 0x000000 );\n\n\t\tthis.transmission = 0.0;\n\t\tthis.transmissionMap = null;\n\n\t\tthis.thickness = 0.01;\n\t\tthis.thicknessMap = null;\n\t\tthis.attenuationDistance = 0.0;\n\t\tthis.attenuationTint = new Color( 1, 1, 1 );\n\n\t\tthis.specularIntensity = 1.0;\n\t\tthis.specularIntensityMap = null;\n\t\tthis.specularTint = new Color( 1, 1, 1 );\n\t\tthis.specularTintMap = null;\n\n\t\tthis._clearcoat = 0;\n\t\tthis._transmission = 0;\n\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tget clearcoat() {\n\n\t\treturn this._clearcoat;\n\n\t}\n\n\tset clearcoat( value ) {\n\n\t\tif ( this._clearcoat > 0 !== value > 0 ) {\n\n\t\t\tthis.version ++;\n\n\t\t}\n\n\t\tthis._clearcoat = value;\n\n\t}\n\n\tget transmission() {\n\n\t\treturn this._transmission;\n\n\t}\n\n\tset transmission( value ) {\n\n\t\tif ( this._transmission > 0 !== value > 0 ) {\n\n\t\t\tthis.version ++;\n\n\t\t}\n\n\t\tthis._transmission = value;\n\n\t}\n\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.defines = {\n\n\t\t\t'STANDARD': '',\n\t\t\t'PHYSICAL': ''\n\n\t\t};\n\n\t\tthis.clearcoat = source.clearcoat;\n\t\tthis.clearcoatMap = source.clearcoatMap;\n\t\tthis.clearcoatRoughness = source.clearcoatRoughness;\n\t\tthis.clearcoatRoughnessMap = source.clearcoatRoughnessMap;\n\t\tthis.clearcoatNormalMap = source.clearcoatNormalMap;\n\t\tthis.clearcoatNormalScale.copy( source.clearcoatNormalScale );\n\n\t\tthis.ior = source.ior;\n\n\t\tthis.sheenTint.copy( source.sheenTint );\n\n\t\tthis.transmission = source.transmission;\n\t\tthis.transmissionMap = source.transmissionMap;\n\n\t\tthis.thickness = source.thickness;\n\t\tthis.thicknessMap = source.thicknessMap;\n\t\tthis.attenuationDistance = source.attenuationDistance;\n\t\tthis.attenuationTint.copy( source.attenuationTint );\n\n\t\tthis.specularIntensity = source.specularIntensity;\n\t\tthis.specularIntensityMap = source.specularIntensityMap;\n\t\tthis.specularTint.copy( source.specularTint );\n\t\tthis.specularTintMap = source.specularTintMap;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshPhysicalMaterial.prototype.isMeshPhysicalMaterial = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  specular: <hex>,\n *  shininess: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.MultiplyOperation,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  flatShading: <bool>\n * }\n */\n\nclass MeshPhongMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshPhongMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\t\tthis.specular = new Color( 0x111111 );\n\t\tthis.shininess = 30;\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.specularMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.combine = MultiplyOperation;\n\t\tthis.reflectivity = 1;\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.flatShading = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\t\tthis.specular.copy( source.specular );\n\t\tthis.shininess = source.shininess;\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.specularMap = source.specularMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.combine = source.combine;\n\t\tthis.reflectivity = source.reflectivity;\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshPhongMaterial.prototype.isMeshPhongMaterial = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *\n *  map: new THREE.Texture( <Image> ),\n *  gradientMap: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n * }\n */\n\nclass MeshToonMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.defines = { 'TOON': '' };\n\n\t\tthis.type = 'MeshToonMaterial';\n\n\t\tthis.color = new Color( 0xffffff );\n\n\t\tthis.map = null;\n\t\tthis.gradientMap = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\t\tthis.gradientMap = source.gradientMap;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshToonMaterial.prototype.isMeshToonMaterial = true;\n\n/**\n * parameters = {\n *  opacity: <float>,\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n *\n *  flatShading: <bool>\n * }\n */\n\nclass MeshNormalMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshNormalMaterial';\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\n\t\tthis.fog = false;\n\n\t\tthis.flatShading = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshNormalMaterial.prototype.isMeshNormalMaterial = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n * }\n */\n\nclass MeshLambertMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'MeshLambertMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\n\t\tthis.map = null;\n\n\t\tthis.lightMap = null;\n\t\tthis.lightMapIntensity = 1.0;\n\n\t\tthis.aoMap = null;\n\t\tthis.aoMapIntensity = 1.0;\n\n\t\tthis.emissive = new Color( 0x000000 );\n\t\tthis.emissiveIntensity = 1.0;\n\t\tthis.emissiveMap = null;\n\n\t\tthis.specularMap = null;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.envMap = null;\n\t\tthis.combine = MultiplyOperation;\n\t\tthis.reflectivity = 1;\n\t\tthis.refractionRatio = 0.98;\n\n\t\tthis.wireframe = false;\n\t\tthis.wireframeLinewidth = 1;\n\t\tthis.wireframeLinecap = 'round';\n\t\tthis.wireframeLinejoin = 'round';\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.map = source.map;\n\n\t\tthis.lightMap = source.lightMap;\n\t\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\t\tthis.aoMap = source.aoMap;\n\t\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\t\tthis.emissive.copy( source.emissive );\n\t\tthis.emissiveMap = source.emissiveMap;\n\t\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\t\tthis.specularMap = source.specularMap;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.envMap = source.envMap;\n\t\tthis.combine = source.combine;\n\t\tthis.reflectivity = source.reflectivity;\n\t\tthis.refractionRatio = source.refractionRatio;\n\n\t\tthis.wireframe = source.wireframe;\n\t\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\t\tthis.wireframeLinecap = source.wireframeLinecap;\n\t\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshLambertMaterial.prototype.isMeshLambertMaterial = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  matcap: new THREE.Texture( <Image> ),\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  flatShading: <bool>\n * }\n */\n\nclass MeshMatcapMaterial extends Material {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.defines = { 'MATCAP': '' };\n\n\t\tthis.type = 'MeshMatcapMaterial';\n\n\t\tthis.color = new Color( 0xffffff ); // diffuse\n\n\t\tthis.matcap = null;\n\n\t\tthis.map = null;\n\n\t\tthis.bumpMap = null;\n\t\tthis.bumpScale = 1;\n\n\t\tthis.normalMap = null;\n\t\tthis.normalMapType = TangentSpaceNormalMap;\n\t\tthis.normalScale = new Vector2( 1, 1 );\n\n\t\tthis.displacementMap = null;\n\t\tthis.displacementScale = 1;\n\t\tthis.displacementBias = 0;\n\n\t\tthis.alphaMap = null;\n\n\t\tthis.flatShading = false;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.defines = { 'MATCAP': '' };\n\n\t\tthis.color.copy( source.color );\n\n\t\tthis.matcap = source.matcap;\n\n\t\tthis.map = source.map;\n\n\t\tthis.bumpMap = source.bumpMap;\n\t\tthis.bumpScale = source.bumpScale;\n\n\t\tthis.normalMap = source.normalMap;\n\t\tthis.normalMapType = source.normalMapType;\n\t\tthis.normalScale.copy( source.normalScale );\n\n\t\tthis.displacementMap = source.displacementMap;\n\t\tthis.displacementScale = source.displacementScale;\n\t\tthis.displacementBias = source.displacementBias;\n\n\t\tthis.alphaMap = source.alphaMap;\n\n\t\tthis.flatShading = source.flatShading;\n\n\t\treturn this;\n\n\t}\n\n}\n\nMeshMatcapMaterial.prototype.isMeshMatcapMaterial = true;\n\n/**\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *\n *  scale: <float>,\n *  dashSize: <float>,\n *  gapSize: <float>\n * }\n */\n\nclass LineDashedMaterial extends LineBasicMaterial {\n\n\tconstructor( parameters ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'LineDashedMaterial';\n\n\t\tthis.scale = 1;\n\t\tthis.dashSize = 3;\n\t\tthis.gapSize = 1;\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.scale = source.scale;\n\t\tthis.dashSize = source.dashSize;\n\t\tthis.gapSize = source.gapSize;\n\n\t\treturn this;\n\n\t}\n\n}\n\nLineDashedMaterial.prototype.isLineDashedMaterial = true;\n\nvar Materials = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tShadowMaterial: ShadowMaterial,\n\tSpriteMaterial: SpriteMaterial,\n\tRawShaderMaterial: RawShaderMaterial,\n\tShaderMaterial: ShaderMaterial,\n\tPointsMaterial: PointsMaterial,\n\tMeshPhysicalMaterial: MeshPhysicalMaterial,\n\tMeshStandardMaterial: MeshStandardMaterial,\n\tMeshPhongMaterial: MeshPhongMaterial,\n\tMeshToonMaterial: MeshToonMaterial,\n\tMeshNormalMaterial: MeshNormalMaterial,\n\tMeshLambertMaterial: MeshLambertMaterial,\n\tMeshDepthMaterial: MeshDepthMaterial,\n\tMeshDistanceMaterial: MeshDistanceMaterial,\n\tMeshBasicMaterial: MeshBasicMaterial,\n\tMeshMatcapMaterial: MeshMatcapMaterial,\n\tLineDashedMaterial: LineDashedMaterial,\n\tLineBasicMaterial: LineBasicMaterial,\n\tMaterial: Material\n});\n\nconst AnimationUtils = {\n\n\t// same as Array.prototype.slice, but also works on typed arrays\n\tarraySlice: function ( array, from, to ) {\n\n\t\tif ( AnimationUtils.isTypedArray( array ) ) {\n\n\t\t\t// in ios9 array.subarray(from, undefined) will return empty array\n\t\t\t// but array.subarray(from) or array.subarray(from, len) is correct\n\t\t\treturn new array.constructor( array.subarray( from, to !== undefined ? to : array.length ) );\n\n\t\t}\n\n\t\treturn array.slice( from, to );\n\n\t},\n\n\t// converts an array to a specific type\n\tconvertArray: function ( array, type, forceClone ) {\n\n\t\tif ( ! array || // let 'undefined' and 'null' pass\n\t\t\t! forceClone && array.constructor === type ) return array;\n\n\t\tif ( typeof type.BYTES_PER_ELEMENT === 'number' ) {\n\n\t\t\treturn new type( array ); // create typed array\n\n\t\t}\n\n\t\treturn Array.prototype.slice.call( array ); // create Array\n\n\t},\n\n\tisTypedArray: function ( object ) {\n\n\t\treturn ArrayBuffer.isView( object ) &&\n\t\t\t! ( object instanceof DataView );\n\n\t},\n\n\t// returns an array by which times and values can be sorted\n\tgetKeyframeOrder: function ( times ) {\n\n\t\tfunction compareTime( i, j ) {\n\n\t\t\treturn times[ i ] - times[ j ];\n\n\t\t}\n\n\t\tconst n = times.length;\n\t\tconst result = new Array( n );\n\t\tfor ( let i = 0; i !== n; ++ i ) result[ i ] = i;\n\n\t\tresult.sort( compareTime );\n\n\t\treturn result;\n\n\t},\n\n\t// uses the array previously returned by 'getKeyframeOrder' to sort data\n\tsortedArray: function ( values, stride, order ) {\n\n\t\tconst nValues = values.length;\n\t\tconst result = new values.constructor( nValues );\n\n\t\tfor ( let i = 0, dstOffset = 0; dstOffset !== nValues; ++ i ) {\n\n\t\t\tconst srcOffset = order[ i ] * stride;\n\n\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tresult[ dstOffset ++ ] = values[ srcOffset + j ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\t// function for parsing AOS keyframe formats\n\tflattenJSON: function ( jsonKeys, times, values, valuePropertyName ) {\n\n\t\tlet i = 1, key = jsonKeys[ 0 ];\n\n\t\twhile ( key !== undefined && key[ valuePropertyName ] === undefined ) {\n\n\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t}\n\n\t\tif ( key === undefined ) return; // no data\n\n\t\tlet value = key[ valuePropertyName ];\n\t\tif ( value === undefined ) return; // no data\n\n\t\tif ( Array.isArray( value ) ) {\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push.apply( values, value ); // push all elements\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else if ( value.toArray !== undefined ) {\n\n\t\t\t// ...assume THREE.Math-ish\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalue.toArray( values, values.length );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else {\n\n\t\t\t// otherwise push as-is\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push( value );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t}\n\n\t},\n\n\tsubclip: function ( sourceClip, name, startFrame, endFrame, fps = 30 ) {\n\n\t\tconst clip = sourceClip.clone();\n\n\t\tclip.name = name;\n\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tconst track = clip.tracks[ i ];\n\t\t\tconst valueSize = track.getValueSize();\n\n\t\t\tconst times = [];\n\t\t\tconst values = [];\n\n\t\t\tfor ( let j = 0; j < track.times.length; ++ j ) {\n\n\t\t\t\tconst frame = track.times[ j ] * fps;\n\n\t\t\t\tif ( frame < startFrame || frame >= endFrame ) continue;\n\n\t\t\t\ttimes.push( track.times[ j ] );\n\n\t\t\t\tfor ( let k = 0; k < valueSize; ++ k ) {\n\n\t\t\t\t\tvalues.push( track.values[ j * valueSize + k ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( times.length === 0 ) continue;\n\n\t\t\ttrack.times = AnimationUtils.convertArray( times, track.times.constructor );\n\t\t\ttrack.values = AnimationUtils.convertArray( values, track.values.constructor );\n\n\t\t\ttracks.push( track );\n\n\t\t}\n\n\t\tclip.tracks = tracks;\n\n\t\t// find minimum .times value across all tracks in the trimmed clip\n\n\t\tlet minStartTime = Infinity;\n\n\t\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tif ( minStartTime > clip.tracks[ i ].times[ 0 ] ) {\n\n\t\t\t\tminStartTime = clip.tracks[ i ].times[ 0 ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// shift all tracks such that clip begins at t=0\n\n\t\tfor ( let i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tclip.tracks[ i ].shift( - 1 * minStartTime );\n\n\t\t}\n\n\t\tclip.resetDuration();\n\n\t\treturn clip;\n\n\t},\n\n\tmakeClipAdditive: function ( targetClip, referenceFrame = 0, referenceClip = targetClip, fps = 30 ) {\n\n\t\tif ( fps <= 0 ) fps = 30;\n\n\t\tconst numTracks = referenceClip.tracks.length;\n\t\tconst referenceTime = referenceFrame / fps;\n\n\t\t// Make each track's values relative to the values at the reference frame\n\t\tfor ( let i = 0; i < numTracks; ++ i ) {\n\n\t\t\tconst referenceTrack = referenceClip.tracks[ i ];\n\t\t\tconst referenceTrackType = referenceTrack.ValueTypeName;\n\n\t\t\t// Skip this track if it's non-numeric\n\t\t\tif ( referenceTrackType === 'bool' || referenceTrackType === 'string' ) continue;\n\n\t\t\t// Find the track in the target clip whose name and type matches the reference track\n\t\t\tconst targetTrack = targetClip.tracks.find( function ( track ) {\n\n\t\t\t\treturn track.name === referenceTrack.name\n\t\t\t\t\t&& track.ValueTypeName === referenceTrackType;\n\n\t\t\t} );\n\n\t\t\tif ( targetTrack === undefined ) continue;\n\n\t\t\tlet referenceOffset = 0;\n\t\t\tconst referenceValueSize = referenceTrack.getValueSize();\n\n\t\t\tif ( referenceTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline ) {\n\n\t\t\t\treferenceOffset = referenceValueSize / 3;\n\n\t\t\t}\n\n\t\t\tlet targetOffset = 0;\n\t\t\tconst targetValueSize = targetTrack.getValueSize();\n\n\t\t\tif ( targetTrack.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline ) {\n\n\t\t\t\ttargetOffset = targetValueSize / 3;\n\n\t\t\t}\n\n\t\t\tconst lastIndex = referenceTrack.times.length - 1;\n\t\t\tlet referenceValue;\n\n\t\t\t// Find the value to subtract out of the track\n\t\t\tif ( referenceTime <= referenceTrack.times[ 0 ] ) {\n\n\t\t\t\t// Reference frame is earlier than the first keyframe, so just use the first keyframe\n\t\t\t\tconst startIndex = referenceOffset;\n\t\t\t\tconst endIndex = referenceValueSize - referenceOffset;\n\t\t\t\treferenceValue = AnimationUtils.arraySlice( referenceTrack.values, startIndex, endIndex );\n\n\t\t\t} else if ( referenceTime >= referenceTrack.times[ lastIndex ] ) {\n\n\t\t\t\t// Reference frame is after the last keyframe, so just use the last keyframe\n\t\t\t\tconst startIndex = lastIndex * referenceValueSize + referenceOffset;\n\t\t\t\tconst endIndex = startIndex + referenceValueSize - referenceOffset;\n\t\t\t\treferenceValue = AnimationUtils.arraySlice( referenceTrack.values, startIndex, endIndex );\n\n\t\t\t} else {\n\n\t\t\t\t// Interpolate to the reference value\n\t\t\t\tconst interpolant = referenceTrack.createInterpolant();\n\t\t\t\tconst startIndex = referenceOffset;\n\t\t\t\tconst endIndex = referenceValueSize - referenceOffset;\n\t\t\t\tinterpolant.evaluate( referenceTime );\n\t\t\t\treferenceValue = AnimationUtils.arraySlice( interpolant.resultBuffer, startIndex, endIndex );\n\n\t\t\t}\n\n\t\t\t// Conjugate the quaternion\n\t\t\tif ( referenceTrackType === 'quaternion' ) {\n\n\t\t\t\tconst referenceQuat = new Quaternion().fromArray( referenceValue ).normalize().conjugate();\n\t\t\t\treferenceQuat.toArray( referenceValue );\n\n\t\t\t}\n\n\t\t\t// Subtract the reference value from all of the track values\n\n\t\t\tconst numTimes = targetTrack.times.length;\n\t\t\tfor ( let j = 0; j < numTimes; ++ j ) {\n\n\t\t\t\tconst valueStart = j * targetValueSize + targetOffset;\n\n\t\t\t\tif ( referenceTrackType === 'quaternion' ) {\n\n\t\t\t\t\t// Multiply the conjugate for quaternion track types\n\t\t\t\t\tQuaternion.multiplyQuaternionsFlat(\n\t\t\t\t\t\ttargetTrack.values,\n\t\t\t\t\t\tvalueStart,\n\t\t\t\t\t\treferenceValue,\n\t\t\t\t\t\t0,\n\t\t\t\t\t\ttargetTrack.values,\n\t\t\t\t\t\tvalueStart\n\t\t\t\t\t);\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconst valueEnd = targetValueSize - targetOffset * 2;\n\n\t\t\t\t\t// Subtract each value for all other numeric track types\n\t\t\t\t\tfor ( let k = 0; k < valueEnd; ++ k ) {\n\n\t\t\t\t\t\ttargetTrack.values[ valueStart + k ] -= referenceValue[ k ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\ttargetClip.blendMode = AdditiveAnimationBlendMode;\n\n\t\treturn targetClip;\n\n\t}\n\n};\n\n/**\n * Abstract base class of interpolants over parametric samples.\n *\n * The parameter domain is one dimensional, typically the time or a path\n * along a curve defined by the data.\n *\n * The sample values can have any dimensionality and derived classes may\n * apply special interpretations to the data.\n *\n * This class provides the interval seek in a Template Method, deferring\n * the actual interpolation to derived classes.\n *\n * Time complexity is O(1) for linear access crossing at most two points\n * and O(log N) for random access, where N is the number of positions.\n *\n * References:\n *\n * \t\thttp://www.oodesign.com/template-method-pattern.html\n *\n */\n\nclass Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tthis.parameterPositions = parameterPositions;\n\t\tthis._cachedIndex = 0;\n\n\t\tthis.resultBuffer = resultBuffer !== undefined ?\n\t\t\tresultBuffer : new sampleValues.constructor( sampleSize );\n\t\tthis.sampleValues = sampleValues;\n\t\tthis.valueSize = sampleSize;\n\n\t\tthis.settings = null;\n\t\tthis.DefaultSettings_ = {};\n\n\t}\n\n\tevaluate( t ) {\n\n\t\tconst pp = this.parameterPositions;\n\t\tlet i1 = this._cachedIndex,\n\t\t\tt1 = pp[ i1 ],\n\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\tvalidate_interval: {\n\n\t\t\tseek: {\n\n\t\t\t\tlet right;\n\n\t\t\t\tlinear_scan: {\n\n\t\t\t\t\t//- See http://jsperf.com/comparison-to-undefined/3\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\n\t\t\t\t\t//- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\n\t\t\t\t\tforward_scan: if ( ! ( t < t1 ) ) {\n\n\t\t\t\t\t\tfor ( let giveUpAt = i1 + 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\t\t\t\tif ( t < t0 ) break forward_scan;\n\n\t\t\t\t\t\t\t\t// after end\n\n\t\t\t\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\t\t\t\treturn this.afterEnd_( i1 - 1, t, t0 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt0 = t1;\n\t\t\t\t\t\t\tt1 = pp[ ++ i1 ];\n\n\t\t\t\t\t\t\tif ( t < t1 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the right side of the index\n\t\t\t\t\t\tright = pp.length;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\n\t\t\t\t\tif ( ! ( t >= t0 ) ) {\n\n\t\t\t\t\t\t// looping?\n\n\t\t\t\t\t\tconst t1global = pp[ 1 ];\n\n\t\t\t\t\t\tif ( t < t1global ) {\n\n\t\t\t\t\t\t\ti1 = 2; // + 1, using the scan for the details\n\t\t\t\t\t\t\tt0 = t1global;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// linear reverse scan\n\n\t\t\t\t\t\tfor ( let giveUpAt = i1 - 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\t\t\t\t// before start\n\n\t\t\t\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt1 = t0;\n\t\t\t\t\t\t\tt0 = pp[ -- i1 - 1 ];\n\n\t\t\t\t\t\t\tif ( t >= t0 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the left side of the index\n\t\t\t\t\t\tright = i1;\n\t\t\t\t\t\ti1 = 0;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// the interval is valid\n\n\t\t\t\t\tbreak validate_interval;\n\n\t\t\t\t} // linear scan\n\n\t\t\t\t// binary search\n\n\t\t\t\twhile ( i1 < right ) {\n\n\t\t\t\t\tconst mid = ( i1 + right ) >>> 1;\n\n\t\t\t\t\tif ( t < pp[ mid ] ) {\n\n\t\t\t\t\t\tright = mid;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ti1 = mid + 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tt1 = pp[ i1 ];\n\t\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\t\t\t// check boundary cases, again\n\n\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t}\n\n\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\treturn this.afterEnd_( i1 - 1, t0, t );\n\n\t\t\t\t}\n\n\t\t\t} // seek\n\n\t\t\tthis._cachedIndex = i1;\n\n\t\t\tthis.intervalChanged_( i1, t0, t1 );\n\n\t\t} // validate_interval\n\n\t\treturn this.interpolate_( i1, t0, t, t1 );\n\n\t}\n\n\tgetSettings_() {\n\n\t\treturn this.settings || this.DefaultSettings_;\n\n\t}\n\n\tcopySampleValue_( index ) {\n\n\t\t// copies a sample value to the result buffer\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = index * stride;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\t// Template methods for derived classes:\n\n\tinterpolate_( /* i1, t0, t, t1 */ ) {\n\n\t\tthrow new Error( 'call to abstract method' );\n\t\t// implementations shall return this.resultBuffer\n\n\t}\n\n\tintervalChanged_( /* i1, t0, t1 */ ) {\n\n\t\t// empty\n\n\t}\n\n}\n\n// ALIAS DEFINITIONS\n\nInterpolant.prototype.beforeStart_ = Interpolant.prototype.copySampleValue_;\nInterpolant.prototype.afterEnd_ = Interpolant.prototype.copySampleValue_;\n\n/**\n * Fast and simple cubic spline interpolant.\n *\n * It was derived from a Hermitian construction setting the first derivative\n * at each sample position to the linear slope between neighboring positions\n * over their parameter interval.\n */\n\nclass CubicInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t\tthis._weightPrev = - 0;\n\t\tthis._offsetPrev = - 0;\n\t\tthis._weightNext = - 0;\n\t\tthis._offsetNext = - 0;\n\n\t\tthis.DefaultSettings_ = {\n\n\t\t\tendingStart: ZeroCurvatureEnding,\n\t\t\tendingEnd: ZeroCurvatureEnding\n\n\t\t};\n\n\t}\n\n\tintervalChanged_( i1, t0, t1 ) {\n\n\t\tconst pp = this.parameterPositions;\n\t\tlet iPrev = i1 - 2,\n\t\t\tiNext = i1 + 1,\n\n\t\t\ttPrev = pp[ iPrev ],\n\t\t\ttNext = pp[ iNext ];\n\n\t\tif ( tPrev === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingStart ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(t0) = 0\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = 2 * t0 - t1;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiPrev = pp.length - 2;\n\t\t\t\t\ttPrev = t0 + pp[ iPrev ] - pp[ iPrev + 1 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(t0) = 0 a.k.a. Natural Spline\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = t1;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tNext === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingEnd ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(tN) = 0\n\t\t\t\t\tiNext = i1;\n\t\t\t\t\ttNext = 2 * t1 - t0;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiNext = 1;\n\t\t\t\t\ttNext = t1 + pp[ 1 ] - pp[ 0 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(tN) = 0, a.k.a. Natural Spline\n\t\t\t\t\tiNext = i1 - 1;\n\t\t\t\t\ttNext = t0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst halfDt = ( t1 - t0 ) * 0.5,\n\t\t\tstride = this.valueSize;\n\n\t\tthis._weightPrev = halfDt / ( t0 - tPrev );\n\t\tthis._weightNext = halfDt / ( tNext - t1 );\n\t\tthis._offsetPrev = iPrev * stride;\n\t\tthis._offsetNext = iNext * stride;\n\n\t}\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\to1 = i1 * stride,\t\to0 = o1 - stride,\n\t\t\toP = this._offsetPrev, \toN = this._offsetNext,\n\t\t\twP = this._weightPrev,\twN = this._weightNext,\n\n\t\t\tp = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tpp = p * p,\n\t\t\tppp = pp * p;\n\n\t\t// evaluate polynomials\n\n\t\tconst sP = - wP * ppp + 2 * wP * pp - wP * p;\n\t\tconst s0 = ( 1 + wP ) * ppp + ( - 1.5 - 2 * wP ) * pp + ( - 0.5 + wP ) * p + 1;\n\t\tconst s1 = ( - 1 - wN ) * ppp + ( 1.5 + wN ) * pp + 0.5 * p;\n\t\tconst sN = wN * ppp - wN * pp;\n\n\t\t// combine data linearly\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tsP * values[ oP + i ] +\n\t\t\t\t\ts0 * values[ o0 + i ] +\n\t\t\t\t\ts1 * values[ o1 + i ] +\n\t\t\t\t\tsN * values[ oN + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\nclass LinearInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\toffset1 = i1 * stride,\n\t\t\toffset0 = offset1 - stride,\n\n\t\t\tweight1 = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tweight0 = 1 - weight1;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tvalues[ offset0 + i ] * weight0 +\n\t\t\t\t\tvalues[ offset1 + i ] * weight1;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\n/**\n *\n * Interpolant that evaluates to the sample value at the position preceeding\n * the parameter.\n */\n\nclass DiscreteInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tinterpolate_( i1 /*, t0, t, t1 */ ) {\n\n\t\treturn this.copySampleValue_( i1 - 1 );\n\n\t}\n\n}\n\nclass KeyframeTrack {\n\n\tconstructor( name, times, values, interpolation ) {\n\n\t\tif ( name === undefined ) throw new Error( 'THREE.KeyframeTrack: track name is undefined' );\n\t\tif ( times === undefined || times.length === 0 ) throw new Error( 'THREE.KeyframeTrack: no keyframes in track named ' + name );\n\n\t\tthis.name = name;\n\n\t\tthis.times = AnimationUtils.convertArray( times, this.TimeBufferType );\n\t\tthis.values = AnimationUtils.convertArray( values, this.ValueBufferType );\n\n\t\tthis.setInterpolation( interpolation || this.DefaultInterpolation );\n\n\t}\n\n\t// Serialization (in static context, because of constructor invocation\n\t// and automatic invocation of .toJSON):\n\n\tstatic toJSON( track ) {\n\n\t\tconst trackType = track.constructor;\n\n\t\tlet json;\n\n\t\t// derived classes can define a static toJSON method\n\t\tif ( trackType.toJSON !== this.toJSON ) {\n\n\t\t\tjson = trackType.toJSON( track );\n\n\t\t} else {\n\n\t\t\t// by default, we assume the data can be serialized as-is\n\t\t\tjson = {\n\n\t\t\t\t'name': track.name,\n\t\t\t\t'times': AnimationUtils.convertArray( track.times, Array ),\n\t\t\t\t'values': AnimationUtils.convertArray( track.values, Array )\n\n\t\t\t};\n\n\t\t\tconst interpolation = track.getInterpolation();\n\n\t\t\tif ( interpolation !== track.DefaultInterpolation ) {\n\n\t\t\t\tjson.interpolation = interpolation;\n\n\t\t\t}\n\n\t\t}\n\n\t\tjson.type = track.ValueTypeName; // mandatory\n\n\t\treturn json;\n\n\t}\n\n\tInterpolantFactoryMethodDiscrete( result ) {\n\n\t\treturn new DiscreteInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n\tInterpolantFactoryMethodLinear( result ) {\n\n\t\treturn new LinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n\tInterpolantFactoryMethodSmooth( result ) {\n\n\t\treturn new CubicInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n\tsetInterpolation( interpolation ) {\n\n\t\tlet factoryMethod;\n\n\t\tswitch ( interpolation ) {\n\n\t\t\tcase InterpolateDiscrete:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodDiscrete;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateLinear:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodLinear;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateSmooth:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodSmooth;\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( factoryMethod === undefined ) {\n\n\t\t\tconst message = 'unsupported interpolation for ' +\n\t\t\t\tthis.ValueTypeName + ' keyframe track named ' + this.name;\n\n\t\t\tif ( this.createInterpolant === undefined ) {\n\n\t\t\t\t// fall back to default, unless the default itself is messed up\n\t\t\t\tif ( interpolation !== this.DefaultInterpolation ) {\n\n\t\t\t\t\tthis.setInterpolation( this.DefaultInterpolation );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( message ); // fatal, in this case\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconsole.warn( 'THREE.KeyframeTrack:', message );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tthis.createInterpolant = factoryMethod;\n\n\t\treturn this;\n\n\t}\n\n\tgetInterpolation() {\n\n\t\tswitch ( this.createInterpolant ) {\n\n\t\t\tcase this.InterpolantFactoryMethodDiscrete:\n\n\t\t\t\treturn InterpolateDiscrete;\n\n\t\t\tcase this.InterpolantFactoryMethodLinear:\n\n\t\t\t\treturn InterpolateLinear;\n\n\t\t\tcase this.InterpolantFactoryMethodSmooth:\n\n\t\t\t\treturn InterpolateSmooth;\n\n\t\t}\n\n\t}\n\n\tgetValueSize() {\n\n\t\treturn this.values.length / this.times.length;\n\n\t}\n\n\t// move all keyframes either forwards or backwards in time\n\tshift( timeOffset ) {\n\n\t\tif ( timeOffset !== 0.0 ) {\n\n\t\t\tconst times = this.times;\n\n\t\t\tfor ( let i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] += timeOffset;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// scale all keyframe times by a factor (useful for frame <-> seconds conversions)\n\tscale( timeScale ) {\n\n\t\tif ( timeScale !== 1.0 ) {\n\n\t\t\tconst times = this.times;\n\n\t\t\tfor ( let i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] *= timeScale;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// removes keyframes before and after animation without changing any values within the range [startTime, endTime].\n\t// IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\n\ttrim( startTime, endTime ) {\n\n\t\tconst times = this.times,\n\t\t\tnKeys = times.length;\n\n\t\tlet from = 0,\n\t\t\tto = nKeys - 1;\n\n\t\twhile ( from !== nKeys && times[ from ] < startTime ) {\n\n\t\t\t++ from;\n\n\t\t}\n\n\t\twhile ( to !== - 1 && times[ to ] > endTime ) {\n\n\t\t\t-- to;\n\n\t\t}\n\n\t\t++ to; // inclusive -> exclusive bound\n\n\t\tif ( from !== 0 || to !== nKeys ) {\n\n\t\t\t// empty tracks are forbidden, so keep at least one keyframe\n\t\t\tif ( from >= to ) {\n\n\t\t\t\tto = Math.max( to, 1 );\n\t\t\t\tfrom = to - 1;\n\n\t\t\t}\n\n\t\t\tconst stride = this.getValueSize();\n\t\t\tthis.times = AnimationUtils.arraySlice( times, from, to );\n\t\t\tthis.values = AnimationUtils.arraySlice( this.values, from * stride, to * stride );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\n\tvalidate() {\n\n\t\tlet valid = true;\n\n\t\tconst valueSize = this.getValueSize();\n\t\tif ( valueSize - Math.floor( valueSize ) !== 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Invalid value size in track.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tconst times = this.times,\n\t\t\tvalues = this.values,\n\n\t\t\tnKeys = times.length;\n\n\t\tif ( nKeys === 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Track is empty.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tlet prevTime = null;\n\n\t\tfor ( let i = 0; i !== nKeys; i ++ ) {\n\n\t\t\tconst currTime = times[ i ];\n\n\t\t\tif ( typeof currTime === 'number' && isNaN( currTime ) ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Time is not a valid number.', this, i, currTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( prevTime !== null && prevTime > currTime ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Out of order keys.', this, i, currTime, prevTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tprevTime = currTime;\n\n\t\t}\n\n\t\tif ( values !== undefined ) {\n\n\t\t\tif ( AnimationUtils.isTypedArray( values ) ) {\n\n\t\t\t\tfor ( let i = 0, n = values.length; i !== n; ++ i ) {\n\n\t\t\t\t\tconst value = values[ i ];\n\n\t\t\t\t\tif ( isNaN( value ) ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Value is not a valid number.', this, i, value );\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn valid;\n\n\t}\n\n\t// removes equivalent sequential keys as common in morph target sequences\n\t// (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\n\toptimize() {\n\n\t\t// times or values may be shared with other tracks, so overwriting is unsafe\n\t\tconst times = AnimationUtils.arraySlice( this.times ),\n\t\t\tvalues = AnimationUtils.arraySlice( this.values ),\n\t\t\tstride = this.getValueSize(),\n\n\t\t\tsmoothInterpolation = this.getInterpolation() === InterpolateSmooth,\n\n\t\t\tlastIndex = times.length - 1;\n\n\t\tlet writeIndex = 1;\n\n\t\tfor ( let i = 1; i < lastIndex; ++ i ) {\n\n\t\t\tlet keep = false;\n\n\t\t\tconst time = times[ i ];\n\t\t\tconst timeNext = times[ i + 1 ];\n\n\t\t\t// remove adjacent keyframes scheduled at the same time\n\n\t\t\tif ( time !== timeNext && ( i !== 1 || time !== times[ 0 ] ) ) {\n\n\t\t\t\tif ( ! smoothInterpolation ) {\n\n\t\t\t\t\t// remove unnecessary keyframes same as their neighbors\n\n\t\t\t\t\tconst offset = i * stride,\n\t\t\t\t\t\toffsetP = offset - stride,\n\t\t\t\t\t\toffsetN = offset + stride;\n\n\t\t\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tconst value = values[ offset + j ];\n\n\t\t\t\t\t\tif ( value !== values[ offsetP + j ] ||\n\t\t\t\t\t\t\tvalue !== values[ offsetN + j ] ) {\n\n\t\t\t\t\t\t\tkeep = true;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tkeep = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// in-place compaction\n\n\t\t\tif ( keep ) {\n\n\t\t\t\tif ( i !== writeIndex ) {\n\n\t\t\t\t\ttimes[ writeIndex ] = times[ i ];\n\n\t\t\t\t\tconst readOffset = i * stride,\n\t\t\t\t\t\twriteOffset = writeIndex * stride;\n\n\t\t\t\t\tfor ( let j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t++ writeIndex;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// flush last keyframe (compaction looks ahead)\n\n\t\tif ( lastIndex > 0 ) {\n\n\t\t\ttimes[ writeIndex ] = times[ lastIndex ];\n\n\t\t\tfor ( let readOffset = lastIndex * stride, writeOffset = writeIndex * stride, j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t}\n\n\t\t\t++ writeIndex;\n\n\t\t}\n\n\t\tif ( writeIndex !== times.length ) {\n\n\t\t\tthis.times = AnimationUtils.arraySlice( times, 0, writeIndex );\n\t\t\tthis.values = AnimationUtils.arraySlice( values, 0, writeIndex * stride );\n\n\t\t} else {\n\n\t\t\tthis.times = times;\n\t\t\tthis.values = values;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\tconst times = AnimationUtils.arraySlice( this.times, 0 );\n\t\tconst values = AnimationUtils.arraySlice( this.values, 0 );\n\n\t\tconst TypedKeyframeTrack = this.constructor;\n\t\tconst track = new TypedKeyframeTrack( this.name, times, values );\n\n\t\t// Interpolant argument to constructor is not saved, so copy the factory method directly.\n\t\ttrack.createInterpolant = this.createInterpolant;\n\n\t\treturn track;\n\n\t}\n\n}\n\nKeyframeTrack.prototype.TimeBufferType = Float32Array;\nKeyframeTrack.prototype.ValueBufferType = Float32Array;\nKeyframeTrack.prototype.DefaultInterpolation = InterpolateLinear;\n\n/**\n * A Track of Boolean keyframe values.\n */\nclass BooleanKeyframeTrack extends KeyframeTrack {}\n\nBooleanKeyframeTrack.prototype.ValueTypeName = 'bool';\nBooleanKeyframeTrack.prototype.ValueBufferType = Array;\nBooleanKeyframeTrack.prototype.DefaultInterpolation = InterpolateDiscrete;\nBooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear = undefined;\nBooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\n\n/**\n * A Track of keyframe values that represent color.\n */\nclass ColorKeyframeTrack extends KeyframeTrack {}\n\nColorKeyframeTrack.prototype.ValueTypeName = 'color';\n\n/**\n * A Track of numeric keyframe values.\n */\nclass NumberKeyframeTrack extends KeyframeTrack {}\n\nNumberKeyframeTrack.prototype.ValueTypeName = 'number';\n\n/**\n * Spherical linear unit quaternion interpolant.\n */\n\nclass QuaternionLinearInterpolant extends Interpolant {\n\n\tconstructor( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\t\tsuper( parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\t}\n\n\tinterpolate_( i1, t0, t, t1 ) {\n\n\t\tconst result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\talpha = ( t - t0 ) / ( t1 - t0 );\n\n\t\tlet offset = i1 * stride;\n\n\t\tfor ( let end = offset + stride; offset !== end; offset += 4 ) {\n\n\t\t\tQuaternion.slerpFlat( result, 0, values, offset - stride, values, offset, alpha );\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n}\n\n/**\n * A Track of quaternion keyframe values.\n */\nclass QuaternionKeyframeTrack extends KeyframeTrack {\n\n\tInterpolantFactoryMethodLinear( result ) {\n\n\t\treturn new QuaternionLinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t}\n\n}\n\nQuaternionKeyframeTrack.prototype.ValueTypeName = 'quaternion';\n// ValueBufferType is inherited\nQuaternionKeyframeTrack.prototype.DefaultInterpolation = InterpolateLinear;\nQuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\n\n/**\n * A Track that interpolates Strings\n */\nclass StringKeyframeTrack extends KeyframeTrack {}\n\nStringKeyframeTrack.prototype.ValueTypeName = 'string';\nStringKeyframeTrack.prototype.ValueBufferType = Array;\nStringKeyframeTrack.prototype.DefaultInterpolation = InterpolateDiscrete;\nStringKeyframeTrack.prototype.InterpolantFactoryMethodLinear = undefined;\nStringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth = undefined;\n\n/**\n * A Track of vectored keyframe values.\n */\nclass VectorKeyframeTrack extends KeyframeTrack {}\n\nVectorKeyframeTrack.prototype.ValueTypeName = 'vector';\n\nclass AnimationClip {\n\n\tconstructor( name, duration = - 1, tracks, blendMode = NormalAnimationBlendMode ) {\n\n\t\tthis.name = name;\n\t\tthis.tracks = tracks;\n\t\tthis.duration = duration;\n\t\tthis.blendMode = blendMode;\n\n\t\tthis.uuid = generateUUID();\n\n\t\t// this means it should figure out its duration by scanning the tracks\n\t\tif ( this.duration < 0 ) {\n\n\t\t\tthis.resetDuration();\n\n\t\t}\n\n\t}\n\n\n\tstatic parse( json ) {\n\n\t\tconst tracks = [],\n\t\t\tjsonTracks = json.tracks,\n\t\t\tframeTime = 1.0 / ( json.fps || 1.0 );\n\n\t\tfor ( let i = 0, n = jsonTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( parseKeyframeTrack( jsonTracks[ i ] ).scale( frameTime ) );\n\n\t\t}\n\n\t\tconst clip = new this( json.name, json.duration, tracks, json.blendMode );\n\t\tclip.uuid = json.uuid;\n\n\t\treturn clip;\n\n\t}\n\n\tstatic toJSON( clip ) {\n\n\t\tconst tracks = [],\n\t\t\tclipTracks = clip.tracks;\n\n\t\tconst json = {\n\n\t\t\t'name': clip.name,\n\t\t\t'duration': clip.duration,\n\t\t\t'tracks': tracks,\n\t\t\t'uuid': clip.uuid,\n\t\t\t'blendMode': clip.blendMode\n\n\t\t};\n\n\t\tfor ( let i = 0, n = clipTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( KeyframeTrack.toJSON( clipTracks[ i ] ) );\n\n\t\t}\n\n\t\treturn json;\n\n\t}\n\n\tstatic CreateFromMorphTargetSequence( name, morphTargetSequence, fps, noLoop ) {\n\n\t\tconst numMorphTargets = morphTargetSequence.length;\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < numMorphTargets; i ++ ) {\n\n\t\t\tlet times = [];\n\t\t\tlet values = [];\n\n\t\t\ttimes.push(\n\t\t\t\t( i + numMorphTargets - 1 ) % numMorphTargets,\n\t\t\t\ti,\n\t\t\t\t( i + 1 ) % numMorphTargets );\n\n\t\t\tvalues.push( 0, 1, 0 );\n\n\t\t\tconst order = AnimationUtils.getKeyframeOrder( times );\n\t\t\ttimes = AnimationUtils.sortedArray( times, 1, order );\n\t\t\tvalues = AnimationUtils.sortedArray( values, 1, order );\n\n\t\t\t// if there is a key at the first frame, duplicate it as the\n\t\t\t// last frame as well for perfect loop.\n\t\t\tif ( ! noLoop && times[ 0 ] === 0 ) {\n\n\t\t\t\ttimes.push( numMorphTargets );\n\t\t\t\tvalues.push( values[ 0 ] );\n\n\t\t\t}\n\n\t\t\ttracks.push(\n\t\t\t\tnew NumberKeyframeTrack(\n\t\t\t\t\t'.morphTargetInfluences[' + morphTargetSequence[ i ].name + ']',\n\t\t\t\t\ttimes, values\n\t\t\t\t).scale( 1.0 / fps ) );\n\n\t\t}\n\n\t\treturn new this( name, - 1, tracks );\n\n\t}\n\n\tstatic findByName( objectOrClipArray, name ) {\n\n\t\tlet clipArray = objectOrClipArray;\n\n\t\tif ( ! Array.isArray( objectOrClipArray ) ) {\n\n\t\t\tconst o = objectOrClipArray;\n\t\t\tclipArray = o.geometry && o.geometry.animations || o.animations;\n\n\t\t}\n\n\t\tfor ( let i = 0; i < clipArray.length; i ++ ) {\n\n\t\t\tif ( clipArray[ i ].name === name ) {\n\n\t\t\t\treturn clipArray[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\tstatic CreateClipsFromMorphTargetSequences( morphTargets, fps, noLoop ) {\n\n\t\tconst animationToMorphTargets = {};\n\n\t\t// tested with https://regex101.com/ on trick sequences\n\t\t// such flamingo_flyA_003, flamingo_run1_003, crdeath0059\n\t\tconst pattern = /^([\\w-]*?)([\\d]+)$/;\n\n\t\t// sort morph target names into animation groups based\n\t\t// patterns like Walk_001, Walk_002, Run_001, Run_002\n\t\tfor ( let i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tconst morphTarget = morphTargets[ i ];\n\t\t\tconst parts = morphTarget.name.match( pattern );\n\n\t\t\tif ( parts && parts.length > 1 ) {\n\n\t\t\t\tconst name = parts[ 1 ];\n\n\t\t\t\tlet animationMorphTargets = animationToMorphTargets[ name ];\n\n\t\t\t\tif ( ! animationMorphTargets ) {\n\n\t\t\t\t\tanimationToMorphTargets[ name ] = animationMorphTargets = [];\n\n\t\t\t\t}\n\n\t\t\t\tanimationMorphTargets.push( morphTarget );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst clips = [];\n\n\t\tfor ( const name in animationToMorphTargets ) {\n\n\t\t\tclips.push( this.CreateFromMorphTargetSequence( name, animationToMorphTargets[ name ], fps, noLoop ) );\n\n\t\t}\n\n\t\treturn clips;\n\n\t}\n\n\t// parse the animation.hierarchy format\n\tstatic parseAnimation( animation, bones ) {\n\n\t\tif ( ! animation ) {\n\n\t\t\tconsole.error( 'THREE.AnimationClip: No animation in JSONLoader data.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst addNonemptyTrack = function ( trackType, trackName, animationKeys, propertyName, destTracks ) {\n\n\t\t\t// only return track if there are actually keys.\n\t\t\tif ( animationKeys.length !== 0 ) {\n\n\t\t\t\tconst times = [];\n\t\t\t\tconst values = [];\n\n\t\t\t\tAnimationUtils.flattenJSON( animationKeys, times, values, propertyName );\n\n\t\t\t\t// empty keys are filtered out, so check again\n\t\t\t\tif ( times.length !== 0 ) {\n\n\t\t\t\t\tdestTracks.push( new trackType( trackName, times, values ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tconst tracks = [];\n\n\t\tconst clipName = animation.name || 'default';\n\t\tconst fps = animation.fps || 30;\n\t\tconst blendMode = animation.blendMode;\n\n\t\t// automatic length determination in AnimationClip.\n\t\tlet duration = animation.length || - 1;\n\n\t\tconst hierarchyTracks = animation.hierarchy || [];\n\n\t\tfor ( let h = 0; h < hierarchyTracks.length; h ++ ) {\n\n\t\t\tconst animationKeys = hierarchyTracks[ h ].keys;\n\n\t\t\t// skip empty tracks\n\t\t\tif ( ! animationKeys || animationKeys.length === 0 ) continue;\n\n\t\t\t// process morph targets\n\t\t\tif ( animationKeys[ 0 ].morphTargets ) {\n\n\t\t\t\t// figure out all morph targets used in this track\n\t\t\t\tconst morphTargetNames = {};\n\n\t\t\t\tlet k;\n\n\t\t\t\tfor ( k = 0; k < animationKeys.length; k ++ ) {\n\n\t\t\t\t\tif ( animationKeys[ k ].morphTargets ) {\n\n\t\t\t\t\t\tfor ( let m = 0; m < animationKeys[ k ].morphTargets.length; m ++ ) {\n\n\t\t\t\t\t\t\tmorphTargetNames[ animationKeys[ k ].morphTargets[ m ] ] = - 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// create a track for each morph target with all zero\n\t\t\t\t// morphTargetInfluences except for the keys in which\n\t\t\t\t// the morphTarget is named.\n\t\t\t\tfor ( const morphTargetName in morphTargetNames ) {\n\n\t\t\t\t\tconst times = [];\n\t\t\t\t\tconst values = [];\n\n\t\t\t\t\tfor ( let m = 0; m !== animationKeys[ k ].morphTargets.length; ++ m ) {\n\n\t\t\t\t\t\tconst animationKey = animationKeys[ k ];\n\n\t\t\t\t\t\ttimes.push( animationKey.time );\n\t\t\t\t\t\tvalues.push( ( animationKey.morphTarget === morphTargetName ) ? 1 : 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( new NumberKeyframeTrack( '.morphTargetInfluence[' + morphTargetName + ']', times, values ) );\n\n\t\t\t\t}\n\n\t\t\t\tduration = morphTargetNames.length * ( fps || 1.0 );\n\n\t\t\t} else {\n\n\t\t\t\t// ...assume skeletal animation\n\n\t\t\t\tconst boneName = '.bones[' + bones[ h ].name + ']';\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.position',\n\t\t\t\t\tanimationKeys, 'pos', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tQuaternionKeyframeTrack, boneName + '.quaternion',\n\t\t\t\t\tanimationKeys, 'rot', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.scale',\n\t\t\t\t\tanimationKeys, 'scl', tracks );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tracks.length === 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tconst clip = new this( clipName, duration, tracks, blendMode );\n\n\t\treturn clip;\n\n\t}\n\n\tresetDuration() {\n\n\t\tconst tracks = this.tracks;\n\t\tlet duration = 0;\n\n\t\tfor ( let i = 0, n = tracks.length; i !== n; ++ i ) {\n\n\t\t\tconst track = this.tracks[ i ];\n\n\t\t\tduration = Math.max( duration, track.times[ track.times.length - 1 ] );\n\n\t\t}\n\n\t\tthis.duration = duration;\n\n\t\treturn this;\n\n\t}\n\n\ttrim() {\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].trim( 0, this.duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tvalidate() {\n\n\t\tlet valid = true;\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tvalid = valid && this.tracks[ i ].validate();\n\n\t\t}\n\n\t\treturn valid;\n\n\t}\n\n\toptimize() {\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].optimize();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\tconst tracks = [];\n\n\t\tfor ( let i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\ttracks.push( this.tracks[ i ].clone() );\n\n\t\t}\n\n\t\treturn new this.constructor( this.name, this.duration, tracks, this.blendMode );\n\n\t}\n\n\ttoJSON() {\n\n\t\treturn this.constructor.toJSON( this );\n\n\t}\n\n}\n\nfunction getTrackTypeForValueTypeName( typeName ) {\n\n\tswitch ( typeName.toLowerCase() ) {\n\n\t\tcase 'scalar':\n\t\tcase 'double':\n\t\tcase 'float':\n\t\tcase 'number':\n\t\tcase 'integer':\n\n\t\t\treturn NumberKeyframeTrack;\n\n\t\tcase 'vector':\n\t\tcase 'vector2':\n\t\tcase 'vector3':\n\t\tcase 'vector4':\n\n\t\t\treturn VectorKeyframeTrack;\n\n\t\tcase 'color':\n\n\t\t\treturn ColorKeyframeTrack;\n\n\t\tcase 'quaternion':\n\n\t\t\treturn QuaternionKeyframeTrack;\n\n\t\tcase 'bool':\n\t\tcase 'boolean':\n\n\t\t\treturn BooleanKeyframeTrack;\n\n\t\tcase 'string':\n\n\t\t\treturn StringKeyframeTrack;\n\n\t}\n\n\tthrow new Error( 'THREE.KeyframeTrack: Unsupported typeName: ' + typeName );\n\n}\n\nfunction parseKeyframeTrack( json ) {\n\n\tif ( json.type === undefined ) {\n\n\t\tthrow new Error( 'THREE.KeyframeTrack: track type undefined, can not parse' );\n\n\t}\n\n\tconst trackType = getTrackTypeForValueTypeName( json.type );\n\n\tif ( json.times === undefined ) {\n\n\t\tconst times = [], values = [];\n\n\t\tAnimationUtils.flattenJSON( json.keys, times, values, 'value' );\n\n\t\tjson.times = times;\n\t\tjson.values = values;\n\n\t}\n\n\t// derived classes can define a static parse method\n\tif ( trackType.parse !== undefined ) {\n\n\t\treturn trackType.parse( json );\n\n\t} else {\n\n\t\t// by default, we assume a constructor compatible with the base\n\t\treturn new trackType( json.name, json.times, json.values, json.interpolation );\n\n\t}\n\n}\n\nconst Cache = {\n\n\tenabled: false,\n\n\tfiles: {},\n\n\tadd: function ( key, file ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Adding key:', key );\n\n\t\tthis.files[ key ] = file;\n\n\t},\n\n\tget: function ( key ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Checking key:', key );\n\n\t\treturn this.files[ key ];\n\n\t},\n\n\tremove: function ( key ) {\n\n\t\tdelete this.files[ key ];\n\n\t},\n\n\tclear: function () {\n\n\t\tthis.files = {};\n\n\t}\n\n};\n\nclass LoadingManager {\n\n\tconstructor( onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tlet isLoading = false;\n\t\tlet itemsLoaded = 0;\n\t\tlet itemsTotal = 0;\n\t\tlet urlModifier = undefined;\n\t\tconst handlers = [];\n\n\t\t// Refer to #5689 for the reason why we don't set .onStart\n\t\t// in the constructor\n\n\t\tthis.onStart = undefined;\n\t\tthis.onLoad = onLoad;\n\t\tthis.onProgress = onProgress;\n\t\tthis.onError = onError;\n\n\t\tthis.itemStart = function ( url ) {\n\n\t\t\titemsTotal ++;\n\n\t\t\tif ( isLoading === false ) {\n\n\t\t\t\tif ( scope.onStart !== undefined ) {\n\n\t\t\t\t\tscope.onStart( url, itemsLoaded, itemsTotal );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tisLoading = true;\n\n\t\t};\n\n\t\tthis.itemEnd = function ( url ) {\n\n\t\t\titemsLoaded ++;\n\n\t\t\tif ( scope.onProgress !== undefined ) {\n\n\t\t\t\tscope.onProgress( url, itemsLoaded, itemsTotal );\n\n\t\t\t}\n\n\t\t\tif ( itemsLoaded === itemsTotal ) {\n\n\t\t\t\tisLoading = false;\n\n\t\t\t\tif ( scope.onLoad !== undefined ) {\n\n\t\t\t\t\tscope.onLoad();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.itemError = function ( url ) {\n\n\t\t\tif ( scope.onError !== undefined ) {\n\n\t\t\t\tscope.onError( url );\n\n\t\t\t}\n\n\t\t};\n\n\t\tthis.resolveURL = function ( url ) {\n\n\t\t\tif ( urlModifier ) {\n\n\t\t\t\treturn urlModifier( url );\n\n\t\t\t}\n\n\t\t\treturn url;\n\n\t\t};\n\n\t\tthis.setURLModifier = function ( transform ) {\n\n\t\t\turlModifier = transform;\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.addHandler = function ( regex, loader ) {\n\n\t\t\thandlers.push( regex, loader );\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.removeHandler = function ( regex ) {\n\n\t\t\tconst index = handlers.indexOf( regex );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\thandlers.splice( index, 2 );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t};\n\n\t\tthis.getHandler = function ( file ) {\n\n\t\t\tfor ( let i = 0, l = handlers.length; i < l; i += 2 ) {\n\n\t\t\t\tconst regex = handlers[ i ];\n\t\t\t\tconst loader = handlers[ i + 1 ];\n\n\t\t\t\tif ( regex.global ) regex.lastIndex = 0; // see #17920\n\n\t\t\t\tif ( regex.test( file ) ) {\n\n\t\t\t\t\treturn loader;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn null;\n\n\t\t};\n\n\t}\n\n}\n\nconst DefaultLoadingManager = new LoadingManager();\n\nclass Loader {\n\n\tconstructor( manager ) {\n\n\t\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n\t\tthis.crossOrigin = 'anonymous';\n\t\tthis.withCredentials = false;\n\t\tthis.path = '';\n\t\tthis.resourcePath = '';\n\t\tthis.requestHeader = {};\n\n\t}\n\n\tload( /* url, onLoad, onProgress, onError */ ) {}\n\n\tloadAsync( url, onProgress ) {\n\n\t\tconst scope = this;\n\n\t\treturn new Promise( function ( resolve, reject ) {\n\n\t\t\tscope.load( url, resolve, onProgress, reject );\n\n\t\t} );\n\n\t}\n\n\tparse( /* data */ ) {}\n\n\tsetCrossOrigin( crossOrigin ) {\n\n\t\tthis.crossOrigin = crossOrigin;\n\t\treturn this;\n\n\t}\n\n\tsetWithCredentials( value ) {\n\n\t\tthis.withCredentials = value;\n\t\treturn this;\n\n\t}\n\n\tsetPath( path ) {\n\n\t\tthis.path = path;\n\t\treturn this;\n\n\t}\n\n\tsetResourcePath( resourcePath ) {\n\n\t\tthis.resourcePath = resourcePath;\n\t\treturn this;\n\n\t}\n\n\tsetRequestHeader( requestHeader ) {\n\n\t\tthis.requestHeader = requestHeader;\n\t\treturn this;\n\n\t}\n\n}\n\nconst loading = {};\n\nclass FileLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\t// Check if request is duplicate\n\n\t\tif ( loading[ url ] !== undefined ) {\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// Check for data: URI\n\t\tconst dataUriRegex = /^data:(.*?)(;base64)?,(.*)$/;\n\t\tconst dataUriRegexResult = url.match( dataUriRegex );\n\t\tlet request;\n\n\t\t// Safari can not handle Data URIs through XMLHttpRequest so process manually\n\t\tif ( dataUriRegexResult ) {\n\n\t\t\tconst mimeType = dataUriRegexResult[ 1 ];\n\t\t\tconst isBase64 = !! dataUriRegexResult[ 2 ];\n\n\t\t\tlet data = dataUriRegexResult[ 3 ];\n\t\t\tdata = decodeURIComponent( data );\n\n\t\t\tif ( isBase64 ) data = atob( data );\n\n\t\t\ttry {\n\n\t\t\t\tlet response;\n\t\t\t\tconst responseType = ( this.responseType || '' ).toLowerCase();\n\n\t\t\t\tswitch ( responseType ) {\n\n\t\t\t\t\tcase 'arraybuffer':\n\t\t\t\t\tcase 'blob':\n\n\t\t\t\t\t\tconst view = new Uint8Array( data.length );\n\n\t\t\t\t\t\tfor ( let i = 0; i < data.length; i ++ ) {\n\n\t\t\t\t\t\t\tview[ i ] = data.charCodeAt( i );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( responseType === 'blob' ) {\n\n\t\t\t\t\t\t\tresponse = new Blob( [ view.buffer ], { type: mimeType } );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tresponse = view.buffer;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'document':\n\n\t\t\t\t\t\tconst parser = new DOMParser();\n\t\t\t\t\t\tresponse = parser.parseFromString( data, mimeType );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'json':\n\n\t\t\t\t\t\tresponse = JSON.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault: // 'text' or other\n\n\t\t\t\t\t\tresponse = data;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\tsetTimeout( function () {\n\n\t\t\t\t\tif ( onLoad ) onLoad( response );\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\tsetTimeout( function () {\n\n\t\t\t\t\tif ( onError ) onError( error );\n\n\t\t\t\t\tscope.manager.itemError( url );\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Initialise array for duplicate requests\n\n\t\t\tloading[ url ] = [];\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\trequest = new XMLHttpRequest();\n\n\t\t\trequest.open( 'GET', url, true );\n\n\t\t\trequest.addEventListener( 'load', function ( event ) {\n\n\t\t\t\tconst response = this.response;\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tif ( this.status === 200 || this.status === 0 ) {\n\n\t\t\t\t\t// Some browsers return HTTP Status 0 when using non-http protocol\n\t\t\t\t\t// e.g. 'file://' or 'data://'. Handle as success.\n\n\t\t\t\t\tif ( this.status === 0 ) console.warn( 'THREE.FileLoader: HTTP Status 0 received.' );\n\n\t\t\t\t\t// Add to cache only on HTTP success, so that we do not cache\n\t\t\t\t\t// error response bodies as proper responses to requests.\n\t\t\t\t\tCache.add( url, response );\n\n\t\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onLoad ) callback.onLoad( response );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemError( url );\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'progress', function ( event ) {\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onProgress ) callback.onProgress( event );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'error', function ( event ) {\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'abort', function ( event ) {\n\n\t\t\t\tconst callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( let i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tconst callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, false );\n\n\t\t\tif ( this.responseType !== undefined ) request.responseType = this.responseType;\n\t\t\tif ( this.withCredentials !== undefined ) request.withCredentials = this.withCredentials;\n\n\t\t\tif ( request.overrideMimeType ) request.overrideMimeType( this.mimeType !== undefined ? this.mimeType : 'text/plain' );\n\n\t\t\tfor ( const header in this.requestHeader ) {\n\n\t\t\t\trequest.setRequestHeader( header, this.requestHeader[ header ] );\n\n\t\t\t}\n\n\t\t\trequest.send( null );\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\treturn request;\n\n\t}\n\n\tsetResponseType( value ) {\n\n\t\tthis.responseType = value;\n\t\treturn this;\n\n\t}\n\n\tsetMimeType( value ) {\n\n\t\tthis.mimeType = value;\n\t\treturn this;\n\n\t}\n\n}\n\nclass ImageLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tconst image = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'img' );\n\n\t\tfunction onImageLoad() {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tCache.add( url, this );\n\n\t\t\tif ( onLoad ) onLoad( this );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\tfunction onImageError( event ) {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tif ( onError ) onError( event );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\timage.addEventListener( 'load', onImageLoad, false );\n\t\timage.addEventListener( 'error', onImageError, false );\n\n\t\tif ( url.substr( 0, 5 ) !== 'data:' ) {\n\n\t\t\tif ( this.crossOrigin !== undefined ) image.crossOrigin = this.crossOrigin;\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\timage.src = url;\n\n\t\treturn image;\n\n\t}\n\n}\n\nclass CubeTextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( urls, onLoad, onProgress, onError ) {\n\n\t\tconst texture = new CubeTexture();\n\n\t\tconst loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tlet loaded = 0;\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( urls[ i ], function ( image ) {\n\n\t\t\t\ttexture.images[ i ] = image;\n\n\t\t\t\tloaded ++;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, undefined, onError );\n\n\t\t}\n\n\t\tfor ( let i = 0; i < urls.length; ++ i ) {\n\n\t\t\tloadTexture( i );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n}\n\nclass TextureLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst texture = new Texture();\n\n\t\tconst loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tloader.load( url, function ( image ) {\n\n\t\t\ttexture.image = image;\n\n\t\t\t// JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.\n\t\t\tconst isJPEG = url.search( /\\.jpe?g($|\\?)/i ) > 0 || url.search( /^data\\:image\\/jpeg/ ) === 0;\n\n\t\t\ttexture.format = isJPEG ? RGBFormat$1 : RGBAFormat;\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad !== undefined ) {\n\n\t\t\t\tonLoad( texture );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t\treturn texture;\n\n\t}\n\n}\n\n/**************************************************************\n *\tCurved Path - a curve path is simply a array of connected\n *  curves, but retains the api of a curve\n **************************************************************/\n\nclass CurvePath extends Curve {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'CurvePath';\n\n\t\tthis.curves = [];\n\t\tthis.autoClose = false; // Automatically closes the path\n\n\t}\n\n\tadd( curve ) {\n\n\t\tthis.curves.push( curve );\n\n\t}\n\n\tclosePath() {\n\n\t\t// Add a line curve if start and end of lines are not connected\n\t\tconst startPoint = this.curves[ 0 ].getPoint( 0 );\n\t\tconst endPoint = this.curves[ this.curves.length - 1 ].getPoint( 1 );\n\n\t\tif ( ! startPoint.equals( endPoint ) ) {\n\n\t\t\tthis.curves.push( new LineCurve( endPoint, startPoint ) );\n\n\t\t}\n\n\t}\n\n\t// To get accurate point with reference to\n\t// entire path distance at time t,\n\t// following has to be done:\n\n\t// 1. Length of each sub path have to be known\n\t// 2. Locate and identify type of curve\n\t// 3. Get t for the curve\n\t// 4. Return curve.getPointAt(t')\n\n\tgetPoint( t ) {\n\n\t\tconst d = t * this.getLength();\n\t\tconst curveLengths = this.getCurveLengths();\n\t\tlet i = 0;\n\n\t\t// To think about boundaries points.\n\n\t\twhile ( i < curveLengths.length ) {\n\n\t\t\tif ( curveLengths[ i ] >= d ) {\n\n\t\t\t\tconst diff = curveLengths[ i ] - d;\n\t\t\t\tconst curve = this.curves[ i ];\n\n\t\t\t\tconst segmentLength = curve.getLength();\n\t\t\t\tconst u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\n\n\t\t\t\treturn curve.getPointAt( u );\n\n\t\t\t}\n\n\t\t\ti ++;\n\n\t\t}\n\n\t\treturn null;\n\n\t\t// loop where sum != 0, sum > d , sum+1 <d\n\n\t}\n\n\t// We cannot use the default THREE.Curve getPoint() with getLength() because in\n\t// THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n\t// getPoint() depends on getLength\n\n\tgetLength() {\n\n\t\tconst lens = this.getCurveLengths();\n\t\treturn lens[ lens.length - 1 ];\n\n\t}\n\n\t// cacheLengths must be recalculated.\n\tupdateArcLengths() {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.cacheLengths = null;\n\t\tthis.getCurveLengths();\n\n\t}\n\n\t// Compute lengths and cache them\n\t// We cannot overwrite getLengths() because UtoT mapping uses it.\n\n\tgetCurveLengths() {\n\n\t\t// We use cache values if curves and cache array are same length\n\n\t\tif ( this.cacheLengths && this.cacheLengths.length === this.curves.length ) {\n\n\t\t\treturn this.cacheLengths;\n\n\t\t}\n\n\t\t// Get length of sub-curve\n\t\t// Push sums into cached array\n\n\t\tconst lengths = [];\n\t\tlet sums = 0;\n\n\t\tfor ( let i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tsums += this.curves[ i ].getLength();\n\t\t\tlengths.push( sums );\n\n\t\t}\n\n\t\tthis.cacheLengths = lengths;\n\n\t\treturn lengths;\n\n\t}\n\n\tgetSpacedPoints( divisions = 40 ) {\n\n\t\tconst points = [];\n\n\t\tfor ( let i = 0; i <= divisions; i ++ ) {\n\n\t\t\tpoints.push( this.getPoint( i / divisions ) );\n\n\t\t}\n\n\t\tif ( this.autoClose ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\tgetPoints( divisions = 12 ) {\n\n\t\tconst points = [];\n\t\tlet last;\n\n\t\tfor ( let i = 0, curves = this.curves; i < curves.length; i ++ ) {\n\n\t\t\tconst curve = curves[ i ];\n\t\t\tconst resolution = ( curve && curve.isEllipseCurve ) ? divisions * 2\n\t\t\t\t: ( curve && ( curve.isLineCurve || curve.isLineCurve3 ) ) ? 1\n\t\t\t\t\t: ( curve && curve.isSplineCurve ) ? divisions * curve.points.length\n\t\t\t\t\t\t: divisions;\n\n\t\t\tconst pts = curve.getPoints( resolution );\n\n\t\t\tfor ( let j = 0; j < pts.length; j ++ ) {\n\n\t\t\t\tconst point = pts[ j ];\n\n\t\t\t\tif ( last && last.equals( point ) ) continue; // ensures no consecutive points are duplicates\n\n\t\t\t\tpoints.push( point );\n\t\t\t\tlast = point;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.autoClose && points.length > 1 && ! points[ points.length - 1 ].equals( points[ 0 ] ) ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.curves = [];\n\n\t\tfor ( let i = 0, l = source.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = source.curves[ i ];\n\n\t\t\tthis.curves.push( curve.clone() );\n\n\t\t}\n\n\t\tthis.autoClose = source.autoClose;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.autoClose = this.autoClose;\n\t\tdata.curves = [];\n\n\t\tfor ( let i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = this.curves[ i ];\n\t\t\tdata.curves.push( curve.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.autoClose = json.autoClose;\n\t\tthis.curves = [];\n\n\t\tfor ( let i = 0, l = json.curves.length; i < l; i ++ ) {\n\n\t\t\tconst curve = json.curves[ i ];\n\t\t\tthis.curves.push( new Curves[ curve.type ]().fromJSON( curve ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Path extends CurvePath {\n\n\tconstructor( points ) {\n\n\t\tsuper();\n\t\tthis.type = 'Path';\n\n\t\tthis.currentPoint = new Vector2();\n\n\t\tif ( points ) {\n\n\t\t\tthis.setFromPoints( points );\n\n\t\t}\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tthis.moveTo( points[ 0 ].x, points[ 0 ].y );\n\n\t\tfor ( let i = 1, l = points.length; i < l; i ++ ) {\n\n\t\t\tthis.lineTo( points[ i ].x, points[ i ].y );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tmoveTo( x, y ) {\n\n\t\tthis.currentPoint.set( x, y ); // TODO consider referencing vectors instead of copying?\n\n\t\treturn this;\n\n\t}\n\n\tlineTo( x, y ) {\n\n\t\tconst curve = new LineCurve( this.currentPoint.clone(), new Vector2( x, y ) );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( x, y );\n\n\t\treturn this;\n\n\t}\n\n\tquadraticCurveTo( aCPx, aCPy, aX, aY ) {\n\n\t\tconst curve = new QuadraticBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCPx, aCPy ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tbezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tconst curve = new CubicBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCP1x, aCP1y ),\n\t\t\tnew Vector2( aCP2x, aCP2y ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tsplineThru( pts /*Array of Vector*/ ) {\n\n\t\tconst npts = [ this.currentPoint.clone() ].concat( pts );\n\n\t\tconst curve = new SplineCurve( npts );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.copy( pts[ pts.length - 1 ] );\n\n\t\treturn this;\n\n\t}\n\n\tarc( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tconst x0 = this.currentPoint.x;\n\t\tconst y0 = this.currentPoint.y;\n\n\t\tthis.absarc( aX + x0, aY + y0, aRadius,\n\t\t\taStartAngle, aEndAngle, aClockwise );\n\n\t\treturn this;\n\n\t}\n\n\tabsarc( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tthis.absellipse( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\t\treturn this;\n\n\t}\n\n\tellipse( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tconst x0 = this.currentPoint.x;\n\t\tconst y0 = this.currentPoint.y;\n\n\t\tthis.absellipse( aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\treturn this;\n\n\t}\n\n\tabsellipse( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tconst curve = new EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\tif ( this.curves.length > 0 ) {\n\n\t\t\t// if a previous curve is present, attempt to join\n\t\t\tconst firstPoint = curve.getPoint( 0 );\n\n\t\t\tif ( ! firstPoint.equals( this.currentPoint ) ) {\n\n\t\t\t\tthis.lineTo( firstPoint.x, firstPoint.y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.curves.push( curve );\n\n\t\tconst lastPoint = curve.getPoint( 1 );\n\t\tthis.currentPoint.copy( lastPoint );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.currentPoint.copy( source.currentPoint );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.currentPoint = this.currentPoint.toArray();\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.currentPoint.fromArray( json.currentPoint );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Shape extends Path {\n\n\tconstructor( points ) {\n\n\t\tsuper( points );\n\n\t\tthis.uuid = generateUUID();\n\n\t\tthis.type = 'Shape';\n\n\t\tthis.holes = [];\n\n\t}\n\n\tgetPointsHoles( divisions ) {\n\n\t\tconst holesPts = [];\n\n\t\tfor ( let i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tholesPts[ i ] = this.holes[ i ].getPoints( divisions );\n\n\t\t}\n\n\t\treturn holesPts;\n\n\t}\n\n\t// get points of shape and holes (keypoints based on segments parameter)\n\n\textractPoints( divisions ) {\n\n\t\treturn {\n\n\t\t\tshape: this.getPoints( divisions ),\n\t\t\tholes: this.getPointsHoles( divisions )\n\n\t\t};\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.holes = [];\n\n\t\tfor ( let i = 0, l = source.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = source.holes[ i ];\n\n\t\t\tthis.holes.push( hole.clone() );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON();\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.holes = [];\n\n\t\tfor ( let i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = this.holes[ i ];\n\t\t\tdata.holes.push( hole.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tsuper.fromJSON( json );\n\n\t\tthis.uuid = json.uuid;\n\t\tthis.holes = [];\n\n\t\tfor ( let i = 0, l = json.holes.length; i < l; i ++ ) {\n\n\t\t\tconst hole = json.holes[ i ];\n\t\t\tthis.holes.push( new Path().fromJSON( hole ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass Light extends Object3D {\n\n\tconstructor( color, intensity = 1 ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Light';\n\n\t\tthis.color = new Color( color );\n\t\tthis.intensity = intensity;\n\n\t}\n\n\tdispose() {\n\n\t\t// Empty here in base class; some subclasses override.\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.color.copy( source.color );\n\t\tthis.intensity = source.intensity;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.color = this.color.getHex();\n\t\tdata.object.intensity = this.intensity;\n\n\t\tif ( this.groundColor !== undefined ) data.object.groundColor = this.groundColor.getHex();\n\n\t\tif ( this.distance !== undefined ) data.object.distance = this.distance;\n\t\tif ( this.angle !== undefined ) data.object.angle = this.angle;\n\t\tif ( this.decay !== undefined ) data.object.decay = this.decay;\n\t\tif ( this.penumbra !== undefined ) data.object.penumbra = this.penumbra;\n\n\t\tif ( this.shadow !== undefined ) data.object.shadow = this.shadow.toJSON();\n\n\t\treturn data;\n\n\t}\n\n}\n\nLight.prototype.isLight = true;\n\nclass HemisphereLight extends Light {\n\n\tconstructor( skyColor, groundColor, intensity ) {\n\n\t\tsuper( skyColor, intensity );\n\n\t\tthis.type = 'HemisphereLight';\n\n\t\tthis.position.copy( Object3D.DefaultUp );\n\t\tthis.updateMatrix();\n\n\t\tthis.groundColor = new Color( groundColor );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.groundColor.copy( source.groundColor );\n\n\t\treturn this;\n\n\t}\n\n}\n\nHemisphereLight.prototype.isHemisphereLight = true;\n\nconst _projScreenMatrix$1 = /*@__PURE__*/ new Matrix4();\nconst _lightPositionWorld$1 = /*@__PURE__*/ new Vector3();\nconst _lookTarget$1 = /*@__PURE__*/ new Vector3();\n\nclass LightShadow {\n\n\tconstructor( camera ) {\n\n\t\tthis.camera = camera;\n\n\t\tthis.bias = 0;\n\t\tthis.normalBias = 0;\n\t\tthis.radius = 1;\n\t\tthis.blurSamples = 8;\n\n\t\tthis.mapSize = new Vector2( 512, 512 );\n\n\t\tthis.map = null;\n\t\tthis.mapPass = null;\n\t\tthis.matrix = new Matrix4();\n\n\t\tthis.autoUpdate = true;\n\t\tthis.needsUpdate = false;\n\n\t\tthis._frustum = new Frustum();\n\t\tthis._frameExtents = new Vector2( 1, 1 );\n\n\t\tthis._viewportCount = 1;\n\n\t\tthis._viewports = [\n\n\t\t\tnew Vector4( 0, 0, 1, 1 )\n\n\t\t];\n\n\t}\n\n\tgetViewportCount() {\n\n\t\treturn this._viewportCount;\n\n\t}\n\n\tgetFrustum() {\n\n\t\treturn this._frustum;\n\n\t}\n\n\tupdateMatrices( light ) {\n\n\t\tconst shadowCamera = this.camera;\n\t\tconst shadowMatrix = this.matrix;\n\n\t\t_lightPositionWorld$1.setFromMatrixPosition( light.matrixWorld );\n\t\tshadowCamera.position.copy( _lightPositionWorld$1 );\n\n\t\t_lookTarget$1.setFromMatrixPosition( light.target.matrixWorld );\n\t\tshadowCamera.lookAt( _lookTarget$1 );\n\t\tshadowCamera.updateMatrixWorld();\n\n\t\t_projScreenMatrix$1.multiplyMatrices( shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse );\n\t\tthis._frustum.setFromProjectionMatrix( _projScreenMatrix$1 );\n\n\t\tshadowMatrix.set(\n\t\t\t0.5, 0.0, 0.0, 0.5,\n\t\t\t0.0, 0.5, 0.0, 0.5,\n\t\t\t0.0, 0.0, 0.5, 0.5,\n\t\t\t0.0, 0.0, 0.0, 1.0\n\t\t);\n\n\t\tshadowMatrix.multiply( shadowCamera.projectionMatrix );\n\t\tshadowMatrix.multiply( shadowCamera.matrixWorldInverse );\n\n\t}\n\n\tgetViewport( viewportIndex ) {\n\n\t\treturn this._viewports[ viewportIndex ];\n\n\t}\n\n\tgetFrameExtents() {\n\n\t\treturn this._frameExtents;\n\n\t}\n\n\tdispose() {\n\n\t\tif ( this.map ) {\n\n\t\t\tthis.map.dispose();\n\n\t\t}\n\n\t\tif ( this.mapPass ) {\n\n\t\t\tthis.mapPass.dispose();\n\n\t\t}\n\n\t}\n\n\tcopy( source ) {\n\n\t\tthis.camera = source.camera.clone();\n\n\t\tthis.bias = source.bias;\n\t\tthis.radius = source.radius;\n\n\t\tthis.mapSize.copy( source.mapSize );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst object = {};\n\n\t\tif ( this.bias !== 0 ) object.bias = this.bias;\n\t\tif ( this.normalBias !== 0 ) object.normalBias = this.normalBias;\n\t\tif ( this.radius !== 1 ) object.radius = this.radius;\n\t\tif ( this.mapSize.x !== 512 || this.mapSize.y !== 512 ) object.mapSize = this.mapSize.toArray();\n\n\t\tobject.camera = this.camera.toJSON( false ).object;\n\t\tdelete object.camera.matrix;\n\n\t\treturn object;\n\n\t}\n\n}\n\nclass SpotLightShadow extends LightShadow {\n\n\tconstructor() {\n\n\t\tsuper( new PerspectiveCamera( 50, 1, 0.5, 500 ) );\n\n\t\tthis.focus = 1;\n\n\t}\n\n\tupdateMatrices( light ) {\n\n\t\tconst camera = this.camera;\n\n\t\tconst fov = RAD2DEG * 2 * light.angle * this.focus;\n\t\tconst aspect = this.mapSize.width / this.mapSize.height;\n\t\tconst far = light.distance || camera.far;\n\n\t\tif ( fov !== camera.fov || aspect !== camera.aspect || far !== camera.far ) {\n\n\t\t\tcamera.fov = fov;\n\t\t\tcamera.aspect = aspect;\n\t\t\tcamera.far = far;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t}\n\n\t\tsuper.updateMatrices( light );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.focus = source.focus;\n\n\t\treturn this;\n\n\t}\n\n}\n\nSpotLightShadow.prototype.isSpotLightShadow = true;\n\nclass SpotLight extends Light {\n\n\tconstructor( color, intensity, distance = 0, angle = Math.PI / 3, penumbra = 0, decay = 1 ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.type = 'SpotLight';\n\n\t\tthis.position.copy( Object3D.DefaultUp );\n\t\tthis.updateMatrix();\n\n\t\tthis.target = new Object3D();\n\n\t\tthis.distance = distance;\n\t\tthis.angle = angle;\n\t\tthis.penumbra = penumbra;\n\t\tthis.decay = decay; // for physically correct lights, should be 2.\n\n\t\tthis.shadow = new SpotLightShadow();\n\n\t}\n\n\tget power() {\n\n\t\t// compute the light's luminous power (in lumens) from its intensity (in candela)\n\t\t// by convention for a spotlight, luminous power (lm) = \u03C0 * luminous intensity (cd)\n\t\treturn this.intensity * Math.PI;\n\n\t}\n\n\tset power( power ) {\n\n\t\t// set the light's intensity (in candela) from the desired luminous power (in lumens)\n\t\tthis.intensity = power / Math.PI;\n\n\t}\n\n\tdispose() {\n\n\t\tthis.shadow.dispose();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.angle = source.angle;\n\t\tthis.penumbra = source.penumbra;\n\t\tthis.decay = source.decay;\n\n\t\tthis.target = source.target.clone();\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n}\n\nSpotLight.prototype.isSpotLight = true;\n\nconst _projScreenMatrix = /*@__PURE__*/ new Matrix4();\nconst _lightPositionWorld = /*@__PURE__*/ new Vector3();\nconst _lookTarget = /*@__PURE__*/ new Vector3();\n\nclass PointLightShadow extends LightShadow {\n\n\tconstructor() {\n\n\t\tsuper( new PerspectiveCamera( 90, 1, 0.5, 500 ) );\n\n\t\tthis._frameExtents = new Vector2( 4, 2 );\n\n\t\tthis._viewportCount = 6;\n\n\t\tthis._viewports = [\n\t\t\t// These viewports map a cube-map onto a 2D texture with the\n\t\t\t// following orientation:\n\t\t\t//\n\t\t\t//  xzXZ\n\t\t\t//   y Y\n\t\t\t//\n\t\t\t// X - Positive x direction\n\t\t\t// x - Negative x direction\n\t\t\t// Y - Positive y direction\n\t\t\t// y - Negative y direction\n\t\t\t// Z - Positive z direction\n\t\t\t// z - Negative z direction\n\n\t\t\t// positive X\n\t\t\tnew Vector4( 2, 1, 1, 1 ),\n\t\t\t// negative X\n\t\t\tnew Vector4( 0, 1, 1, 1 ),\n\t\t\t// positive Z\n\t\t\tnew Vector4( 3, 1, 1, 1 ),\n\t\t\t// negative Z\n\t\t\tnew Vector4( 1, 1, 1, 1 ),\n\t\t\t// positive Y\n\t\t\tnew Vector4( 3, 0, 1, 1 ),\n\t\t\t// negative Y\n\t\t\tnew Vector4( 1, 0, 1, 1 )\n\t\t];\n\n\t\tthis._cubeDirections = [\n\t\t\tnew Vector3( 1, 0, 0 ), new Vector3( - 1, 0, 0 ), new Vector3( 0, 0, 1 ),\n\t\t\tnew Vector3( 0, 0, - 1 ), new Vector3( 0, 1, 0 ), new Vector3( 0, - 1, 0 )\n\t\t];\n\n\t\tthis._cubeUps = [\n\t\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ),\n\t\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 0, 1 ),\tnew Vector3( 0, 0, - 1 )\n\t\t];\n\n\t}\n\n\tupdateMatrices( light, viewportIndex = 0 ) {\n\n\t\tconst camera = this.camera;\n\t\tconst shadowMatrix = this.matrix;\n\n\t\tconst far = light.distance || camera.far;\n\n\t\tif ( far !== camera.far ) {\n\n\t\t\tcamera.far = far;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t}\n\n\t\t_lightPositionWorld.setFromMatrixPosition( light.matrixWorld );\n\t\tcamera.position.copy( _lightPositionWorld );\n\n\t\t_lookTarget.copy( camera.position );\n\t\t_lookTarget.add( this._cubeDirections[ viewportIndex ] );\n\t\tcamera.up.copy( this._cubeUps[ viewportIndex ] );\n\t\tcamera.lookAt( _lookTarget );\n\t\tcamera.updateMatrixWorld();\n\n\t\tshadowMatrix.makeTranslation( - _lightPositionWorld.x, - _lightPositionWorld.y, - _lightPositionWorld.z );\n\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\tthis._frustum.setFromProjectionMatrix( _projScreenMatrix );\n\n\t}\n\n}\n\nPointLightShadow.prototype.isPointLightShadow = true;\n\nclass PointLight extends Light {\n\n\tconstructor( color, intensity, distance = 0, decay = 1 ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.type = 'PointLight';\n\n\t\tthis.distance = distance;\n\t\tthis.decay = decay; // for physically correct lights, should be 2.\n\n\t\tthis.shadow = new PointLightShadow();\n\n\t}\n\n\tget power() {\n\n\t\t// compute the light's luminous power (in lumens) from its intensity (in candela)\n\t\t// for an isotropic light source, luminous power (lm) = 4 \u03C0 luminous intensity (cd)\n\t\treturn this.intensity * 4 * Math.PI;\n\n\t}\n\n\tset power( power ) {\n\n\t\t// set the light's intensity (in candela) from the desired luminous power (in lumens)\n\t\tthis.intensity = power / ( 4 * Math.PI );\n\n\t}\n\n\tdispose() {\n\n\t\tthis.shadow.dispose();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.decay = source.decay;\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n}\n\nPointLight.prototype.isPointLight = true;\n\nclass DirectionalLightShadow extends LightShadow {\n\n\tconstructor() {\n\n\t\tsuper( new OrthographicCamera( - 5, 5, 5, - 5, 0.5, 500 ) );\n\n\t}\n\n}\n\nDirectionalLightShadow.prototype.isDirectionalLightShadow = true;\n\nclass DirectionalLight extends Light {\n\n\tconstructor( color, intensity ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.type = 'DirectionalLight';\n\n\t\tthis.position.copy( Object3D.DefaultUp );\n\t\tthis.updateMatrix();\n\n\t\tthis.target = new Object3D();\n\n\t\tthis.shadow = new DirectionalLightShadow();\n\n\t}\n\n\tdispose() {\n\n\t\tthis.shadow.dispose();\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.target = source.target.clone();\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n}\n\nDirectionalLight.prototype.isDirectionalLight = true;\n\nclass AmbientLight extends Light {\n\n\tconstructor( color, intensity ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.type = 'AmbientLight';\n\n\t}\n\n}\n\nAmbientLight.prototype.isAmbientLight = true;\n\nclass RectAreaLight extends Light {\n\n\tconstructor( color, intensity, width = 10, height = 10 ) {\n\n\t\tsuper( color, intensity );\n\n\t\tthis.type = 'RectAreaLight';\n\n\t\tthis.width = width;\n\t\tthis.height = height;\n\n\t}\n\n\tget power() {\n\n\t\t// compute the light's luminous power (in lumens) from its intensity (in nits)\n\t\treturn this.intensity * this.width * this.height * Math.PI;\n\n\t}\n\n\tset power( power ) {\n\n\t\t// set the light's intensity (in nits) from the desired luminous power (in lumens)\n\t\tthis.intensity = power / ( this.width * this.height * Math.PI );\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.width = this.width;\n\t\tdata.object.height = this.height;\n\n\t\treturn data;\n\n\t}\n\n}\n\nRectAreaLight.prototype.isRectAreaLight = true;\n\n/**\n * Primary reference:\n *   https://graphics.stanford.edu/papers/envmap/envmap.pdf\n *\n * Secondary reference:\n *   https://www.ppsloan.org/publications/StupidSH36.pdf\n */\n\n// 3-band SH defined by 9 coefficients\n\nclass SphericalHarmonics3 {\n\n\tconstructor() {\n\n\t\tthis.coefficients = [];\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients.push( new Vector3() );\n\n\t\t}\n\n\t}\n\n\tset( coefficients ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].copy( coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tzero() {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].set( 0, 0, 0 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// get the radiance in the direction of the normal\n\t// target is a Vector3\n\tgetAt( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\tconst coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.282095 );\n\n\t\t// band 1\n\t\ttarget.addScaledVector( coeff[ 1 ], 0.488603 * y );\n\t\ttarget.addScaledVector( coeff[ 2 ], 0.488603 * z );\n\t\ttarget.addScaledVector( coeff[ 3 ], 0.488603 * x );\n\n\t\t// band 2\n\t\ttarget.addScaledVector( coeff[ 4 ], 1.092548 * ( x * y ) );\n\t\ttarget.addScaledVector( coeff[ 5 ], 1.092548 * ( y * z ) );\n\t\ttarget.addScaledVector( coeff[ 6 ], 0.315392 * ( 3.0 * z * z - 1.0 ) );\n\t\ttarget.addScaledVector( coeff[ 7 ], 1.092548 * ( x * z ) );\n\t\ttarget.addScaledVector( coeff[ 8 ], 0.546274 * ( x * x - y * y ) );\n\n\t\treturn target;\n\n\t}\n\n\t// get the irradiance (radiance convolved with cosine lobe) in the direction of the normal\n\t// target is a Vector3\n\t// https://graphics.stanford.edu/papers/envmap/envmap.pdf\n\tgetIrradianceAt( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\tconst coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.886227 ); // \u03C0 * 0.282095\n\n\t\t// band 1\n\t\ttarget.addScaledVector( coeff[ 1 ], 2.0 * 0.511664 * y ); // ( 2 * \u03C0 / 3 ) * 0.488603\n\t\ttarget.addScaledVector( coeff[ 2 ], 2.0 * 0.511664 * z );\n\t\ttarget.addScaledVector( coeff[ 3 ], 2.0 * 0.511664 * x );\n\n\t\t// band 2\n\t\ttarget.addScaledVector( coeff[ 4 ], 2.0 * 0.429043 * x * y ); // ( \u03C0 / 4 ) * 1.092548\n\t\ttarget.addScaledVector( coeff[ 5 ], 2.0 * 0.429043 * y * z );\n\t\ttarget.addScaledVector( coeff[ 6 ], 0.743125 * z * z - 0.247708 ); // ( \u03C0 / 4 ) * 0.315392 * 3\n\t\ttarget.addScaledVector( coeff[ 7 ], 2.0 * 0.429043 * x * z );\n\t\ttarget.addScaledVector( coeff[ 8 ], 0.429043 * ( x * x - y * y ) ); // ( \u03C0 / 4 ) * 0.546274\n\n\t\treturn target;\n\n\t}\n\n\tadd( sh ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].add( sh.coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\taddScaledSH( sh, s ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].addScaledVector( sh.coefficients[ i ], s );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tscale( s ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].multiplyScalar( s );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tlerp( sh, alpha ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].lerp( sh.coefficients[ i ], alpha );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tequals( sh ) {\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( ! this.coefficients[ i ].equals( sh.coefficients[ i ] ) ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n\tcopy( sh ) {\n\n\t\treturn this.set( sh.coefficients );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tfromArray( array, offset = 0 ) {\n\n\t\tconst coefficients = this.coefficients;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].fromArray( array, offset + ( i * 3 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\ttoArray( array = [], offset = 0 ) {\n\n\t\tconst coefficients = this.coefficients;\n\n\t\tfor ( let i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].toArray( array, offset + ( i * 3 ) );\n\n\t\t}\n\n\t\treturn array;\n\n\t}\n\n\t// evaluate the basis functions\n\t// shBasis is an Array[ 9 ]\n\tstatic getBasisAt( normal, shBasis ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tconst x = normal.x, y = normal.y, z = normal.z;\n\n\t\t// band 0\n\t\tshBasis[ 0 ] = 0.282095;\n\n\t\t// band 1\n\t\tshBasis[ 1 ] = 0.488603 * y;\n\t\tshBasis[ 2 ] = 0.488603 * z;\n\t\tshBasis[ 3 ] = 0.488603 * x;\n\n\t\t// band 2\n\t\tshBasis[ 4 ] = 1.092548 * x * y;\n\t\tshBasis[ 5 ] = 1.092548 * y * z;\n\t\tshBasis[ 6 ] = 0.315392 * ( 3 * z * z - 1 );\n\t\tshBasis[ 7 ] = 1.092548 * x * z;\n\t\tshBasis[ 8 ] = 0.546274 * ( x * x - y * y );\n\n\t}\n\n}\n\nSphericalHarmonics3.prototype.isSphericalHarmonics3 = true;\n\nclass LightProbe extends Light {\n\n\tconstructor( sh = new SphericalHarmonics3(), intensity = 1 ) {\n\n\t\tsuper( undefined, intensity );\n\n\t\tthis.sh = sh;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.sh.copy( source.sh );\n\n\t\treturn this;\n\n\t}\n\n\tfromJSON( json ) {\n\n\t\tthis.intensity = json.intensity; // TODO: Move this bit to Light.fromJSON();\n\t\tthis.sh.fromArray( json.sh );\n\n\t\treturn this;\n\n\t}\n\n\ttoJSON( meta ) {\n\n\t\tconst data = super.toJSON( meta );\n\n\t\tdata.object.sh = this.sh.toArray();\n\n\t\treturn data;\n\n\t}\n\n}\n\nLightProbe.prototype.isLightProbe = true;\n\nclass LoaderUtils {\n\n\tstatic decodeText( array ) {\n\n\t\tif ( typeof TextDecoder !== 'undefined' ) {\n\n\t\t\treturn new TextDecoder().decode( array );\n\n\t\t}\n\n\t\t// Avoid the String.fromCharCode.apply(null, array) shortcut, which\n\t\t// throws a \"maximum call stack size exceeded\" error for large arrays.\n\n\t\tlet s = '';\n\n\t\tfor ( let i = 0, il = array.length; i < il; i ++ ) {\n\n\t\t\t// Implicitly assumes little-endian.\n\t\t\ts += String.fromCharCode( array[ i ] );\n\n\t\t}\n\n\t\ttry {\n\n\t\t\t// merges multi-byte utf-8 characters.\n\n\t\t\treturn decodeURIComponent( escape( s ) );\n\n\t\t} catch ( e ) { // see #16358\n\n\t\t\treturn s;\n\n\t\t}\n\n\t}\n\n\tstatic extractUrlBase( url ) {\n\n\t\tconst index = url.lastIndexOf( '/' );\n\n\t\tif ( index === - 1 ) return './';\n\n\t\treturn url.substr( 0, index + 1 );\n\n\t}\n\n}\n\nclass InstancedBufferGeometry extends BufferGeometry {\n\n\tconstructor() {\n\n\t\tsuper();\n\n\t\tthis.type = 'InstancedBufferGeometry';\n\t\tthis.instanceCount = Infinity;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.instanceCount = source.instanceCount;\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\ttoJSON() {\n\n\t\tconst data = super.toJSON( this );\n\n\t\tdata.instanceCount = this.instanceCount;\n\n\t\tdata.isInstancedBufferGeometry = true;\n\n\t\treturn data;\n\n\t}\n\n}\n\nInstancedBufferGeometry.prototype.isInstancedBufferGeometry = true;\n\nclass ImageBitmapLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t\tif ( typeof createImageBitmap === 'undefined' ) {\n\n\t\t\tconsole.warn( 'THREE.ImageBitmapLoader: createImageBitmap() not supported.' );\n\n\t\t}\n\n\t\tif ( typeof fetch === 'undefined' ) {\n\n\t\t\tconsole.warn( 'THREE.ImageBitmapLoader: fetch() not supported.' );\n\n\t\t}\n\n\t\tthis.options = { premultiplyAlpha: 'none' };\n\n\t}\n\n\tsetOptions( options ) {\n\n\t\tthis.options = options;\n\n\t\treturn this;\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tconst scope = this;\n\n\t\tconst cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tconst fetchOptions = {};\n\t\tfetchOptions.credentials = ( this.crossOrigin === 'anonymous' ) ? 'same-origin' : 'include';\n\t\tfetchOptions.headers = this.requestHeader;\n\n\t\tfetch( url, fetchOptions ).then( function ( res ) {\n\n\t\t\treturn res.blob();\n\n\t\t} ).then( function ( blob ) {\n\n\t\t\treturn createImageBitmap( blob, Object.assign( scope.options, { colorSpaceConversion: 'none' } ) );\n\n\t\t} ).then( function ( imageBitmap ) {\n\n\t\t\tCache.add( url, imageBitmap );\n\n\t\t\tif ( onLoad ) onLoad( imageBitmap );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} ).catch( function ( e ) {\n\n\t\t\tif ( onError ) onError( e );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} );\n\n\t\tscope.manager.itemStart( url );\n\n\t}\n\n}\n\nImageBitmapLoader.prototype.isImageBitmapLoader = true;\n\nclass ShapePath {\n\n\tconstructor() {\n\n\t\tthis.type = 'ShapePath';\n\n\t\tthis.color = new Color();\n\n\t\tthis.subPaths = [];\n\t\tthis.currentPath = null;\n\n\t}\n\n\tmoveTo( x, y ) {\n\n\t\tthis.currentPath = new Path();\n\t\tthis.subPaths.push( this.currentPath );\n\t\tthis.currentPath.moveTo( x, y );\n\n\t\treturn this;\n\n\t}\n\n\tlineTo( x, y ) {\n\n\t\tthis.currentPath.lineTo( x, y );\n\n\t\treturn this;\n\n\t}\n\n\tquadraticCurveTo( aCPx, aCPy, aX, aY ) {\n\n\t\tthis.currentPath.quadraticCurveTo( aCPx, aCPy, aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tbezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tthis.currentPath.bezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY );\n\n\t\treturn this;\n\n\t}\n\n\tsplineThru( pts ) {\n\n\t\tthis.currentPath.splineThru( pts );\n\n\t\treturn this;\n\n\t}\n\n\ttoShapes( isCCW, noHoles ) {\n\n\t\tfunction toShapesNoHoles( inSubpaths ) {\n\n\t\t\tconst shapes = [];\n\n\t\t\tfor ( let i = 0, l = inSubpaths.length; i < l; i ++ ) {\n\n\t\t\t\tconst tmpPath = inSubpaths[ i ];\n\n\t\t\t\tconst tmpShape = new Shape();\n\t\t\t\ttmpShape.curves = tmpPath.curves;\n\n\t\t\t\tshapes.push( tmpShape );\n\n\t\t\t}\n\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tfunction isPointInsidePolygon( inPt, inPolygon ) {\n\n\t\t\tconst polyLen = inPolygon.length;\n\n\t\t\t// inPt on polygon contour => immediate success    or\n\t\t\t// toggling of inside/outside at every single! intersection point of an edge\n\t\t\t//  with the horizontal line through inPt, left of inPt\n\t\t\t//  not counting lowerY endpoints of edges and whole edges on that line\n\t\t\tlet inside = false;\n\t\t\tfor ( let p = polyLen - 1, q = 0; q < polyLen; p = q ++ ) {\n\n\t\t\t\tlet edgeLowPt = inPolygon[ p ];\n\t\t\t\tlet edgeHighPt = inPolygon[ q ];\n\n\t\t\t\tlet edgeDx = edgeHighPt.x - edgeLowPt.x;\n\t\t\t\tlet edgeDy = edgeHighPt.y - edgeLowPt.y;\n\n\t\t\t\tif ( Math.abs( edgeDy ) > Number.EPSILON ) {\n\n\t\t\t\t\t// not parallel\n\t\t\t\t\tif ( edgeDy < 0 ) {\n\n\t\t\t\t\t\tedgeLowPt = inPolygon[ q ]; edgeDx = - edgeDx;\n\t\t\t\t\t\tedgeHighPt = inPolygon[ p ]; edgeDy = - edgeDy;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ( inPt.y < edgeLowPt.y ) || ( inPt.y > edgeHighPt.y ) ) \t\tcontinue;\n\n\t\t\t\t\tif ( inPt.y === edgeLowPt.y ) {\n\n\t\t\t\t\t\tif ( inPt.x === edgeLowPt.x )\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\t// continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconst perpEdge = edgeDy * ( inPt.x - edgeLowPt.x ) - edgeDx * ( inPt.y - edgeLowPt.y );\n\t\t\t\t\t\tif ( perpEdge === 0 )\t\t\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\tif ( perpEdge < 0 ) \t\t\t\tcontinue;\n\t\t\t\t\t\tinside = ! inside;\t\t// true intersection left of inPt\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// parallel or collinear\n\t\t\t\t\tif ( inPt.y !== edgeLowPt.y ) \t\tcontinue;\t\t\t// parallel\n\t\t\t\t\t// edge lies on the same horizontal line as inPt\n\t\t\t\t\tif ( ( ( edgeHighPt.x <= inPt.x ) && ( inPt.x <= edgeLowPt.x ) ) ||\n\t\t\t\t\t\t ( ( edgeLowPt.x <= inPt.x ) && ( inPt.x <= edgeHighPt.x ) ) )\t\treturn\ttrue;\t// inPt: Point on contour !\n\t\t\t\t\t// continue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn\tinside;\n\n\t\t}\n\n\t\tconst isClockWise = ShapeUtils.isClockWise;\n\n\t\tconst subPaths = this.subPaths;\n\t\tif ( subPaths.length === 0 ) return [];\n\n\t\tif ( noHoles === true )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tlet solid, tmpPath, tmpShape;\n\t\tconst shapes = [];\n\n\t\tif ( subPaths.length === 1 ) {\n\n\t\t\ttmpPath = subPaths[ 0 ];\n\t\t\ttmpShape = new Shape();\n\t\t\ttmpShape.curves = tmpPath.curves;\n\t\t\tshapes.push( tmpShape );\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tlet holesFirst = ! isClockWise( subPaths[ 0 ].getPoints() );\n\t\tholesFirst = isCCW ? ! holesFirst : holesFirst;\n\n\t\t// console.log(\"Holes first\", holesFirst);\n\n\t\tconst betterShapeHoles = [];\n\t\tconst newShapes = [];\n\t\tlet newShapeHoles = [];\n\t\tlet mainIdx = 0;\n\t\tlet tmpPoints;\n\n\t\tnewShapes[ mainIdx ] = undefined;\n\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\tfor ( let i = 0, l = subPaths.length; i < l; i ++ ) {\n\n\t\t\ttmpPath = subPaths[ i ];\n\t\t\ttmpPoints = tmpPath.getPoints();\n\t\t\tsolid = isClockWise( tmpPoints );\n\t\t\tsolid = isCCW ? ! solid : solid;\n\n\t\t\tif ( solid ) {\n\n\t\t\t\tif ( ( ! holesFirst ) && ( newShapes[ mainIdx ] ) )\tmainIdx ++;\n\n\t\t\t\tnewShapes[ mainIdx ] = { s: new Shape(), p: tmpPoints };\n\t\t\t\tnewShapes[ mainIdx ].s.curves = tmpPath.curves;\n\n\t\t\t\tif ( holesFirst )\tmainIdx ++;\n\t\t\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\t\t\t//console.log('cw', i);\n\n\t\t\t} else {\n\n\t\t\t\tnewShapeHoles[ mainIdx ].push( { h: tmpPath, p: tmpPoints[ 0 ] } );\n\n\t\t\t\t//console.log('ccw', i);\n\n\t\t\t}\n\n\t\t}\n\n\t\t// only Holes? -> probably all Shapes with wrong orientation\n\t\tif ( ! newShapes[ 0 ] )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tif ( newShapes.length > 1 ) {\n\n\t\t\tlet ambiguous = false;\n\t\t\tconst toChange = [];\n\n\t\t\tfor ( let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tbetterShapeHoles[ sIdx ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( let sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tconst sho = newShapeHoles[ sIdx ];\n\n\t\t\t\tfor ( let hIdx = 0; hIdx < sho.length; hIdx ++ ) {\n\n\t\t\t\t\tconst ho = sho[ hIdx ];\n\t\t\t\t\tlet hole_unassigned = true;\n\n\t\t\t\t\tfor ( let s2Idx = 0; s2Idx < newShapes.length; s2Idx ++ ) {\n\n\t\t\t\t\t\tif ( isPointInsidePolygon( ho.p, newShapes[ s2Idx ].p ) ) {\n\n\t\t\t\t\t\t\tif ( sIdx !== s2Idx )\ttoChange.push( { froms: sIdx, tos: s2Idx, hole: hIdx } );\n\t\t\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\t\t\thole_unassigned = false;\n\t\t\t\t\t\t\t\tbetterShapeHoles[ s2Idx ].push( ho );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tambiguous = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\tbetterShapeHoles[ sIdx ].push( ho );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t\t// console.log(\"ambiguous: \", ambiguous);\n\n\t\t\tif ( toChange.length > 0 ) {\n\n\t\t\t\t// console.log(\"to change: \", toChange);\n\t\t\t\tif ( ! ambiguous )\tnewShapeHoles = betterShapeHoles;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlet tmpHoles;\n\n\t\tfor ( let i = 0, il = newShapes.length; i < il; i ++ ) {\n\n\t\t\ttmpShape = newShapes[ i ].s;\n\t\t\tshapes.push( tmpShape );\n\t\t\ttmpHoles = newShapeHoles[ i ];\n\n\t\t\tfor ( let j = 0, jl = tmpHoles.length; j < jl; j ++ ) {\n\n\t\t\t\ttmpShape.holes.push( tmpHoles[ j ].h );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//console.log(\"shape\", shapes);\n\n\t\treturn shapes;\n\n\t}\n\n}\n\nclass Font {\n\n\tconstructor( data ) {\n\n\t\tthis.type = 'Font';\n\n\t\tthis.data = data;\n\n\t}\n\n\tgenerateShapes( text, size = 100 ) {\n\n\t\tconst shapes = [];\n\t\tconst paths = createPaths( text, size, this.data );\n\n\t\tfor ( let p = 0, pl = paths.length; p < pl; p ++ ) {\n\n\t\t\tArray.prototype.push.apply( shapes, paths[ p ].toShapes() );\n\n\t\t}\n\n\t\treturn shapes;\n\n\t}\n\n}\n\nfunction createPaths( text, size, data ) {\n\n\tconst chars = Array.from( text );\n\tconst scale = size / data.resolution;\n\tconst line_height = ( data.boundingBox.yMax - data.boundingBox.yMin + data.underlineThickness ) * scale;\n\n\tconst paths = [];\n\n\tlet offsetX = 0, offsetY = 0;\n\n\tfor ( let i = 0; i < chars.length; i ++ ) {\n\n\t\tconst char = chars[ i ];\n\n\t\tif ( char === '\\n' ) {\n\n\t\t\toffsetX = 0;\n\t\t\toffsetY -= line_height;\n\n\t\t} else {\n\n\t\t\tconst ret = createPath( char, scale, offsetX, offsetY, data );\n\t\t\toffsetX += ret.offsetX;\n\t\t\tpaths.push( ret.path );\n\n\t\t}\n\n\t}\n\n\treturn paths;\n\n}\n\nfunction createPath( char, scale, offsetX, offsetY, data ) {\n\n\tconst glyph = data.glyphs[ char ] || data.glyphs[ '?' ];\n\n\tif ( ! glyph ) {\n\n\t\tconsole.error( 'THREE.Font: character \"' + char + '\" does not exists in font family ' + data.familyName + '.' );\n\n\t\treturn;\n\n\t}\n\n\tconst path = new ShapePath();\n\n\tlet x, y, cpx, cpy, cpx1, cpy1, cpx2, cpy2;\n\n\tif ( glyph.o ) {\n\n\t\tconst outline = glyph._cachedOutline || ( glyph._cachedOutline = glyph.o.split( ' ' ) );\n\n\t\tfor ( let i = 0, l = outline.length; i < l; ) {\n\n\t\t\tconst action = outline[ i ++ ];\n\n\t\t\tswitch ( action ) {\n\n\t\t\t\tcase 'm': // moveTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.moveTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'l': // lineTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.lineTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'q': // quadraticCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.quadraticCurveTo( cpx1, cpy1, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'b': // bezierCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx2 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy2 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.bezierCurveTo( cpx1, cpy1, cpx2, cpy2, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn { offsetX: glyph.ha * scale, path: path };\n\n}\n\nFont.prototype.isFont = true;\n\nlet _context;\n\nconst AudioContext = {\n\n\tgetContext: function () {\n\n\t\tif ( _context === undefined ) {\n\n\t\t\t_context = new ( window.AudioContext || window.webkitAudioContext )();\n\n\t\t}\n\n\t\treturn _context;\n\n\t},\n\n\tsetContext: function ( value ) {\n\n\t\t_context = value;\n\n\t}\n\n};\n\nclass AudioLoader extends Loader {\n\n\tconstructor( manager ) {\n\n\t\tsuper( manager );\n\n\t}\n\n\tload( url, onLoad, onProgress, onError ) {\n\n\t\tconst scope = this;\n\n\t\tconst loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setPath( this.path );\n\t\tloader.setRequestHeader( this.requestHeader );\n\t\tloader.setWithCredentials( this.withCredentials );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\ttry {\n\n\t\t\t\t// Create a copy of the buffer. The `decodeAudioData` method\n\t\t\t\t// detaches the buffer when complete, preventing reuse.\n\t\t\t\tconst bufferCopy = buffer.slice( 0 );\n\n\t\t\t\tconst context = AudioContext.getContext();\n\t\t\t\tcontext.decodeAudioData( bufferCopy, function ( audioBuffer ) {\n\n\t\t\t\t\tonLoad( audioBuffer );\n\n\t\t\t\t} );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tif ( onError ) {\n\n\t\t\t\t\tonError( e );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( e );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t}\n\n}\n\nclass HemisphereLightProbe extends LightProbe {\n\n\tconstructor( skyColor, groundColor, intensity = 1 ) {\n\n\t\tsuper( undefined, intensity );\n\n\t\tconst color1 = new Color().set( skyColor );\n\t\tconst color2 = new Color().set( groundColor );\n\n\t\tconst sky = new Vector3( color1.r, color1.g, color1.b );\n\t\tconst ground = new Vector3( color2.r, color2.g, color2.b );\n\n\t\t// without extra factor of PI in the shader, should = 1 / Math.sqrt( Math.PI );\n\t\tconst c0 = Math.sqrt( Math.PI );\n\t\tconst c1 = c0 * Math.sqrt( 0.75 );\n\n\t\tthis.sh.coefficients[ 0 ].copy( sky ).add( ground ).multiplyScalar( c0 );\n\t\tthis.sh.coefficients[ 1 ].copy( sky ).sub( ground ).multiplyScalar( c1 );\n\n\t}\n\n}\n\nHemisphereLightProbe.prototype.isHemisphereLightProbe = true;\n\nclass AmbientLightProbe extends LightProbe {\n\n\tconstructor( color, intensity = 1 ) {\n\n\t\tsuper( undefined, intensity );\n\n\t\tconst color1 = new Color().set( color );\n\n\t\t// without extra factor of PI in the shader, would be 2 / Math.sqrt( Math.PI );\n\t\tthis.sh.coefficients[ 0 ].set( color1.r, color1.g, color1.b ).multiplyScalar( 2 * Math.sqrt( Math.PI ) );\n\n\t}\n\n}\n\nAmbientLightProbe.prototype.isAmbientLightProbe = true;\n\nconst _eyeRight = /*@__PURE__*/ new Matrix4();\nconst _eyeLeft = /*@__PURE__*/ new Matrix4();\n\nclass Audio extends Object3D {\n\n\tconstructor( listener ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'Audio';\n\n\t\tthis.listener = listener;\n\t\tthis.context = listener.context;\n\n\t\tthis.gain = this.context.createGain();\n\t\tthis.gain.connect( listener.getInput() );\n\n\t\tthis.autoplay = false;\n\n\t\tthis.buffer = null;\n\t\tthis.detune = 0;\n\t\tthis.loop = false;\n\t\tthis.loopStart = 0;\n\t\tthis.loopEnd = 0;\n\t\tthis.offset = 0;\n\t\tthis.duration = undefined;\n\t\tthis.playbackRate = 1;\n\t\tthis.isPlaying = false;\n\t\tthis.hasPlaybackControl = true;\n\t\tthis.source = null;\n\t\tthis.sourceType = 'empty';\n\n\t\tthis._startedAt = 0;\n\t\tthis._progress = 0;\n\t\tthis._connected = false;\n\n\t\tthis.filters = [];\n\n\t}\n\n\tgetOutput() {\n\n\t\treturn this.gain;\n\n\t}\n\n\tsetNodeSource( audioNode ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'audioNode';\n\t\tthis.source = audioNode;\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t}\n\n\tsetMediaElementSource( mediaElement ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaNode';\n\t\tthis.source = this.context.createMediaElementSource( mediaElement );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t}\n\n\tsetMediaStreamSource( mediaStream ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaStreamNode';\n\t\tthis.source = this.context.createMediaStreamSource( mediaStream );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t}\n\n\tsetBuffer( audioBuffer ) {\n\n\t\tthis.buffer = audioBuffer;\n\t\tthis.sourceType = 'buffer';\n\n\t\tif ( this.autoplay ) this.play();\n\n\t\treturn this;\n\n\t}\n\n\tplay( delay = 0 ) {\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: Audio is already playing.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._startedAt = this.context.currentTime + delay;\n\n\t\tconst source = this.context.createBufferSource();\n\t\tsource.buffer = this.buffer;\n\t\tsource.loop = this.loop;\n\t\tsource.loopStart = this.loopStart;\n\t\tsource.loopEnd = this.loopEnd;\n\t\tsource.onended = this.onEnded.bind( this );\n\t\tsource.start( this._startedAt, this._progress + this.offset, this.duration );\n\n\t\tthis.isPlaying = true;\n\n\t\tthis.source = source;\n\n\t\tthis.setDetune( this.detune );\n\t\tthis.setPlaybackRate( this.playbackRate );\n\n\t\treturn this.connect();\n\n\t}\n\n\tpause() {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\t// update current progress\n\n\t\t\tthis._progress += Math.max( this.context.currentTime - this._startedAt, 0 ) * this.playbackRate;\n\n\t\t\tif ( this.loop === true ) {\n\n\t\t\t\t// ensure _progress does not exceed duration with looped audios\n\n\t\t\t\tthis._progress = this._progress % ( this.duration || this.buffer.duration );\n\n\t\t\t}\n\n\t\t\tthis.source.stop();\n\t\t\tthis.source.onended = null;\n\n\t\t\tthis.isPlaying = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tstop() {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._progress = 0;\n\n\t\tthis.source.stop();\n\t\tthis.source.onended = null;\n\t\tthis.isPlaying = false;\n\n\t\treturn this;\n\n\t}\n\n\tconnect() {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.connect( this.filters[ 0 ] );\n\n\t\t\tfor ( let i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].connect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].connect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.connect( this.getOutput() );\n\n\t\t}\n\n\t\tthis._connected = true;\n\n\t\treturn this;\n\n\t}\n\n\tdisconnect() {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.disconnect( this.filters[ 0 ] );\n\n\t\t\tfor ( let i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].disconnect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].disconnect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.disconnect( this.getOutput() );\n\n\t\t}\n\n\t\tthis._connected = false;\n\n\t\treturn this;\n\n\t}\n\n\tgetFilters() {\n\n\t\treturn this.filters;\n\n\t}\n\n\tsetFilters( value ) {\n\n\t\tif ( ! value ) value = [];\n\n\t\tif ( this._connected === true ) {\n\n\t\t\tthis.disconnect();\n\t\t\tthis.filters = value.slice();\n\t\t\tthis.connect();\n\n\t\t} else {\n\n\t\t\tthis.filters = value.slice();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetDetune( value ) {\n\n\t\tthis.detune = value;\n\n\t\tif ( this.source.detune === undefined ) return; // only set detune when available\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.detune.setTargetAtTime( this.detune, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetDetune() {\n\n\t\treturn this.detune;\n\n\t}\n\n\tgetFilter() {\n\n\t\treturn this.getFilters()[ 0 ];\n\n\t}\n\n\tsetFilter( filter ) {\n\n\t\treturn this.setFilters( filter ? [ filter ] : [] );\n\n\t}\n\n\tsetPlaybackRate( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.playbackRate = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.playbackRate.setTargetAtTime( this.playbackRate, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tgetPlaybackRate() {\n\n\t\treturn this.playbackRate;\n\n\t}\n\n\tonEnded() {\n\n\t\tthis.isPlaying = false;\n\n\t}\n\n\tgetLoop() {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn false;\n\n\t\t}\n\n\t\treturn this.loop;\n\n\t}\n\n\tsetLoop( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.loop = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.loop = this.loop;\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetLoopStart( value ) {\n\n\t\tthis.loopStart = value;\n\n\t\treturn this;\n\n\t}\n\n\tsetLoopEnd( value ) {\n\n\t\tthis.loopEnd = value;\n\n\t\treturn this;\n\n\t}\n\n\tgetVolume() {\n\n\t\treturn this.gain.gain.value;\n\n\t}\n\n\tsetVolume( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass AudioAnalyser {\n\n\tconstructor( audio, fftSize = 2048 ) {\n\n\t\tthis.analyser = audio.context.createAnalyser();\n\t\tthis.analyser.fftSize = fftSize;\n\n\t\tthis.data = new Uint8Array( this.analyser.frequencyBinCount );\n\n\t\taudio.getOutput().connect( this.analyser );\n\n\t}\n\n\n\tgetFrequencyData() {\n\n\t\tthis.analyser.getByteFrequencyData( this.data );\n\n\t\treturn this.data;\n\n\t}\n\n\tgetAverageFrequency() {\n\n\t\tlet value = 0;\n\t\tconst data = this.getFrequencyData();\n\n\t\tfor ( let i = 0; i < data.length; i ++ ) {\n\n\t\t\tvalue += data[ i ];\n\n\t\t}\n\n\t\treturn value / data.length;\n\n\t}\n\n}\n\nclass PropertyMixer {\n\n\tconstructor( binding, typeName, valueSize ) {\n\n\t\tthis.binding = binding;\n\t\tthis.valueSize = valueSize;\n\n\t\tlet mixFunction,\n\t\t\tmixFunctionAdditive,\n\t\t\tsetIdentity;\n\n\t\t// buffer layout: [ incoming | accu0 | accu1 | orig | addAccu | (optional work) ]\n\t\t//\n\t\t// interpolators can use .buffer as their .result\n\t\t// the data then goes to 'incoming'\n\t\t//\n\t\t// 'accu0' and 'accu1' are used frame-interleaved for\n\t\t// the cumulative result and are compared to detect\n\t\t// changes\n\t\t//\n\t\t// 'orig' stores the original state of the property\n\t\t//\n\t\t// 'add' is used for additive cumulative results\n\t\t//\n\t\t// 'work' is optional and is only present for quaternion types. It is used\n\t\t// to store intermediate quaternion multiplication results\n\n\t\tswitch ( typeName ) {\n\n\t\t\tcase 'quaternion':\n\t\t\t\tmixFunction = this._slerp;\n\t\t\t\tmixFunctionAdditive = this._slerpAdditive;\n\t\t\t\tsetIdentity = this._setAdditiveIdentityQuaternion;\n\n\t\t\t\tthis.buffer = new Float64Array( valueSize * 6 );\n\t\t\t\tthis._workIndex = 5;\n\t\t\t\tbreak;\n\n\t\t\tcase 'string':\n\t\t\tcase 'bool':\n\t\t\t\tmixFunction = this._select;\n\n\t\t\t\t// Use the regular mix function and for additive on these types,\n\t\t\t\t// additive is not relevant for non-numeric types\n\t\t\t\tmixFunctionAdditive = this._select;\n\n\t\t\t\tsetIdentity = this._setAdditiveIdentityOther;\n\n\t\t\t\tthis.buffer = new Array( valueSize * 5 );\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tmixFunction = this._lerp;\n\t\t\t\tmixFunctionAdditive = this._lerpAdditive;\n\t\t\t\tsetIdentity = this._setAdditiveIdentityNumeric;\n\n\t\t\t\tthis.buffer = new Float64Array( valueSize * 5 );\n\n\t\t}\n\n\t\tthis._mixBufferRegion = mixFunction;\n\t\tthis._mixBufferRegionAdditive = mixFunctionAdditive;\n\t\tthis._setIdentity = setIdentity;\n\t\tthis._origIndex = 3;\n\t\tthis._addIndex = 4;\n\n\t\tthis.cumulativeWeight = 0;\n\t\tthis.cumulativeWeightAdditive = 0;\n\n\t\tthis.useCount = 0;\n\t\tthis.referenceCount = 0;\n\n\t}\n\n\t// accumulate data in the 'incoming' region into 'accu<i>'\n\taccumulate( accuIndex, weight ) {\n\n\t\t// note: happily accumulating nothing when weight = 0, the caller knows\n\t\t// the weight and shouldn't have made the call in the first place\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = accuIndex * stride + stride;\n\n\t\tlet currentWeight = this.cumulativeWeight;\n\n\t\tif ( currentWeight === 0 ) {\n\n\t\t\t// accuN := incoming * weight\n\n\t\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ offset + i ] = buffer[ i ];\n\n\t\t\t}\n\n\t\t\tcurrentWeight = weight;\n\n\t\t} else {\n\n\t\t\t// accuN := accuN + incoming * weight\n\n\t\t\tcurrentWeight += weight;\n\t\t\tconst mix = weight / currentWeight;\n\t\t\tthis._mixBufferRegion( buffer, offset, 0, mix, stride );\n\n\t\t}\n\n\t\tthis.cumulativeWeight = currentWeight;\n\n\t}\n\n\t// accumulate data in the 'incoming' region into 'add'\n\taccumulateAdditive( weight ) {\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = stride * this._addIndex;\n\n\t\tif ( this.cumulativeWeightAdditive === 0 ) {\n\n\t\t\t// add = identity\n\n\t\t\tthis._setIdentity();\n\n\t\t}\n\n\t\t// add := add + incoming * weight\n\n\t\tthis._mixBufferRegionAdditive( buffer, offset, 0, weight, stride );\n\t\tthis.cumulativeWeightAdditive += weight;\n\n\t}\n\n\t// apply the state of 'accu<i>' to the binding when accus differ\n\tapply( accuIndex ) {\n\n\t\tconst stride = this.valueSize,\n\t\t\tbuffer = this.buffer,\n\t\t\toffset = accuIndex * stride + stride,\n\n\t\t\tweight = this.cumulativeWeight,\n\t\t\tweightAdditive = this.cumulativeWeightAdditive,\n\n\t\t\tbinding = this.binding;\n\n\t\tthis.cumulativeWeight = 0;\n\t\tthis.cumulativeWeightAdditive = 0;\n\n\t\tif ( weight < 1 ) {\n\n\t\t\t// accuN := accuN + original * ( 1 - cumulativeWeight )\n\n\t\t\tconst originalValueOffset = stride * this._origIndex;\n\n\t\t\tthis._mixBufferRegion(\n\t\t\t\tbuffer, offset, originalValueOffset, 1 - weight, stride );\n\n\t\t}\n\n\t\tif ( weightAdditive > 0 ) {\n\n\t\t\t// accuN := accuN + additive accuN\n\n\t\t\tthis._mixBufferRegionAdditive( buffer, offset, this._addIndex * stride, 1, stride );\n\n\t\t}\n\n\t\tfor ( let i = stride, e = stride + stride; i !== e; ++ i ) {\n\n\t\t\tif ( buffer[ i ] !== buffer[ i + stride ] ) {\n\n\t\t\t\t// value has changed -> update scene graph\n\n\t\t\t\tbinding.setValue( buffer, offset );\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// remember the state of the bound property and copy it to both accus\n\tsaveOriginalState() {\n\n\t\tconst binding = this.binding;\n\n\t\tconst buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\n\t\t\toriginalValueOffset = stride * this._origIndex;\n\n\t\tbinding.getValue( buffer, originalValueOffset );\n\n\t\t// accu[0..1] := orig -- initially detect changes against the original\n\t\tfor ( let i = stride, e = originalValueOffset; i !== e; ++ i ) {\n\n\t\t\tbuffer[ i ] = buffer[ originalValueOffset + ( i % stride ) ];\n\n\t\t}\n\n\t\t// Add to identity for additive\n\t\tthis._setIdentity();\n\n\t\tthis.cumulativeWeight = 0;\n\t\tthis.cumulativeWeightAdditive = 0;\n\n\t}\n\n\t// apply the state previously taken via 'saveOriginalState' to the binding\n\trestoreOriginalState() {\n\n\t\tconst originalValueOffset = this.valueSize * 3;\n\t\tthis.binding.setValue( this.buffer, originalValueOffset );\n\n\t}\n\n\t_setAdditiveIdentityNumeric() {\n\n\t\tconst startIndex = this._addIndex * this.valueSize;\n\t\tconst endIndex = startIndex + this.valueSize;\n\n\t\tfor ( let i = startIndex; i < endIndex; i ++ ) {\n\n\t\t\tthis.buffer[ i ] = 0;\n\n\t\t}\n\n\t}\n\n\t_setAdditiveIdentityQuaternion() {\n\n\t\tthis._setAdditiveIdentityNumeric();\n\t\tthis.buffer[ this._addIndex * this.valueSize + 3 ] = 1;\n\n\t}\n\n\t_setAdditiveIdentityOther() {\n\n\t\tconst startIndex = this._origIndex * this.valueSize;\n\t\tconst targetIndex = this._addIndex * this.valueSize;\n\n\t\tfor ( let i = 0; i < this.valueSize; i ++ ) {\n\n\t\t\tthis.buffer[ targetIndex + i ] = this.buffer[ startIndex + i ];\n\n\t\t}\n\n\t}\n\n\n\t// mix functions\n\n\t_select( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tif ( t >= 0.5 ) {\n\n\t\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ dstOffset + i ] = buffer[ srcOffset + i ];\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_slerp( buffer, dstOffset, srcOffset, t ) {\n\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t );\n\n\t}\n\n\t_slerpAdditive( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tconst workOffset = this._workIndex * stride;\n\n\t\t// Store result in intermediate buffer offset\n\t\tQuaternion.multiplyQuaternionsFlat( buffer, workOffset, buffer, dstOffset, buffer, srcOffset );\n\n\t\t// Slerp to the intermediate result\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, workOffset, t );\n\n\t}\n\n\t_lerp( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tconst s = 1 - t;\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tconst j = dstOffset + i;\n\n\t\t\tbuffer[ j ] = buffer[ j ] * s + buffer[ srcOffset + i ] * t;\n\n\t\t}\n\n\t}\n\n\t_lerpAdditive( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tfor ( let i = 0; i !== stride; ++ i ) {\n\n\t\t\tconst j = dstOffset + i;\n\n\t\t\tbuffer[ j ] = buffer[ j ] + buffer[ srcOffset + i ] * t;\n\n\t\t}\n\n\t}\n\n}\n\n// Characters [].:/ are reserved for track binding syntax.\nconst _RESERVED_CHARS_RE = '\\\\[\\\\]\\\\.:\\\\/';\nconst _reservedRe = new RegExp( '[' + _RESERVED_CHARS_RE + ']', 'g' );\n\n// Attempts to allow node names from any language. ES5's `\\w` regexp matches\n// only latin characters, and the unicode \\p{L} is not yet supported. So\n// instead, we exclude reserved characters and match everything else.\nconst _wordChar = '[^' + _RESERVED_CHARS_RE + ']';\nconst _wordCharOrDot = '[^' + _RESERVED_CHARS_RE.replace( '\\\\.', '' ) + ']';\n\n// Parent directories, delimited by '/' or ':'. Currently unused, but must\n// be matched to parse the rest of the track name.\nconst _directoryRe = /((?:WC+[\\/:])*)/.source.replace( 'WC', _wordChar );\n\n// Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.\nconst _nodeRe = /(WCOD+)?/.source.replace( 'WCOD', _wordCharOrDot );\n\n// Object on target node, and accessor. May not contain reserved\n// characters. Accessor may contain any character except closing bracket.\nconst _objectRe = /(?:\\.(WC+)(?:\\[(.+)\\])?)?/.source.replace( 'WC', _wordChar );\n\n// Property and accessor. May not contain reserved characters. Accessor may\n// contain any non-bracket characters.\nconst _propertyRe = /\\.(WC+)(?:\\[(.+)\\])?/.source.replace( 'WC', _wordChar );\n\nconst _trackRe = new RegExp( ''\n\t+ '^'\n\t+ _directoryRe\n\t+ _nodeRe\n\t+ _objectRe\n\t+ _propertyRe\n\t+ '$'\n);\n\nconst _supportedObjectNames = [ 'material', 'materials', 'bones' ];\n\nclass Composite {\n\n\tconstructor( targetGroup, path, optionalParsedPath ) {\n\n\t\tconst parsedPath = optionalParsedPath || PropertyBinding.parseTrackName( path );\n\n\t\tthis._targetGroup = targetGroup;\n\t\tthis._bindings = targetGroup.subscribe_( path, parsedPath );\n\n\t}\n\n\tgetValue( array, offset ) {\n\n\t\tthis.bind(); // bind all binding\n\n\t\tconst firstValidIndex = this._targetGroup.nCachedObjects_,\n\t\t\tbinding = this._bindings[ firstValidIndex ];\n\n\t\t// and only call .getValue on the first\n\t\tif ( binding !== undefined ) binding.getValue( array, offset );\n\n\t}\n\n\tsetValue( array, offset ) {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].setValue( array, offset );\n\n\t\t}\n\n\t}\n\n\tbind() {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].bind();\n\n\t\t}\n\n\t}\n\n\tunbind() {\n\n\t\tconst bindings = this._bindings;\n\n\t\tfor ( let i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].unbind();\n\n\t\t}\n\n\t}\n\n}\n\n// Note: This class uses a State pattern on a per-method basis:\n// 'bind' sets 'this.getValue' / 'setValue' and shadows the\n// prototype version of these methods with one that represents\n// the bound state. When the property is not found, the methods\n// become no-ops.\nclass PropertyBinding {\n\n\tconstructor( rootNode, path, parsedPath ) {\n\n\t\tthis.path = path;\n\t\tthis.parsedPath = parsedPath || PropertyBinding.parseTrackName( path );\n\n\t\tthis.node = PropertyBinding.findNode( rootNode, this.parsedPath.nodeName ) || rootNode;\n\n\t\tthis.rootNode = rootNode;\n\n\t\t// initial state of these methods that calls 'bind'\n\t\tthis.getValue = this._getValue_unbound;\n\t\tthis.setValue = this._setValue_unbound;\n\n\t}\n\n\n\tstatic create( root, path, parsedPath ) {\n\n\t\tif ( ! ( root && root.isAnimationObjectGroup ) ) {\n\n\t\t\treturn new PropertyBinding( root, path, parsedPath );\n\n\t\t} else {\n\n\t\t\treturn new PropertyBinding.Composite( root, path, parsedPath );\n\n\t\t}\n\n\t}\n\n\t/**\n\t * Replaces spaces with underscores and removes unsupported characters from\n\t * node names, to ensure compatibility with parseTrackName().\n\t *\n\t * @param {string} name Node name to be sanitized.\n\t * @return {string}\n\t */\n\tstatic sanitizeNodeName( name ) {\n\n\t\treturn name.replace( /\\s/g, '_' ).replace( _reservedRe, '' );\n\n\t}\n\n\tstatic parseTrackName( trackName ) {\n\n\t\tconst matches = _trackRe.exec( trackName );\n\n\t\tif ( ! matches ) {\n\n\t\t\tthrow new Error( 'PropertyBinding: Cannot parse trackName: ' + trackName );\n\n\t\t}\n\n\t\tconst results = {\n\t\t\t// directoryName: matches[ 1 ], // (tschw) currently unused\n\t\t\tnodeName: matches[ 2 ],\n\t\t\tobjectName: matches[ 3 ],\n\t\t\tobjectIndex: matches[ 4 ],\n\t\t\tpropertyName: matches[ 5 ], // required\n\t\t\tpropertyIndex: matches[ 6 ]\n\t\t};\n\n\t\tconst lastDot = results.nodeName && results.nodeName.lastIndexOf( '.' );\n\n\t\tif ( lastDot !== undefined && lastDot !== - 1 ) {\n\n\t\t\tconst objectName = results.nodeName.substring( lastDot + 1 );\n\n\t\t\t// Object names must be checked against an allowlist. Otherwise, there\n\t\t\t// is no way to parse 'foo.bar.baz': 'baz' must be a property, but\n\t\t\t// 'bar' could be the objectName, or part of a nodeName (which can\n\t\t\t// include '.' characters).\n\t\t\tif ( _supportedObjectNames.indexOf( objectName ) !== - 1 ) {\n\n\t\t\t\tresults.nodeName = results.nodeName.substring( 0, lastDot );\n\t\t\t\tresults.objectName = objectName;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( results.propertyName === null || results.propertyName.length === 0 ) {\n\n\t\t\tthrow new Error( 'PropertyBinding: can not parse propertyName from trackName: ' + trackName );\n\n\t\t}\n\n\t\treturn results;\n\n\t}\n\n\tstatic findNode( root, nodeName ) {\n\n\t\tif ( ! nodeName || nodeName === '' || nodeName === '.' || nodeName === - 1 || nodeName === root.name || nodeName === root.uuid ) {\n\n\t\t\treturn root;\n\n\t\t}\n\n\t\t// search into skeleton bones.\n\t\tif ( root.skeleton ) {\n\n\t\t\tconst bone = root.skeleton.getBoneByName( nodeName );\n\n\t\t\tif ( bone !== undefined ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// search into node subtree.\n\t\tif ( root.children ) {\n\n\t\t\tconst searchNodeSubtree = function ( children ) {\n\n\t\t\t\tfor ( let i = 0; i < children.length; i ++ ) {\n\n\t\t\t\t\tconst childNode = children[ i ];\n\n\t\t\t\t\tif ( childNode.name === nodeName || childNode.uuid === nodeName ) {\n\n\t\t\t\t\t\treturn childNode;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tconst result = searchNodeSubtree( childNode.children );\n\n\t\t\t\t\tif ( result ) return result;\n\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\n\t\t\t};\n\n\t\t\tconst subTreeNode = searchNodeSubtree( root.children );\n\n\t\t\tif ( subTreeNode ) {\n\n\t\t\t\treturn subTreeNode;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t// these are used to \"bind\" a nonexistent property\n\t_getValue_unavailable() {}\n\t_setValue_unavailable() {}\n\n\t// Getters\n\n\t_getValue_direct( buffer, offset ) {\n\n\t\tbuffer[ offset ] = this.targetObject[ this.propertyName ];\n\n\t}\n\n\t_getValue_array( buffer, offset ) {\n\n\t\tconst source = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = source.length; i !== n; ++ i ) {\n\n\t\t\tbuffer[ offset ++ ] = source[ i ];\n\n\t\t}\n\n\t}\n\n\t_getValue_arrayElement( buffer, offset ) {\n\n\t\tbuffer[ offset ] = this.resolvedProperty[ this.propertyIndex ];\n\n\t}\n\n\t_getValue_toArray( buffer, offset ) {\n\n\t\tthis.resolvedProperty.toArray( buffer, offset );\n\n\t}\n\n\t// Direct\n\n\t_setValue_direct( buffer, offset ) {\n\n\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\n\t}\n\n\t_setValue_direct_setNeedsUpdate( buffer, offset ) {\n\n\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_direct_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t// EntireArray\n\n\t_setValue_array( buffer, offset ) {\n\n\t\tconst dest = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t}\n\n\t}\n\n\t_setValue_array_setNeedsUpdate( buffer, offset ) {\n\n\t\tconst dest = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t}\n\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_array_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tconst dest = this.resolvedProperty;\n\n\t\tfor ( let i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t}\n\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t// ArrayElement\n\n\t_setValue_arrayElement( buffer, offset ) {\n\n\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\n\t}\n\n\t_setValue_arrayElement_setNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_arrayElement_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t// HasToFromArray\n\n\t_setValue_fromArray( buffer, offset ) {\n\n\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\n\t}\n\n\t_setValue_fromArray_setNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\tthis.targetObject.needsUpdate = true;\n\n\t}\n\n\t_setValue_fromArray_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t}\n\n\t_getValue_unbound( targetArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.getValue( targetArray, offset );\n\n\t}\n\n\t_setValue_unbound( sourceArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.setValue( sourceArray, offset );\n\n\t}\n\n\t// create getter / setter pair for a property in the scene graph\n\tbind() {\n\n\t\tlet targetObject = this.node;\n\t\tconst parsedPath = this.parsedPath;\n\n\t\tconst objectName = parsedPath.objectName;\n\t\tconst propertyName = parsedPath.propertyName;\n\t\tlet propertyIndex = parsedPath.propertyIndex;\n\n\t\tif ( ! targetObject ) {\n\n\t\t\ttargetObject = PropertyBinding.findNode( this.rootNode, parsedPath.nodeName ) || this.rootNode;\n\n\t\t\tthis.node = targetObject;\n\n\t\t}\n\n\t\t// set fail state so we can just 'return' on error\n\t\tthis.getValue = this._getValue_unavailable;\n\t\tthis.setValue = this._setValue_unavailable;\n\n\t\t// ensure there is a value node\n\t\tif ( ! targetObject ) {\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update node for track: ' + this.path + ' but it wasn\\'t found.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( objectName ) {\n\n\t\t\tlet objectIndex = parsedPath.objectIndex;\n\n\t\t\t// special cases were we need to reach deeper into the hierarchy to get the face materials....\n\t\t\tswitch ( objectName ) {\n\n\t\t\t\tcase 'materials':\n\n\t\t\t\t\tif ( ! targetObject.material ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material as node does not have a material.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! targetObject.material.materials ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject.material.materials;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bones':\n\n\t\t\t\t\tif ( ! targetObject.skeleton ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// potential future optimization: skip this if propertyIndex is already an integer\n\t\t\t\t\t// and convert the integer string to a true integer.\n\n\t\t\t\t\ttargetObject = targetObject.skeleton.bones;\n\n\t\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\t\tfor ( let i = 0; i < targetObject.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject[ i ].name === objectIndex ) {\n\n\t\t\t\t\t\t\tobjectIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tif ( targetObject[ objectName ] === undefined ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to objectName of node undefined.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject[ objectName ];\n\n\t\t\t}\n\n\n\t\t\tif ( objectIndex !== undefined ) {\n\n\t\t\t\tif ( targetObject[ objectIndex ] === undefined ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.', this, targetObject );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\ttargetObject = targetObject[ objectIndex ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// resolve property\n\t\tconst nodeProperty = targetObject[ propertyName ];\n\n\t\tif ( nodeProperty === undefined ) {\n\n\t\t\tconst nodeName = parsedPath.nodeName;\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update property for track: ' + nodeName +\n\t\t\t\t'.' + propertyName + ' but it wasn\\'t found.', targetObject );\n\t\t\treturn;\n\n\t\t}\n\n\t\t// determine versioning scheme\n\t\tlet versioning = this.Versioning.None;\n\n\t\tthis.targetObject = targetObject;\n\n\t\tif ( targetObject.needsUpdate !== undefined ) { // material\n\n\t\t\tversioning = this.Versioning.NeedsUpdate;\n\n\t\t} else if ( targetObject.matrixWorldNeedsUpdate !== undefined ) { // node transform\n\n\t\t\tversioning = this.Versioning.MatrixWorldNeedsUpdate;\n\n\t\t}\n\n\t\t// determine how the property gets bound\n\t\tlet bindingType = this.BindingType.Direct;\n\n\t\tif ( propertyIndex !== undefined ) {\n\n\t\t\t// access a sub element of the property array (only primitives are supported right now)\n\n\t\t\tif ( propertyName === 'morphTargetInfluences' ) {\n\n\t\t\t\t// potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n\n\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\tif ( ! targetObject.geometry ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.', this );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( targetObject.geometry.isBufferGeometry ) {\n\n\t\t\t\t\tif ( ! targetObject.geometry.morphAttributes ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( targetObject.morphTargetDictionary[ propertyIndex ] !== undefined ) {\n\n\t\t\t\t\t\tpropertyIndex = targetObject.morphTargetDictionary[ propertyIndex ];\n\n\t\t\t\t\t}\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.', this );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tbindingType = this.BindingType.ArrayElement;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\t\t\tthis.propertyIndex = propertyIndex;\n\n\t\t} else if ( nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined ) {\n\n\t\t\t// must use copy for Object3D.Euler/Quaternion\n\n\t\t\tbindingType = this.BindingType.HasFromToArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else if ( Array.isArray( nodeProperty ) ) {\n\n\t\t\tbindingType = this.BindingType.EntireArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else {\n\n\t\t\tthis.propertyName = propertyName;\n\n\t\t}\n\n\t\t// select getter / setter\n\t\tthis.getValue = this.GetterByBindingType[ bindingType ];\n\t\tthis.setValue = this.SetterByBindingTypeAndVersioning[ bindingType ][ versioning ];\n\n\t}\n\n\tunbind() {\n\n\t\tthis.node = null;\n\n\t\t// back to the prototype version of getValue / setValue\n\t\t// note: avoiding to mutate the shape of 'this' via 'delete'\n\t\tthis.getValue = this._getValue_unbound;\n\t\tthis.setValue = this._setValue_unbound;\n\n\t}\n\n}\n\nPropertyBinding.Composite = Composite;\n\nPropertyBinding.prototype.BindingType = {\n\tDirect: 0,\n\tEntireArray: 1,\n\tArrayElement: 2,\n\tHasFromToArray: 3\n};\n\nPropertyBinding.prototype.Versioning = {\n\tNone: 0,\n\tNeedsUpdate: 1,\n\tMatrixWorldNeedsUpdate: 2\n};\n\nPropertyBinding.prototype.GetterByBindingType = [\n\n\tPropertyBinding.prototype._getValue_direct,\n\tPropertyBinding.prototype._getValue_array,\n\tPropertyBinding.prototype._getValue_arrayElement,\n\tPropertyBinding.prototype._getValue_toArray,\n\n];\n\nPropertyBinding.prototype.SetterByBindingTypeAndVersioning = [\n\n\t[\n\t\t// Direct\n\t\tPropertyBinding.prototype._setValue_direct,\n\t\tPropertyBinding.prototype._setValue_direct_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate,\n\n\t], [\n\n\t\t// EntireArray\n\n\t\tPropertyBinding.prototype._setValue_array,\n\t\tPropertyBinding.prototype._setValue_array_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate,\n\n\t], [\n\n\t\t// ArrayElement\n\t\tPropertyBinding.prototype._setValue_arrayElement,\n\t\tPropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate,\n\n\t], [\n\n\t\t// HasToFromArray\n\t\tPropertyBinding.prototype._setValue_fromArray,\n\t\tPropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,\n\t\tPropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate,\n\n\t]\n\n];\n\n/**\n *\n * A group of objects that receives a shared animation state.\n *\n * Usage:\n *\n *  - Add objects you would otherwise pass as 'root' to the\n *    constructor or the .clipAction method of AnimationMixer.\n *\n *  - Instead pass this object as 'root'.\n *\n *  - You can also add and remove objects later when the mixer\n *    is running.\n *\n * Note:\n *\n *    Objects of this class appear as one object to the mixer,\n *    so cache control of the individual objects must be done\n *    on the group.\n *\n * Limitation:\n *\n *  - The animated properties must be compatible among the\n *    all objects in the group.\n *\n *  - A single property can either be controlled through a\n *    target group or directly, but not both.\n */\n\nclass AnimationObjectGroup {\n\n\tconstructor() {\n\n\t\tthis.uuid = generateUUID();\n\n\t\t// cached objects followed by the active ones\n\t\tthis._objects = Array.prototype.slice.call( arguments );\n\n\t\tthis.nCachedObjects_ = 0; // threshold\n\t\t// note: read by PropertyBinding.Composite\n\n\t\tconst indices = {};\n\t\tthis._indicesByUUID = indices; // for bookkeeping\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tindices[ arguments[ i ].uuid ] = i;\n\n\t\t}\n\n\t\tthis._paths = []; // inside: string\n\t\tthis._parsedPaths = []; // inside: { we don't care, here }\n\t\tthis._bindings = []; // inside: Array< PropertyBinding >\n\t\tthis._bindingsIndicesByPath = {}; // inside: indices in these arrays\n\n\t\tconst scope = this;\n\n\t\tthis.stats = {\n\n\t\t\tobjects: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._objects.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn this.total - scope.nCachedObjects_;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tget bindingsPerObject() {\n\n\t\t\t\treturn scope._bindings.length;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tadd() {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tpaths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet knownObject = undefined,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid;\n\t\t\tlet index = indicesByUUID[ uuid ];\n\n\t\t\tif ( index === undefined ) {\n\n\t\t\t\t// unknown object -> add it to the ACTIVE region\n\n\t\t\t\tindex = nObjects ++;\n\t\t\t\tindicesByUUID[ uuid ] = index;\n\t\t\t\tobjects.push( object );\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tbindings[ j ].push( new PropertyBinding( object, paths[ j ], parsedPaths[ j ] ) );\n\n\t\t\t\t}\n\n\t\t\t} else if ( index < nCachedObjects ) {\n\n\t\t\t\tknownObject = objects[ index ];\n\n\t\t\t\t// move existing object to the ACTIVE region\n\n\t\t\t\tconst firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ];\n\n\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = firstActiveIndex;\n\t\t\t\tobjects[ firstActiveIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ];\n\n\t\t\t\t\tlet binding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\n\t\t\t\t\tif ( binding === undefined ) {\n\n\t\t\t\t\t\t// since we do not bother to create new bindings\n\t\t\t\t\t\t// for objects that are cached, the binding may\n\t\t\t\t\t\t// or may not exist\n\n\t\t\t\t\t\tbinding = new PropertyBinding( object, paths[ j ], parsedPaths[ j ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t} else if ( objects[ index ] !== knownObject ) {\n\n\t\t\t\tconsole.error( 'THREE.AnimationObjectGroup: Different objects with the same UUID ' +\n\t\t\t\t\t'detected. Clean the caches or recreate your infrastructure when reloading scenes.' );\n\n\t\t\t} // else the object is already where we want it to be\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t}\n\n\tremove() {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet nCachedObjects = this.nCachedObjects_;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined && index >= nCachedObjects ) {\n\n\t\t\t\t// move existing object into the CACHED region\n\n\t\t\t\tconst lastCachedIndex = nCachedObjects ++,\n\t\t\t\t\tfirstActiveObject = objects[ lastCachedIndex ];\n\n\t\t\t\tindicesByUUID[ firstActiveObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = firstActiveObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = lastCachedIndex;\n\t\t\t\tobjects[ lastCachedIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tfirstActive = bindingsForPath[ lastCachedIndex ],\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = firstActive;\n\t\t\t\t\tbindingsForPath[ lastCachedIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t}\n\n\t// remove & forget\n\tuncache() {\n\n\t\tconst objects = this._objects,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tlet nCachedObjects = this.nCachedObjects_,\n\t\t\tnObjects = objects.length;\n\n\t\tfor ( let i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tconst object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined ) {\n\n\t\t\t\tdelete indicesByUUID[ uuid ];\n\n\t\t\t\tif ( index < nCachedObjects ) {\n\n\t\t\t\t\t// object is cached, shrink the CACHED region\n\n\t\t\t\t\tconst firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ],\n\t\t\t\t\t\tlastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\t// last cached object takes this object's place\n\t\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\t\t// last object goes to the activated slot and pop\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = firstActiveIndex;\n\t\t\t\t\tobjects[ firstActiveIndex ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tconst bindingsForPath = bindings[ j ],\n\t\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\n\t\t\t\t\t\t\tlast = bindingsForPath[ lastIndex ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\t\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = last;\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// object is active, just swap with the last and pop\n\n\t\t\t\t\tconst lastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\tif ( lastIndex > 0 ) {\n\n\t\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = index;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tobjects[ index ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( let j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tconst bindingsForPath = bindings[ j ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = bindingsForPath[ lastIndex ];\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} // cached or active\n\n\t\t\t} // if object is known\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t}\n\n\t// Internal interface used by befriended PropertyBinding.Composite:\n\n\tsubscribe_( path, parsedPath ) {\n\n\t\t// returns an array of bindings for the given path that is changed\n\t\t// according to the contained objects in the group\n\n\t\tconst indicesByPath = this._bindingsIndicesByPath;\n\t\tlet index = indicesByPath[ path ];\n\t\tconst bindings = this._bindings;\n\n\t\tif ( index !== undefined ) return bindings[ index ];\n\n\t\tconst paths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tobjects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tbindingsForPath = new Array( nObjects );\n\n\t\tindex = bindings.length;\n\n\t\tindicesByPath[ path ] = index;\n\n\t\tpaths.push( path );\n\t\tparsedPaths.push( parsedPath );\n\t\tbindings.push( bindingsForPath );\n\n\t\tfor ( let i = nCachedObjects, n = objects.length; i !== n; ++ i ) {\n\n\t\t\tconst object = objects[ i ];\n\t\t\tbindingsForPath[ i ] = new PropertyBinding( object, path, parsedPath );\n\n\t\t}\n\n\t\treturn bindingsForPath;\n\n\t}\n\n\tunsubscribe_( path ) {\n\n\t\t// tells the group to forget about a property path and no longer\n\t\t// update the array previously obtained with 'subscribe_'\n\n\t\tconst indicesByPath = this._bindingsIndicesByPath,\n\t\t\tindex = indicesByPath[ path ];\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tconst paths = this._paths,\n\t\t\t\tparsedPaths = this._parsedPaths,\n\t\t\t\tbindings = this._bindings,\n\t\t\t\tlastBindingsIndex = bindings.length - 1,\n\t\t\t\tlastBindings = bindings[ lastBindingsIndex ],\n\t\t\t\tlastBindingsPath = path[ lastBindingsIndex ];\n\n\t\t\tindicesByPath[ lastBindingsPath ] = index;\n\n\t\t\tbindings[ index ] = lastBindings;\n\t\t\tbindings.pop();\n\n\t\t\tparsedPaths[ index ] = parsedPaths[ lastBindingsIndex ];\n\t\t\tparsedPaths.pop();\n\n\t\t\tpaths[ index ] = paths[ lastBindingsIndex ];\n\t\t\tpaths.pop();\n\n\t\t}\n\n\t}\n\n}\n\nAnimationObjectGroup.prototype.isAnimationObjectGroup = true;\n\nclass AnimationAction {\n\n\tconstructor( mixer, clip, localRoot = null, blendMode = clip.blendMode ) {\n\n\t\tthis._mixer = mixer;\n\t\tthis._clip = clip;\n\t\tthis._localRoot = localRoot;\n\t\tthis.blendMode = blendMode;\n\n\t\tconst tracks = clip.tracks,\n\t\t\tnTracks = tracks.length,\n\t\t\tinterpolants = new Array( nTracks );\n\n\t\tconst interpolantSettings = {\n\t\t\tendingStart: ZeroCurvatureEnding,\n\t\t\tendingEnd: ZeroCurvatureEnding\n\t\t};\n\n\t\tfor ( let i = 0; i !== nTracks; ++ i ) {\n\n\t\t\tconst interpolant = tracks[ i ].createInterpolant( null );\n\t\t\tinterpolants[ i ] = interpolant;\n\t\t\tinterpolant.settings = interpolantSettings;\n\n\t\t}\n\n\t\tthis._interpolantSettings = interpolantSettings;\n\n\t\tthis._interpolants = interpolants; // bound by the mixer\n\n\t\t// inside: PropertyMixer (managed by the mixer)\n\t\tthis._propertyBindings = new Array( nTracks );\n\n\t\tthis._cacheIndex = null; // for the memory manager\n\t\tthis._byClipCacheIndex = null; // for the memory manager\n\n\t\tthis._timeScaleInterpolant = null;\n\t\tthis._weightInterpolant = null;\n\n\t\tthis.loop = LoopRepeat;\n\t\tthis._loopCount = - 1;\n\n\t\t// global mixer time when the action is to be started\n\t\t// it's set back to 'null' upon start of the action\n\t\tthis._startTime = null;\n\n\t\t// scaled local time of the action\n\t\t// gets clamped or wrapped to 0..clip.duration according to loop\n\t\tthis.time = 0;\n\n\t\tthis.timeScale = 1;\n\t\tthis._effectiveTimeScale = 1;\n\n\t\tthis.weight = 1;\n\t\tthis._effectiveWeight = 1;\n\n\t\tthis.repetitions = Infinity; // no. of repetitions when looping\n\n\t\tthis.paused = false; // true -> zero effective time scale\n\t\tthis.enabled = true; // false -> zero effective weight\n\n\t\tthis.clampWhenFinished = false;// keep feeding the last frame?\n\n\t\tthis.zeroSlopeAtStart = true;// for smooth interpolation w/o separate\n\t\tthis.zeroSlopeAtEnd = true;// clips for start, loop and end\n\n\t}\n\n\t// State & Scheduling\n\n\tplay() {\n\n\t\tthis._mixer._activateAction( this );\n\n\t\treturn this;\n\n\t}\n\n\tstop() {\n\n\t\tthis._mixer._deactivateAction( this );\n\n\t\treturn this.reset();\n\n\t}\n\n\treset() {\n\n\t\tthis.paused = false;\n\t\tthis.enabled = true;\n\n\t\tthis.time = 0; // restart clip\n\t\tthis._loopCount = - 1;// forget previous loops\n\t\tthis._startTime = null;// forget scheduling\n\n\t\treturn this.stopFading().stopWarping();\n\n\t}\n\n\tisRunning() {\n\n\t\treturn this.enabled && ! this.paused && this.timeScale !== 0 &&\n\t\t\tthis._startTime === null && this._mixer._isActiveAction( this );\n\n\t}\n\n\t// return true when play has been called\n\tisScheduled() {\n\n\t\treturn this._mixer._isActiveAction( this );\n\n\t}\n\n\tstartAt( time ) {\n\n\t\tthis._startTime = time;\n\n\t\treturn this;\n\n\t}\n\n\tsetLoop( mode, repetitions ) {\n\n\t\tthis.loop = mode;\n\t\tthis.repetitions = repetitions;\n\n\t\treturn this;\n\n\t}\n\n\t// Weight\n\n\t// set the weight stopping any scheduled fading\n\t// although .enabled = false yields an effective weight of zero, this\n\t// method does *not* change .enabled, because it would be confusing\n\tsetEffectiveWeight( weight ) {\n\n\t\tthis.weight = weight;\n\n\t\t// note: same logic as when updated at runtime\n\t\tthis._effectiveWeight = this.enabled ? weight : 0;\n\n\t\treturn this.stopFading();\n\n\t}\n\n\t// return the weight considering fading and .enabled\n\tgetEffectiveWeight() {\n\n\t\treturn this._effectiveWeight;\n\n\t}\n\n\tfadeIn( duration ) {\n\n\t\treturn this._scheduleFading( duration, 0, 1 );\n\n\t}\n\n\tfadeOut( duration ) {\n\n\t\treturn this._scheduleFading( duration, 1, 0 );\n\n\t}\n\n\tcrossFadeFrom( fadeOutAction, duration, warp ) {\n\n\t\tfadeOutAction.fadeOut( duration );\n\t\tthis.fadeIn( duration );\n\n\t\tif ( warp ) {\n\n\t\t\tconst fadeInDuration = this._clip.duration,\n\t\t\t\tfadeOutDuration = fadeOutAction._clip.duration,\n\n\t\t\t\tstartEndRatio = fadeOutDuration / fadeInDuration,\n\t\t\t\tendStartRatio = fadeInDuration / fadeOutDuration;\n\n\t\t\tfadeOutAction.warp( 1.0, startEndRatio, duration );\n\t\t\tthis.warp( endStartRatio, 1.0, duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tcrossFadeTo( fadeInAction, duration, warp ) {\n\n\t\treturn fadeInAction.crossFadeFrom( this, duration, warp );\n\n\t}\n\n\tstopFading() {\n\n\t\tconst weightInterpolant = this._weightInterpolant;\n\n\t\tif ( weightInterpolant !== null ) {\n\n\t\t\tthis._weightInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( weightInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Time Scale Control\n\n\t// set the time scale stopping any scheduled warping\n\t// although .paused = true yields an effective time scale of zero, this\n\t// method does *not* change .paused, because it would be confusing\n\tsetEffectiveTimeScale( timeScale ) {\n\n\t\tthis.timeScale = timeScale;\n\t\tthis._effectiveTimeScale = this.paused ? 0 : timeScale;\n\n\t\treturn this.stopWarping();\n\n\t}\n\n\t// return the time scale considering warping and .paused\n\tgetEffectiveTimeScale() {\n\n\t\treturn this._effectiveTimeScale;\n\n\t}\n\n\tsetDuration( duration ) {\n\n\t\tthis.timeScale = this._clip.duration / duration;\n\n\t\treturn this.stopWarping();\n\n\t}\n\n\tsyncWith( action ) {\n\n\t\tthis.time = action.time;\n\t\tthis.timeScale = action.timeScale;\n\n\t\treturn this.stopWarping();\n\n\t}\n\n\thalt( duration ) {\n\n\t\treturn this.warp( this._effectiveTimeScale, 0, duration );\n\n\t}\n\n\twarp( startTimeScale, endTimeScale, duration ) {\n\n\t\tconst mixer = this._mixer,\n\t\t\tnow = mixer.time,\n\t\t\ttimeScale = this.timeScale;\n\n\t\tlet interpolant = this._timeScaleInterpolant;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._timeScaleInterpolant = interpolant;\n\n\t\t}\n\n\t\tconst times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\ttimes[ 1 ] = now + duration;\n\n\t\tvalues[ 0 ] = startTimeScale / timeScale;\n\t\tvalues[ 1 ] = endTimeScale / timeScale;\n\n\t\treturn this;\n\n\t}\n\n\tstopWarping() {\n\n\t\tconst timeScaleInterpolant = this._timeScaleInterpolant;\n\n\t\tif ( timeScaleInterpolant !== null ) {\n\n\t\t\tthis._timeScaleInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( timeScaleInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Object Accessors\n\n\tgetMixer() {\n\n\t\treturn this._mixer;\n\n\t}\n\n\tgetClip() {\n\n\t\treturn this._clip;\n\n\t}\n\n\tgetRoot() {\n\n\t\treturn this._localRoot || this._mixer._root;\n\n\t}\n\n\t// Interna\n\n\t_update( time, deltaTime, timeDirection, accuIndex ) {\n\n\t\t// called by the mixer\n\n\t\tif ( ! this.enabled ) {\n\n\t\t\t// call ._updateWeight() to update ._effectiveWeight\n\n\t\t\tthis._updateWeight( time );\n\t\t\treturn;\n\n\t\t}\n\n\t\tconst startTime = this._startTime;\n\n\t\tif ( startTime !== null ) {\n\n\t\t\t// check for scheduled start of action\n\n\t\t\tconst timeRunning = ( time - startTime ) * timeDirection;\n\t\t\tif ( timeRunning < 0 || timeDirection === 0 ) {\n\n\t\t\t\treturn; // yet to come / don't decide when delta = 0\n\n\t\t\t}\n\n\t\t\t// start\n\n\t\t\tthis._startTime = null; // unschedule\n\t\t\tdeltaTime = timeDirection * timeRunning;\n\n\t\t}\n\n\t\t// apply time scale and advance time\n\n\t\tdeltaTime *= this._updateTimeScale( time );\n\t\tconst clipTime = this._updateTime( deltaTime );\n\n\t\t// note: _updateTime may disable the action resulting in\n\t\t// an effective weight of 0\n\n\t\tconst weight = this._updateWeight( time );\n\n\t\tif ( weight > 0 ) {\n\n\t\t\tconst interpolants = this._interpolants;\n\t\t\tconst propertyMixers = this._propertyBindings;\n\n\t\t\tswitch ( this.blendMode ) {\n\n\t\t\t\tcase AdditiveAnimationBlendMode:\n\n\t\t\t\t\tfor ( let j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n\t\t\t\t\t\tinterpolants[ j ].evaluate( clipTime );\n\t\t\t\t\t\tpropertyMixers[ j ].accumulateAdditive( weight );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase NormalAnimationBlendMode:\n\t\t\t\tdefault:\n\n\t\t\t\t\tfor ( let j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n\t\t\t\t\t\tinterpolants[ j ].evaluate( clipTime );\n\t\t\t\t\t\tpropertyMixers[ j ].accumulate( accuIndex, weight );\n\n\t\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_updateWeight( time ) {\n\n\t\tlet weight = 0;\n\n\t\tif ( this.enabled ) {\n\n\t\t\tweight = this.weight;\n\t\t\tconst interpolant = this._weightInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tconst interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\tweight *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopFading();\n\n\t\t\t\t\tif ( interpolantValue === 0 ) {\n\n\t\t\t\t\t\t// faded out, disable\n\t\t\t\t\t\tthis.enabled = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveWeight = weight;\n\t\treturn weight;\n\n\t}\n\n\t_updateTimeScale( time ) {\n\n\t\tlet timeScale = 0;\n\n\t\tif ( ! this.paused ) {\n\n\t\t\ttimeScale = this.timeScale;\n\n\t\t\tconst interpolant = this._timeScaleInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tconst interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\ttimeScale *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopWarping();\n\n\t\t\t\t\tif ( timeScale === 0 ) {\n\n\t\t\t\t\t\t// motion has halted, pause\n\t\t\t\t\t\tthis.paused = true;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// warp done - apply final time scale\n\t\t\t\t\t\tthis.timeScale = timeScale;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveTimeScale = timeScale;\n\t\treturn timeScale;\n\n\t}\n\n\t_updateTime( deltaTime ) {\n\n\t\tconst duration = this._clip.duration;\n\t\tconst loop = this.loop;\n\n\t\tlet time = this.time + deltaTime;\n\t\tlet loopCount = this._loopCount;\n\n\t\tconst pingPong = ( loop === LoopPingPong );\n\n\t\tif ( deltaTime === 0 ) {\n\n\t\t\tif ( loopCount === - 1 ) return time;\n\n\t\t\treturn ( pingPong && ( loopCount & 1 ) === 1 ) ? duration - time : time;\n\n\t\t}\n\n\t\tif ( loop === LoopOnce ) {\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tthis._loopCount = 0;\n\t\t\t\tthis._setEndings( true, true, false );\n\n\t\t\t}\n\n\t\t\thandle_stop: {\n\n\t\t\t\tif ( time >= duration ) {\n\n\t\t\t\t\ttime = duration;\n\n\t\t\t\t} else if ( time < 0 ) {\n\n\t\t\t\t\ttime = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tbreak handle_stop;\n\n\t\t\t\t}\n\n\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\telse this.enabled = false;\n\n\t\t\t\tthis.time = time;\n\n\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\tdirection: deltaTime < 0 ? - 1 : 1\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t} else { // repetitive Repeat or PingPong\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tif ( deltaTime >= 0 ) {\n\n\t\t\t\t\tloopCount = 0;\n\n\t\t\t\t\tthis._setEndings( true, this.repetitions === 0, pingPong );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// when looping in reverse direction, the initial\n\t\t\t\t\t// transition through zero counts as a repetition,\n\t\t\t\t\t// so leave loopCount at -1\n\n\t\t\t\t\tthis._setEndings( this.repetitions === 0, true, pingPong );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( time >= duration || time < 0 ) {\n\n\t\t\t\t// wrap around\n\n\t\t\t\tconst loopDelta = Math.floor( time / duration ); // signed\n\t\t\t\ttime -= duration * loopDelta;\n\n\t\t\t\tloopCount += Math.abs( loopDelta );\n\n\t\t\t\tconst pending = this.repetitions - loopCount;\n\n\t\t\t\tif ( pending <= 0 ) {\n\n\t\t\t\t\t// have to stop (switch state, clamp time, fire event)\n\n\t\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\t\telse this.enabled = false;\n\n\t\t\t\t\ttime = deltaTime > 0 ? duration : 0;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\t\tdirection: deltaTime > 0 ? 1 : - 1\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// keep running\n\n\t\t\t\t\tif ( pending === 1 ) {\n\n\t\t\t\t\t\t// entering the last round\n\n\t\t\t\t\t\tconst atStart = deltaTime < 0;\n\t\t\t\t\t\tthis._setEndings( atStart, ! atStart, pingPong );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis._setEndings( false, false, pingPong );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._loopCount = loopCount;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'loop', action: this, loopDelta: loopDelta\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tthis.time = time;\n\n\t\t\t}\n\n\t\t\tif ( pingPong && ( loopCount & 1 ) === 1 ) {\n\n\t\t\t\t// invert time for the \"pong round\"\n\n\t\t\t\treturn duration - time;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn time;\n\n\t}\n\n\t_setEndings( atStart, atEnd, pingPong ) {\n\n\t\tconst settings = this._interpolantSettings;\n\n\t\tif ( pingPong ) {\n\n\t\t\tsettings.endingStart = ZeroSlopeEnding;\n\t\t\tsettings.endingEnd = ZeroSlopeEnding;\n\n\t\t} else {\n\n\t\t\t// assuming for LoopOnce atStart == atEnd == true\n\n\t\t\tif ( atStart ) {\n\n\t\t\t\tsettings.endingStart = this.zeroSlopeAtStart ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingStart = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t\tif ( atEnd ) {\n\n\t\t\t\tsettings.endingEnd = this.zeroSlopeAtEnd ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingEnd \t = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_scheduleFading( duration, weightNow, weightThen ) {\n\n\t\tconst mixer = this._mixer, now = mixer.time;\n\t\tlet interpolant = this._weightInterpolant;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._weightInterpolant = interpolant;\n\n\t\t}\n\n\t\tconst times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\tvalues[ 0 ] = weightNow;\n\t\ttimes[ 1 ] = now + duration;\n\t\tvalues[ 1 ] = weightThen;\n\n\t\treturn this;\n\n\t}\n\n}\n\nclass AnimationMixer extends EventDispatcher {\n\n\tconstructor( root ) {\n\n\t\tsuper();\n\n\t\tthis._root = root;\n\t\tthis._initMemoryManager();\n\t\tthis._accuIndex = 0;\n\t\tthis.time = 0;\n\t\tthis.timeScale = 1.0;\n\n\t}\n\n\t_bindAction( action, prototypeAction ) {\n\n\t\tconst root = action._localRoot || this._root,\n\t\t\ttracks = action._clip.tracks,\n\t\t\tnTracks = tracks.length,\n\t\t\tbindings = action._propertyBindings,\n\t\t\tinterpolants = action._interpolants,\n\t\t\trootUuid = root.uuid,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName;\n\n\t\tlet bindingsByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingsByName === undefined ) {\n\n\t\t\tbindingsByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingsByName;\n\n\t\t}\n\n\t\tfor ( let i = 0; i !== nTracks; ++ i ) {\n\n\t\t\tconst track = tracks[ i ],\n\t\t\t\ttrackName = track.name;\n\n\t\t\tlet binding = bindingsByName[ trackName ];\n\n\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t} else {\n\n\t\t\t\tbinding = bindings[ i ];\n\n\t\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\t\t// existing binding, make sure the cache knows\n\n\t\t\t\t\tif ( binding._cacheIndex === null ) {\n\n\t\t\t\t\t\t++ binding.referenceCount;\n\t\t\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tconst path = prototypeAction && prototypeAction.\n\t\t\t\t\t_propertyBindings[ i ].binding.parsedPath;\n\n\t\t\t\tbinding = new PropertyMixer(\n\t\t\t\t\tPropertyBinding.create( root, trackName, path ),\n\t\t\t\t\ttrack.ValueTypeName, track.getValueSize() );\n\n\t\t\t\t++ binding.referenceCount;\n\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t}\n\n\t\t\tinterpolants[ i ].resultBuffer = binding.buffer;\n\n\t\t}\n\n\t}\n\n\t_activateAction( action ) {\n\n\t\tif ( ! this._isActiveAction( action ) ) {\n\n\t\t\tif ( action._cacheIndex === null ) {\n\n\t\t\t\t// this action has been forgotten by the cache, but the user\n\t\t\t\t// appears to be still using it -> rebind\n\n\t\t\t\tconst rootUuid = ( action._localRoot || this._root ).uuid,\n\t\t\t\t\tclipUuid = action._clip.uuid,\n\t\t\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\t\t\tthis._bindAction( action,\n\t\t\t\t\tactionsForClip && actionsForClip.knownActions[ 0 ] );\n\n\t\t\t\tthis._addInactiveAction( action, clipUuid, rootUuid );\n\n\t\t\t}\n\n\t\t\tconst bindings = action._propertyBindings;\n\n\t\t\t// increment reference counts / sort out state\n\t\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tconst binding = bindings[ i ];\n\n\t\t\t\tif ( binding.useCount ++ === 0 ) {\n\n\t\t\t\t\tthis._lendBinding( binding );\n\t\t\t\t\tbinding.saveOriginalState();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._lendAction( action );\n\n\t\t}\n\n\t}\n\n\t_deactivateAction( action ) {\n\n\t\tif ( this._isActiveAction( action ) ) {\n\n\t\t\tconst bindings = action._propertyBindings;\n\n\t\t\t// decrement reference counts / sort out state\n\t\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tconst binding = bindings[ i ];\n\n\t\t\t\tif ( -- binding.useCount === 0 ) {\n\n\t\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\t\tthis._takeBackBinding( binding );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._takeBackAction( action );\n\n\t\t}\n\n\t}\n\n\t// Memory manager\n\n\t_initMemoryManager() {\n\n\t\tthis._actions = []; // 'nActiveActions' followed by inactive ones\n\t\tthis._nActiveActions = 0;\n\n\t\tthis._actionsByClip = {};\n\t\t// inside:\n\t\t// {\n\t\t// \tknownActions: Array< AnimationAction > - used as prototypes\n\t\t// \tactionByRoot: AnimationAction - lookup\n\t\t// }\n\n\n\t\tthis._bindings = []; // 'nActiveBindings' followed by inactive ones\n\t\tthis._nActiveBindings = 0;\n\n\t\tthis._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\n\n\n\t\tthis._controlInterpolants = []; // same game as above\n\t\tthis._nActiveControlInterpolants = 0;\n\n\t\tconst scope = this;\n\n\t\tthis.stats = {\n\n\t\t\tactions: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._actions.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveActions;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tbindings: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._bindings.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveBindings;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontrolInterpolants: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._controlInterpolants.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveControlInterpolants;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t// Memory management for AnimationAction objects\n\n\t_isActiveAction( action ) {\n\n\t\tconst index = action._cacheIndex;\n\t\treturn index !== null && index < this._nActiveActions;\n\n\t}\n\n\t_addInactiveAction( action, clipUuid, rootUuid ) {\n\n\t\tconst actions = this._actions,\n\t\t\tactionsByClip = this._actionsByClip;\n\n\t\tlet actionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip === undefined ) {\n\n\t\t\tactionsForClip = {\n\n\t\t\t\tknownActions: [ action ],\n\t\t\t\tactionByRoot: {}\n\n\t\t\t};\n\n\t\t\taction._byClipCacheIndex = 0;\n\n\t\t\tactionsByClip[ clipUuid ] = actionsForClip;\n\n\t\t} else {\n\n\t\t\tconst knownActions = actionsForClip.knownActions;\n\n\t\t\taction._byClipCacheIndex = knownActions.length;\n\t\t\tknownActions.push( action );\n\n\t\t}\n\n\t\taction._cacheIndex = actions.length;\n\t\tactions.push( action );\n\n\t\tactionsForClip.actionByRoot[ rootUuid ] = action;\n\n\t}\n\n\t_removeInactiveAction( action ) {\n\n\t\tconst actions = this._actions,\n\t\t\tlastInactiveAction = actions[ actions.length - 1 ],\n\t\t\tcacheIndex = action._cacheIndex;\n\n\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\tactions.pop();\n\n\t\taction._cacheIndex = null;\n\n\n\t\tconst clipUuid = action._clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ],\n\t\t\tknownActionsForClip = actionsForClip.knownActions,\n\n\t\t\tlastKnownAction =\n\t\t\t\tknownActionsForClip[ knownActionsForClip.length - 1 ],\n\n\t\t\tbyClipCacheIndex = action._byClipCacheIndex;\n\n\t\tlastKnownAction._byClipCacheIndex = byClipCacheIndex;\n\t\tknownActionsForClip[ byClipCacheIndex ] = lastKnownAction;\n\t\tknownActionsForClip.pop();\n\n\t\taction._byClipCacheIndex = null;\n\n\n\t\tconst actionByRoot = actionsForClip.actionByRoot,\n\t\t\trootUuid = ( action._localRoot || this._root ).uuid;\n\n\t\tdelete actionByRoot[ rootUuid ];\n\n\t\tif ( knownActionsForClip.length === 0 ) {\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t\tthis._removeInactiveBindingsForAction( action );\n\n\t}\n\n\t_removeInactiveBindingsForAction( action ) {\n\n\t\tconst bindings = action._propertyBindings;\n\n\t\tfor ( let i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tconst binding = bindings[ i ];\n\n\t\t\tif ( -- binding.referenceCount === 0 ) {\n\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t_lendAction( action ) {\n\n\t\t// [ active actions |  inactive actions  ]\n\t\t// [  active actions >| inactive actions ]\n\t\t//                 s        a\n\t\t//                  <-swap->\n\t\t//                 a        s\n\n\t\tconst actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveActions ++,\n\n\t\t\tfirstInactiveAction = actions[ lastActiveIndex ];\n\n\t\taction._cacheIndex = lastActiveIndex;\n\t\tactions[ lastActiveIndex ] = action;\n\n\t\tfirstInactiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = firstInactiveAction;\n\n\t}\n\n\t_takeBackAction( action ) {\n\n\t\t// [  active actions  | inactive actions ]\n\t\t// [ active actions |< inactive actions  ]\n\t\t//        a        s\n\t\t//         <-swap->\n\t\t//        s        a\n\n\t\tconst actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveActions,\n\n\t\t\tlastActiveAction = actions[ firstInactiveIndex ];\n\n\t\taction._cacheIndex = firstInactiveIndex;\n\t\tactions[ firstInactiveIndex ] = action;\n\n\t\tlastActiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = lastActiveAction;\n\n\t}\n\n\t// Memory management for PropertyMixer objects\n\n\t_addInactiveBinding( binding, rootUuid, trackName ) {\n\n\t\tconst bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindings = this._bindings;\n\n\t\tlet bindingByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingByName === undefined ) {\n\n\t\t\tbindingByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingByName;\n\n\t\t}\n\n\t\tbindingByName[ trackName ] = binding;\n\n\t\tbinding._cacheIndex = bindings.length;\n\t\tbindings.push( binding );\n\n\t}\n\n\t_removeInactiveBinding( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tpropBinding = binding.binding,\n\t\t\trootUuid = propBinding.rootNode.uuid,\n\t\t\ttrackName = propBinding.path,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\n\n\t\t\tlastInactiveBinding = bindings[ bindings.length - 1 ],\n\t\t\tcacheIndex = binding._cacheIndex;\n\n\t\tlastInactiveBinding._cacheIndex = cacheIndex;\n\t\tbindings[ cacheIndex ] = lastInactiveBinding;\n\t\tbindings.pop();\n\n\t\tdelete bindingByName[ trackName ];\n\n\t\tif ( Object.keys( bindingByName ).length === 0 ) {\n\n\t\t\tdelete bindingsByRoot[ rootUuid ];\n\n\t\t}\n\n\t}\n\n\t_lendBinding( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveBindings ++,\n\n\t\t\tfirstInactiveBinding = bindings[ lastActiveIndex ];\n\n\t\tbinding._cacheIndex = lastActiveIndex;\n\t\tbindings[ lastActiveIndex ] = binding;\n\n\t\tfirstInactiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = firstInactiveBinding;\n\n\t}\n\n\t_takeBackBinding( binding ) {\n\n\t\tconst bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveBindings,\n\n\t\t\tlastActiveBinding = bindings[ firstInactiveIndex ];\n\n\t\tbinding._cacheIndex = firstInactiveIndex;\n\t\tbindings[ firstInactiveIndex ] = binding;\n\n\t\tlastActiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = lastActiveBinding;\n\n\t}\n\n\n\t// Memory management of Interpolants for weight and time scale\n\n\t_lendControlInterpolant() {\n\n\t\tconst interpolants = this._controlInterpolants,\n\t\t\tlastActiveIndex = this._nActiveControlInterpolants ++;\n\n\t\tlet interpolant = interpolants[ lastActiveIndex ];\n\n\t\tif ( interpolant === undefined ) {\n\n\t\t\tinterpolant = new LinearInterpolant(\n\t\t\t\tnew Float32Array( 2 ), new Float32Array( 2 ),\n\t\t\t\t1, this._controlInterpolantsResultBuffer );\n\n\t\t\tinterpolant.__cacheIndex = lastActiveIndex;\n\t\t\tinterpolants[ lastActiveIndex ] = interpolant;\n\n\t\t}\n\n\t\treturn interpolant;\n\n\t}\n\n\t_takeBackControlInterpolant( interpolant ) {\n\n\t\tconst interpolants = this._controlInterpolants,\n\t\t\tprevIndex = interpolant.__cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveControlInterpolants,\n\n\t\t\tlastActiveInterpolant = interpolants[ firstInactiveIndex ];\n\n\t\tinterpolant.__cacheIndex = firstInactiveIndex;\n\t\tinterpolants[ firstInactiveIndex ] = interpolant;\n\n\t\tlastActiveInterpolant.__cacheIndex = prevIndex;\n\t\tinterpolants[ prevIndex ] = lastActiveInterpolant;\n\n\t}\n\n\t// return an action for a clip optionally using a custom root target\n\t// object (this method allocates a lot of dynamic memory in case a\n\t// previously unknown clip/root combination is specified)\n\tclipAction( clip, optionalRoot, blendMode ) {\n\n\t\tconst root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid;\n\n\t\tlet clipObject = typeof clip === 'string' ? AnimationClip.findByName( root, clip ) : clip;\n\n\t\tconst clipUuid = clipObject !== null ? clipObject.uuid : clip;\n\n\t\tconst actionsForClip = this._actionsByClip[ clipUuid ];\n\t\tlet prototypeAction = null;\n\n\t\tif ( blendMode === undefined ) {\n\n\t\t\tif ( clipObject !== null ) {\n\n\t\t\t\tblendMode = clipObject.blendMode;\n\n\t\t\t} else {\n\n\t\t\t\tblendMode = NormalAnimationBlendMode;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\tconst existingAction = actionsForClip.actionByRoot[ rootUuid ];\n\n\t\t\tif ( existingAction !== undefined && existingAction.blendMode === blendMode ) {\n\n\t\t\t\treturn existingAction;\n\n\t\t\t}\n\n\t\t\t// we know the clip, so we don't have to parse all\n\t\t\t// the bindings again but can just copy\n\t\t\tprototypeAction = actionsForClip.knownActions[ 0 ];\n\n\t\t\t// also, take the clip from the prototype action\n\t\t\tif ( clipObject === null )\n\t\t\t\tclipObject = prototypeAction._clip;\n\n\t\t}\n\n\t\t// clip must be known when specified via string\n\t\tif ( clipObject === null ) return null;\n\n\t\t// allocate all resources required to run it\n\t\tconst newAction = new AnimationAction( this, clipObject, optionalRoot, blendMode );\n\n\t\tthis._bindAction( newAction, prototypeAction );\n\n\t\t// and make the action known to the memory manager\n\t\tthis._addInactiveAction( newAction, clipUuid, rootUuid );\n\n\t\treturn newAction;\n\n\t}\n\n\t// get an existing action\n\texistingAction( clip, optionalRoot ) {\n\n\t\tconst root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid,\n\n\t\t\tclipObject = typeof clip === 'string' ?\n\t\t\t\tAnimationClip.findByName( root, clip ) : clip,\n\n\t\t\tclipUuid = clipObject ? clipObject.uuid : clip,\n\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\treturn actionsForClip.actionByRoot[ rootUuid ] || null;\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n\t// deactivates all previously scheduled actions\n\tstopAllAction() {\n\n\t\tconst actions = this._actions,\n\t\t\tnActions = this._nActiveActions;\n\n\t\tfor ( let i = nActions - 1; i >= 0; -- i ) {\n\n\t\t\tactions[ i ].stop();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// advance the time and update apply the animation\n\tupdate( deltaTime ) {\n\n\t\tdeltaTime *= this.timeScale;\n\n\t\tconst actions = this._actions,\n\t\t\tnActions = this._nActiveActions,\n\n\t\t\ttime = this.time += deltaTime,\n\t\t\ttimeDirection = Math.sign( deltaTime ),\n\n\t\t\taccuIndex = this._accuIndex ^= 1;\n\n\t\t// run active actions\n\n\t\tfor ( let i = 0; i !== nActions; ++ i ) {\n\n\t\t\tconst action = actions[ i ];\n\n\t\t\taction._update( time, deltaTime, timeDirection, accuIndex );\n\n\t\t}\n\n\t\t// update scene graph\n\n\t\tconst bindings = this._bindings,\n\t\t\tnBindings = this._nActiveBindings;\n\n\t\tfor ( let i = 0; i !== nBindings; ++ i ) {\n\n\t\t\tbindings[ i ].apply( accuIndex );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\t// Allows you to seek to a specific time in an animation.\n\tsetTime( timeInSeconds ) {\n\n\t\tthis.time = 0; // Zero out time attribute for AnimationMixer object;\n\t\tfor ( let i = 0; i < this._actions.length; i ++ ) {\n\n\t\t\tthis._actions[ i ].time = 0; // Zero out time attribute for all associated AnimationAction objects.\n\n\t\t}\n\n\t\treturn this.update( timeInSeconds ); // Update used to set exact time. Returns \"this\" AnimationMixer object.\n\n\t}\n\n\t// return this mixer's root target object\n\tgetRoot() {\n\n\t\treturn this._root;\n\n\t}\n\n\t// free all resources specific to a particular clip\n\tuncacheClip( clip ) {\n\n\t\tconst actions = this._actions,\n\t\t\tclipUuid = clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\t// note: just calling _removeInactiveAction would mess up the\n\t\t\t// iteration state and also require updating the state we can\n\t\t\t// just throw away\n\n\t\t\tconst actionsToRemove = actionsForClip.knownActions;\n\n\t\t\tfor ( let i = 0, n = actionsToRemove.length; i !== n; ++ i ) {\n\n\t\t\t\tconst action = actionsToRemove[ i ];\n\n\t\t\t\tthis._deactivateAction( action );\n\n\t\t\t\tconst cacheIndex = action._cacheIndex,\n\t\t\t\t\tlastInactiveAction = actions[ actions.length - 1 ];\n\n\t\t\t\taction._cacheIndex = null;\n\t\t\t\taction._byClipCacheIndex = null;\n\n\t\t\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\t\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\t\t\tactions.pop();\n\n\t\t\t\tthis._removeInactiveBindingsForAction( action );\n\n\t\t\t}\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t}\n\n\t// free all resources specific to a particular root target object\n\tuncacheRoot( root ) {\n\n\t\tconst rootUuid = root.uuid,\n\t\t\tactionsByClip = this._actionsByClip;\n\n\t\tfor ( const clipUuid in actionsByClip ) {\n\n\t\t\tconst actionByRoot = actionsByClip[ clipUuid ].actionByRoot,\n\t\t\t\taction = actionByRoot[ rootUuid ];\n\n\t\t\tif ( action !== undefined ) {\n\n\t\t\t\tthis._deactivateAction( action );\n\t\t\t\tthis._removeInactiveAction( action );\n\n\t\t\t}\n\n\t\t}\n\n\t\tconst bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingByName !== undefined ) {\n\n\t\t\tfor ( const trackName in bindingByName ) {\n\n\t\t\t\tconst binding = bindingByName[ trackName ];\n\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// remove a targeted clip from the cache\n\tuncacheAction( clip, optionalRoot ) {\n\n\t\tconst action = this.existingAction( clip, optionalRoot );\n\n\t\tif ( action !== null ) {\n\n\t\t\tthis._deactivateAction( action );\n\t\t\tthis._removeInactiveAction( action );\n\n\t\t}\n\n\t}\n\n}\n\nAnimationMixer.prototype._controlInterpolantsResultBuffer = new Float32Array( 1 );\n\nclass Uniform {\n\n\tconstructor( value ) {\n\n\t\tif ( typeof value === 'string' ) {\n\n\t\t\tconsole.warn( 'THREE.Uniform: Type parameter is no longer needed.' );\n\t\t\tvalue = arguments[ 1 ];\n\n\t\t}\n\n\t\tthis.value = value;\n\n\t}\n\n\tclone() {\n\n\t\treturn new Uniform( this.value.clone === undefined ? this.value : this.value.clone() );\n\n\t}\n\n}\n\nclass InstancedInterleavedBuffer extends InterleavedBuffer {\n\n\tconstructor( array, stride, meshPerAttribute = 1 ) {\n\n\t\tsuper( array, stride );\n\n\t\tthis.meshPerAttribute = meshPerAttribute;\n\n\t}\n\n\tcopy( source ) {\n\n\t\tsuper.copy( source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t}\n\n\tclone( data ) {\n\n\t\tconst ib = super.clone( data );\n\n\t\tib.meshPerAttribute = this.meshPerAttribute;\n\n\t\treturn ib;\n\n\t}\n\n\ttoJSON( data ) {\n\n\t\tconst json = super.toJSON( data );\n\n\t\tjson.isInstancedInterleavedBuffer = true;\n\t\tjson.meshPerAttribute = this.meshPerAttribute;\n\n\t\treturn json;\n\n\t}\n\n}\n\nInstancedInterleavedBuffer.prototype.isInstancedInterleavedBuffer = true;\n\nclass GLBufferAttribute {\n\n\tconstructor( buffer, type, itemSize, elementSize, count ) {\n\n\t\tthis.buffer = buffer;\n\t\tthis.type = type;\n\t\tthis.itemSize = itemSize;\n\t\tthis.elementSize = elementSize;\n\t\tthis.count = count;\n\n\t\tthis.version = 0;\n\n\t}\n\n\tset needsUpdate( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n\tsetBuffer( buffer ) {\n\n\t\tthis.buffer = buffer;\n\n\t\treturn this;\n\n\t}\n\n\tsetType( type, elementSize ) {\n\n\t\tthis.type = type;\n\t\tthis.elementSize = elementSize;\n\n\t\treturn this;\n\n\t}\n\n\tsetItemSize( itemSize ) {\n\n\t\tthis.itemSize = itemSize;\n\n\t\treturn this;\n\n\t}\n\n\tsetCount( count ) {\n\n\t\tthis.count = count;\n\n\t\treturn this;\n\n\t}\n\n}\n\nGLBufferAttribute.prototype.isGLBufferAttribute = true;\n\nconst _vector$4 = /*@__PURE__*/ new Vector2();\n\nclass Box2 {\n\n\tconstructor( min = new Vector2( + Infinity, + Infinity ), max = new Vector2( - Infinity, - Infinity ) ) {\n\n\t\tthis.min = min;\n\t\tthis.max = max;\n\n\t}\n\n\tset( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t}\n\n\tsetFromPoints( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( let i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n\tsetFromCenterAndSize( center, size ) {\n\n\t\tconst halfSize = _vector$4.copy( size ).multiplyScalar( 0.5 );\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n\tcopy( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tmakeEmpty() {\n\n\t\tthis.min.x = this.min.y = + Infinity;\n\t\tthis.max.x = this.max.y = - Infinity;\n\n\t\treturn this;\n\n\t}\n\n\tisEmpty() {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y );\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t}\n\n\tgetSize( target ) {\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t}\n\n\texpandByPoint( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t}\n\n\texpandByVector( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t}\n\n\texpandByScalar( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t}\n\n\tcontainsPoint( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ? false : true;\n\n\t}\n\n\tcontainsBox( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y;\n\n\t}\n\n\tgetParameter( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y )\n\t\t);\n\n\t}\n\n\tintersectsBox( box ) {\n\n\t\t// using 4 splitting planes to rule out intersections\n\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ? false : true;\n\n\t}\n\n\tclampPoint( point, target ) {\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t}\n\n\tdistanceToPoint( point ) {\n\n\t\tconst clampedPoint = _vector$4.copy( point ).clamp( this.min, this.max );\n\t\treturn clampedPoint.sub( point ).length();\n\n\t}\n\n\tintersect( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\treturn this;\n\n\t}\n\n\tunion( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t}\n\n\ttranslate( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t}\n\n\tequals( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n}\n\nBox2.prototype.isBox2 = true;\n\nconst _startP = /*@__PURE__*/ new Vector3();\nconst _startEnd = /*@__PURE__*/ new Vector3();\n\nclass Line3 {\n\n\tconstructor( start = new Vector3(), end = new Vector3() ) {\n\n\t\tthis.start = start;\n\t\tthis.end = end;\n\n\t}\n\n\tset( start, end ) {\n\n\t\tthis.start.copy( start );\n\t\tthis.end.copy( end );\n\n\t\treturn this;\n\n\t}\n\n\tcopy( line ) {\n\n\t\tthis.start.copy( line.start );\n\t\tthis.end.copy( line.end );\n\n\t\treturn this;\n\n\t}\n\n\tgetCenter( target ) {\n\n\t\treturn target.addVectors( this.start, this.end ).multiplyScalar( 0.5 );\n\n\t}\n\n\tdelta( target ) {\n\n\t\treturn target.subVectors( this.end, this.start );\n\n\t}\n\n\tdistanceSq() {\n\n\t\treturn this.start.distanceToSquared( this.end );\n\n\t}\n\n\tdistance() {\n\n\t\treturn this.start.distanceTo( this.end );\n\n\t}\n\n\tat( t, target ) {\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t}\n\n\tclosestPointToPointParameter( point, clampToLine ) {\n\n\t\t_startP.subVectors( point, this.start );\n\t\t_startEnd.subVectors( this.end, this.start );\n\n\t\tconst startEnd2 = _startEnd.dot( _startEnd );\n\t\tconst startEnd_startP = _startEnd.dot( _startP );\n\n\t\tlet t = startEnd_startP / startEnd2;\n\n\t\tif ( clampToLine ) {\n\n\t\t\tt = clamp( t, 0, 1 );\n\n\t\t}\n\n\t\treturn t;\n\n\t}\n\n\tclosestPointToPoint( point, clampToLine, target ) {\n\n\t\tconst t = this.closestPointToPointParameter( point, clampToLine );\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t}\n\n\tapplyMatrix4( matrix ) {\n\n\t\tthis.start.applyMatrix4( matrix );\n\t\tthis.end.applyMatrix4( matrix );\n\n\t\treturn this;\n\n\t}\n\n\tequals( line ) {\n\n\t\treturn line.start.equals( this.start ) && line.end.equals( this.end );\n\n\t}\n\n\tclone() {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n}\n\nclass ImmediateRenderObject extends Object3D {\n\n\tconstructor( material ) {\n\n\t\tsuper();\n\n\t\tthis.material = material;\n\t\tthis.render = function ( /* renderCallback */ ) {};\n\n\t\tthis.hasPositions = false;\n\t\tthis.hasNormals = false;\n\t\tthis.hasColors = false;\n\t\tthis.hasUvs = false;\n\n\t\tthis.positionArray = null;\n\t\tthis.normalArray = null;\n\t\tthis.colorArray = null;\n\t\tthis.uvArray = null;\n\n\t\tthis.count = 0;\n\n\t}\n\n}\n\nImmediateRenderObject.prototype.isImmediateRenderObject = true;\n\nconst _vector$2 = /*@__PURE__*/ new Vector3();\nconst _boneMatrix = /*@__PURE__*/ new Matrix4();\nconst _matrixWorldInv = /*@__PURE__*/ new Matrix4();\n\n\nclass SkeletonHelper extends LineSegments {\n\n\tconstructor( object ) {\n\n\t\tconst bones = getBoneList( object );\n\n\t\tconst geometry = new BufferGeometry();\n\n\t\tconst vertices = [];\n\t\tconst colors = [];\n\n\t\tconst color1 = new Color( 0, 0, 1 );\n\t\tconst color2 = new Color( 0, 1, 0 );\n\n\t\tfor ( let i = 0; i < bones.length; i ++ ) {\n\n\t\t\tconst bone = bones[ i ];\n\n\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\tvertices.push( 0, 0, 0 );\n\t\t\t\tvertices.push( 0, 0, 0 );\n\t\t\t\tcolors.push( color1.r, color1.g, color1.b );\n\t\t\t\tcolors.push( color2.r, color2.g, color2.b );\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, depthTest: false, depthWrite: false, toneMapped: false, transparent: true } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'SkeletonHelper';\n\t\tthis.isSkeletonHelper = true;\n\n\t\tthis.root = object;\n\t\tthis.bones = bones;\n\n\t\tthis.matrix = object.matrixWorld;\n\t\tthis.matrixAutoUpdate = false;\n\n\t}\n\n\tupdateMatrixWorld( force ) {\n\n\t\tconst bones = this.bones;\n\n\t\tconst geometry = this.geometry;\n\t\tconst position = geometry.getAttribute( 'position' );\n\n\t\t_matrixWorldInv.copy( this.root.matrixWorld ).invert();\n\n\t\tfor ( let i = 0, j = 0; i < bones.length; i ++ ) {\n\n\t\t\tconst bone = bones[ i ];\n\n\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.matrixWorld );\n\t\t\t\t_vector$2.setFromMatrixPosition( _boneMatrix );\n\t\t\t\tposition.setXYZ( j, _vector$2.x, _vector$2.y, _vector$2.z );\n\n\t\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.parent.matrixWorld );\n\t\t\t\t_vector$2.setFromMatrixPosition( _boneMatrix );\n\t\t\t\tposition.setXYZ( j + 1, _vector$2.x, _vector$2.y, _vector$2.z );\n\n\t\t\t\tj += 2;\n\n\t\t\t}\n\n\t\t}\n\n\t\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\t\tsuper.updateMatrixWorld( force );\n\n\t}\n\n}\n\n\nfunction getBoneList( object ) {\n\n\tconst boneList = [];\n\n\tif ( object && object.isBone ) {\n\n\t\tboneList.push( object );\n\n\t}\n\n\tfor ( let i = 0; i < object.children.length; i ++ ) {\n\n\t\tboneList.push.apply( boneList, getBoneList( object.children[ i ] ) );\n\n\t}\n\n\treturn boneList;\n\n}\nconst _color1 = /*@__PURE__*/ new Color();\nconst _color2 = /*@__PURE__*/ new Color();\n\nclass GridHelper extends LineSegments {\n\n\tconstructor( size = 10, divisions = 10, color1 = 0x444444, color2 = 0x888888 ) {\n\n\t\tcolor1 = new Color( color1 );\n\t\tcolor2 = new Color( color2 );\n\n\t\tconst center = divisions / 2;\n\t\tconst step = size / divisions;\n\t\tconst halfSize = size / 2;\n\n\t\tconst vertices = [], colors = [];\n\n\t\tfor ( let i = 0, j = 0, k = - halfSize; i <= divisions; i ++, k += step ) {\n\n\t\t\tvertices.push( - halfSize, 0, k, halfSize, 0, k );\n\t\t\tvertices.push( k, 0, - halfSize, k, 0, halfSize );\n\n\t\t\tconst color = i === center ? color1 : color2;\n\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\t\t\tcolor.toArray( colors, j ); j += 3;\n\n\t\t}\n\n\t\tconst geometry = new BufferGeometry();\n\t\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\t\tconst material = new LineBasicMaterial( { vertexColors: true, toneMapped: false } );\n\n\t\tsuper( geometry, material );\n\n\t\tthis.type = 'GridHelper';\n\n\t}\n\n}\nconst _camera = /*@__PURE__*/ new Camera();\n\n//\n\nCurve.create = function ( construct, getPoint ) {\n\n\tconsole.log( 'THREE.Curve.create() has been deprecated' );\n\n\tconstruct.prototype = Object.create( Curve.prototype );\n\tconstruct.prototype.constructor = construct;\n\tconstruct.prototype.getPoint = getPoint;\n\n\treturn construct;\n\n};\n\n//\n\nPath.prototype.fromPoints = function ( points ) {\n\n\tconsole.warn( 'THREE.Path: .fromPoints() has been renamed to .setFromPoints().' );\n\treturn this.setFromPoints( points );\n\n};\n\nGridHelper.prototype.setColors = function () {\n\n\tconsole.error( 'THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.' );\n\n};\n\nSkeletonHelper.prototype.update = function () {\n\n\tconsole.error( 'THREE.SkeletonHelper: update() no longer needs to be called.' );\n\n};\n\n//\n\nLoader.prototype.extractUrlBase = function ( url ) {\n\n\tconsole.warn( 'THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.' );\n\treturn LoaderUtils.extractUrlBase( url );\n\n};\n\nLoader.Handlers = {\n\n\tadd: function ( /* regex, loader */ ) {\n\n\t\tconsole.error( 'THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.' );\n\n\t},\n\n\tget: function ( /* file */ ) {\n\n\t\tconsole.error( 'THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.' );\n\n\t}\n\n};\n\n//\n\nBox2.prototype.center = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Box2: .center() has been renamed to .getCenter().' );\n\treturn this.getCenter( optionalTarget );\n\n};\n\nBox2.prototype.empty = function () {\n\n\tconsole.warn( 'THREE.Box2: .empty() has been renamed to .isEmpty().' );\n\treturn this.isEmpty();\n\n};\n\nBox2.prototype.isIntersectionBox = function ( box ) {\n\n\tconsole.warn( 'THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\treturn this.intersectsBox( box );\n\n};\n\nBox2.prototype.size = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Box2: .size() has been renamed to .getSize().' );\n\treturn this.getSize( optionalTarget );\n\n};\n\n//\n\nBox3.prototype.center = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Box3: .center() has been renamed to .getCenter().' );\n\treturn this.getCenter( optionalTarget );\n\n};\n\nBox3.prototype.empty = function () {\n\n\tconsole.warn( 'THREE.Box3: .empty() has been renamed to .isEmpty().' );\n\treturn this.isEmpty();\n\n};\n\nBox3.prototype.isIntersectionBox = function ( box ) {\n\n\tconsole.warn( 'THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\treturn this.intersectsBox( box );\n\n};\n\nBox3.prototype.isIntersectionSphere = function ( sphere ) {\n\n\tconsole.warn( 'THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\treturn this.intersectsSphere( sphere );\n\n};\n\nBox3.prototype.size = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Box3: .size() has been renamed to .getSize().' );\n\treturn this.getSize( optionalTarget );\n\n};\n\n//\n\nSphere.prototype.empty = function () {\n\n\tconsole.warn( 'THREE.Sphere: .empty() has been renamed to .isEmpty().' );\n\treturn this.isEmpty();\n\n};\n\n//\n\nFrustum.prototype.setFromMatrix = function ( m ) {\n\n\tconsole.warn( 'THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix().' );\n\treturn this.setFromProjectionMatrix( m );\n\n};\n\n//\n\nLine3.prototype.center = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Line3: .center() has been renamed to .getCenter().' );\n\treturn this.getCenter( optionalTarget );\n\n};\n\n//\n\nMatrix3.prototype.flattenToArrayOffset = function ( array, offset ) {\n\n\tconsole.warn( 'THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.' );\n\treturn this.toArray( array, offset );\n\n};\n\nMatrix3.prototype.multiplyVector3 = function ( vector ) {\n\n\tconsole.warn( 'THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.' );\n\treturn vector.applyMatrix3( this );\n\n};\n\nMatrix3.prototype.multiplyVector3Array = function ( /* a */ ) {\n\n\tconsole.error( 'THREE.Matrix3: .multiplyVector3Array() has been removed.' );\n\n};\n\nMatrix3.prototype.applyToBufferAttribute = function ( attribute ) {\n\n\tconsole.warn( 'THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead.' );\n\treturn attribute.applyMatrix3( this );\n\n};\n\nMatrix3.prototype.applyToVector3Array = function ( /* array, offset, length */ ) {\n\n\tconsole.error( 'THREE.Matrix3: .applyToVector3Array() has been removed.' );\n\n};\n\nMatrix3.prototype.getInverse = function ( matrix ) {\n\n\tconsole.warn( 'THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead.' );\n\treturn this.copy( matrix ).invert();\n\n};\n\n//\n\nMatrix4.prototype.extractPosition = function ( m ) {\n\n\tconsole.warn( 'THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().' );\n\treturn this.copyPosition( m );\n\n};\n\nMatrix4.prototype.flattenToArrayOffset = function ( array, offset ) {\n\n\tconsole.warn( 'THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.' );\n\treturn this.toArray( array, offset );\n\n};\n\nMatrix4.prototype.getPosition = function () {\n\n\tconsole.warn( 'THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.' );\n\treturn new Vector3().setFromMatrixColumn( this, 3 );\n\n};\n\nMatrix4.prototype.setRotationFromQuaternion = function ( q ) {\n\n\tconsole.warn( 'THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().' );\n\treturn this.makeRotationFromQuaternion( q );\n\n};\n\nMatrix4.prototype.multiplyToArray = function () {\n\n\tconsole.warn( 'THREE.Matrix4: .multiplyToArray() has been removed.' );\n\n};\n\nMatrix4.prototype.multiplyVector3 = function ( vector ) {\n\n\tconsole.warn( 'THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\treturn vector.applyMatrix4( this );\n\n};\n\nMatrix4.prototype.multiplyVector4 = function ( vector ) {\n\n\tconsole.warn( 'THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\treturn vector.applyMatrix4( this );\n\n};\n\nMatrix4.prototype.multiplyVector3Array = function ( /* a */ ) {\n\n\tconsole.error( 'THREE.Matrix4: .multiplyVector3Array() has been removed.' );\n\n};\n\nMatrix4.prototype.rotateAxis = function ( v ) {\n\n\tconsole.warn( 'THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.' );\n\tv.transformDirection( this );\n\n};\n\nMatrix4.prototype.crossVector = function ( vector ) {\n\n\tconsole.warn( 'THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\treturn vector.applyMatrix4( this );\n\n};\n\nMatrix4.prototype.translate = function () {\n\n\tconsole.error( 'THREE.Matrix4: .translate() has been removed.' );\n\n};\n\nMatrix4.prototype.rotateX = function () {\n\n\tconsole.error( 'THREE.Matrix4: .rotateX() has been removed.' );\n\n};\n\nMatrix4.prototype.rotateY = function () {\n\n\tconsole.error( 'THREE.Matrix4: .rotateY() has been removed.' );\n\n};\n\nMatrix4.prototype.rotateZ = function () {\n\n\tconsole.error( 'THREE.Matrix4: .rotateZ() has been removed.' );\n\n};\n\nMatrix4.prototype.rotateByAxis = function () {\n\n\tconsole.error( 'THREE.Matrix4: .rotateByAxis() has been removed.' );\n\n};\n\nMatrix4.prototype.applyToBufferAttribute = function ( attribute ) {\n\n\tconsole.warn( 'THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead.' );\n\treturn attribute.applyMatrix4( this );\n\n};\n\nMatrix4.prototype.applyToVector3Array = function ( /* array, offset, length */ ) {\n\n\tconsole.error( 'THREE.Matrix4: .applyToVector3Array() has been removed.' );\n\n};\n\nMatrix4.prototype.makeFrustum = function ( left, right, bottom, top, near, far ) {\n\n\tconsole.warn( 'THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.' );\n\treturn this.makePerspective( left, right, top, bottom, near, far );\n\n};\n\nMatrix4.prototype.getInverse = function ( matrix ) {\n\n\tconsole.warn( 'THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead.' );\n\treturn this.copy( matrix ).invert();\n\n};\n\n//\n\nPlane.prototype.isIntersectionLine = function ( line ) {\n\n\tconsole.warn( 'THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().' );\n\treturn this.intersectsLine( line );\n\n};\n\n//\n\nQuaternion.prototype.multiplyVector3 = function ( vector ) {\n\n\tconsole.warn( 'THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.' );\n\treturn vector.applyQuaternion( this );\n\n};\n\nQuaternion.prototype.inverse = function ( ) {\n\n\tconsole.warn( 'THREE.Quaternion: .inverse() has been renamed to invert().' );\n\treturn this.invert();\n\n};\n\n//\n\nRay.prototype.isIntersectionBox = function ( box ) {\n\n\tconsole.warn( 'THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\treturn this.intersectsBox( box );\n\n};\n\nRay.prototype.isIntersectionPlane = function ( plane ) {\n\n\tconsole.warn( 'THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().' );\n\treturn this.intersectsPlane( plane );\n\n};\n\nRay.prototype.isIntersectionSphere = function ( sphere ) {\n\n\tconsole.warn( 'THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\treturn this.intersectsSphere( sphere );\n\n};\n\n//\n\nTriangle.prototype.area = function () {\n\n\tconsole.warn( 'THREE.Triangle: .area() has been renamed to .getArea().' );\n\treturn this.getArea();\n\n};\n\nTriangle.prototype.barycoordFromPoint = function ( point, target ) {\n\n\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\n\treturn this.getBarycoord( point, target );\n\n};\n\nTriangle.prototype.midpoint = function ( target ) {\n\n\tconsole.warn( 'THREE.Triangle: .midpoint() has been renamed to .getMidpoint().' );\n\treturn this.getMidpoint( target );\n\n};\n\nTriangle.prototypenormal = function ( target ) {\n\n\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\n\treturn this.getNormal( target );\n\n};\n\nTriangle.prototype.plane = function ( target ) {\n\n\tconsole.warn( 'THREE.Triangle: .plane() has been renamed to .getPlane().' );\n\treturn this.getPlane( target );\n\n};\n\nTriangle.barycoordFromPoint = function ( point, a, b, c, target ) {\n\n\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\n\treturn Triangle.getBarycoord( point, a, b, c, target );\n\n};\n\nTriangle.normal = function ( a, b, c, target ) {\n\n\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\n\treturn Triangle.getNormal( a, b, c, target );\n\n};\n\n//\n\nShape.prototype.extractAllPoints = function ( divisions ) {\n\n\tconsole.warn( 'THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.' );\n\treturn this.extractPoints( divisions );\n\n};\n\nShape.prototype.extrude = function ( options ) {\n\n\tconsole.warn( 'THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.' );\n\treturn new ExtrudeGeometry( this, options );\n\n};\n\nShape.prototype.makeGeometry = function ( options ) {\n\n\tconsole.warn( 'THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.' );\n\treturn new ShapeGeometry( this, options );\n\n};\n\n//\n\nVector2.prototype.fromAttribute = function ( attribute, index, offset ) {\n\n\tconsole.warn( 'THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\treturn this.fromBufferAttribute( attribute, index, offset );\n\n};\n\nVector2.prototype.distanceToManhattan = function ( v ) {\n\n\tconsole.warn( 'THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\treturn this.manhattanDistanceTo( v );\n\n};\n\nVector2.prototype.lengthManhattan = function () {\n\n\tconsole.warn( 'THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().' );\n\treturn this.manhattanLength();\n\n};\n\n//\n\nVector3.prototype.setEulerFromRotationMatrix = function () {\n\n\tconsole.error( 'THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.' );\n\n};\n\nVector3.prototype.setEulerFromQuaternion = function () {\n\n\tconsole.error( 'THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.' );\n\n};\n\nVector3.prototype.getPositionFromMatrix = function ( m ) {\n\n\tconsole.warn( 'THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().' );\n\treturn this.setFromMatrixPosition( m );\n\n};\n\nVector3.prototype.getScaleFromMatrix = function ( m ) {\n\n\tconsole.warn( 'THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().' );\n\treturn this.setFromMatrixScale( m );\n\n};\n\nVector3.prototype.getColumnFromMatrix = function ( index, matrix ) {\n\n\tconsole.warn( 'THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().' );\n\treturn this.setFromMatrixColumn( matrix, index );\n\n};\n\nVector3.prototype.applyProjection = function ( m ) {\n\n\tconsole.warn( 'THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.' );\n\treturn this.applyMatrix4( m );\n\n};\n\nVector3.prototype.fromAttribute = function ( attribute, index, offset ) {\n\n\tconsole.warn( 'THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\treturn this.fromBufferAttribute( attribute, index, offset );\n\n};\n\nVector3.prototype.distanceToManhattan = function ( v ) {\n\n\tconsole.warn( 'THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\treturn this.manhattanDistanceTo( v );\n\n};\n\nVector3.prototype.lengthManhattan = function () {\n\n\tconsole.warn( 'THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().' );\n\treturn this.manhattanLength();\n\n};\n\n//\n\nVector4.prototype.fromAttribute = function ( attribute, index, offset ) {\n\n\tconsole.warn( 'THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\treturn this.fromBufferAttribute( attribute, index, offset );\n\n};\n\nVector4.prototype.lengthManhattan = function () {\n\n\tconsole.warn( 'THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().' );\n\treturn this.manhattanLength();\n\n};\n\n//\n\nObject3D.prototype.getChildByName = function ( name ) {\n\n\tconsole.warn( 'THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().' );\n\treturn this.getObjectByName( name );\n\n};\n\nObject3D.prototype.renderDepth = function () {\n\n\tconsole.warn( 'THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.' );\n\n};\n\nObject3D.prototype.translate = function ( distance, axis ) {\n\n\tconsole.warn( 'THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.' );\n\treturn this.translateOnAxis( axis, distance );\n\n};\n\nObject3D.prototype.getWorldRotation = function () {\n\n\tconsole.error( 'THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.' );\n\n};\n\nObject3D.prototype.applyMatrix = function ( matrix ) {\n\n\tconsole.warn( 'THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4().' );\n\treturn this.applyMatrix4( matrix );\n\n};\n\nObject.defineProperties( Object3D.prototype, {\n\n\teulerOrder: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\treturn this.rotation.order;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\tthis.rotation.order = value;\n\n\t\t}\n\t},\n\tuseQuaternion: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t}\n\t}\n\n} );\n\nMesh.prototype.setDrawMode = function () {\n\n\tconsole.error( 'THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.' );\n\n};\n\nObject.defineProperties( Mesh.prototype, {\n\n\tdrawMode: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode.' );\n\t\t\treturn TrianglesDrawMode;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.error( 'THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.' );\n\n\t\t}\n\t}\n\n} );\n\nSkinnedMesh.prototype.initBones = function () {\n\n\tconsole.error( 'THREE.SkinnedMesh: initBones() has been removed.' );\n\n};\n\n//\n\nPerspectiveCamera.prototype.setLens = function ( focalLength, filmGauge ) {\n\n\tconsole.warn( 'THREE.PerspectiveCamera.setLens is deprecated. ' +\n\t\t\t'Use .setFocalLength and .filmGauge for a photographic setup.' );\n\n\tif ( filmGauge !== undefined ) this.filmGauge = filmGauge;\n\tthis.setFocalLength( focalLength );\n\n};\n\n//\n\nObject.defineProperties( Light.prototype, {\n\tonlyShadow: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .onlyShadow has been removed.' );\n\n\t\t}\n\t},\n\tshadowCameraFov: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFov is now .shadow.camera.fov.' );\n\t\t\tthis.shadow.camera.fov = value;\n\n\t\t}\n\t},\n\tshadowCameraLeft: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraLeft is now .shadow.camera.left.' );\n\t\t\tthis.shadow.camera.left = value;\n\n\t\t}\n\t},\n\tshadowCameraRight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraRight is now .shadow.camera.right.' );\n\t\t\tthis.shadow.camera.right = value;\n\n\t\t}\n\t},\n\tshadowCameraTop: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraTop is now .shadow.camera.top.' );\n\t\t\tthis.shadow.camera.top = value;\n\n\t\t}\n\t},\n\tshadowCameraBottom: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.' );\n\t\t\tthis.shadow.camera.bottom = value;\n\n\t\t}\n\t},\n\tshadowCameraNear: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraNear is now .shadow.camera.near.' );\n\t\t\tthis.shadow.camera.near = value;\n\n\t\t}\n\t},\n\tshadowCameraFar: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFar is now .shadow.camera.far.' );\n\t\t\tthis.shadow.camera.far = value;\n\n\t\t}\n\t},\n\tshadowCameraVisible: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.' );\n\n\t\t}\n\t},\n\tshadowBias: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowBias is now .shadow.bias.' );\n\t\t\tthis.shadow.bias = value;\n\n\t\t}\n\t},\n\tshadowDarkness: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowDarkness has been removed.' );\n\n\t\t}\n\t},\n\tshadowMapWidth: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.' );\n\t\t\tthis.shadow.mapSize.width = value;\n\n\t\t}\n\t},\n\tshadowMapHeight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.' );\n\t\t\tthis.shadow.mapSize.height = value;\n\n\t\t}\n\t}\n} );\n\n//\n\nObject.defineProperties( BufferAttribute.prototype, {\n\n\tlength: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .length has been deprecated. Use .count instead.' );\n\t\t\treturn this.array.length;\n\n\t\t}\n\t},\n\tdynamic: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.' );\n\t\t\treturn this.usage === DynamicDrawUsage;\n\n\t\t},\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.' );\n\t\t\tthis.setUsage( DynamicDrawUsage );\n\n\t\t}\n\t}\n\n} );\n\nBufferAttribute.prototype.setDynamic = function ( value ) {\n\n\tconsole.warn( 'THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead.' );\n\tthis.setUsage( value === true ? DynamicDrawUsage : StaticDrawUsage );\n\treturn this;\n\n};\n\nBufferAttribute.prototype.copyIndicesArray = function ( /* indices */ ) {\n\n\tconsole.error( 'THREE.BufferAttribute: .copyIndicesArray() has been removed.' );\n\n},\n\nBufferAttribute.prototype.setArray = function ( /* array */ ) {\n\n\tconsole.error( 'THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers' );\n\n};\n\n//\n\nBufferGeometry.prototype.addIndex = function ( index ) {\n\n\tconsole.warn( 'THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().' );\n\tthis.setIndex( index );\n\n};\n\nBufferGeometry.prototype.addAttribute = function ( name, attribute ) {\n\n\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute().' );\n\n\tif ( ! ( attribute && attribute.isBufferAttribute ) && ! ( attribute && attribute.isInterleavedBufferAttribute ) ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).' );\n\n\t\treturn this.setAttribute( name, new BufferAttribute( arguments[ 1 ], arguments[ 2 ] ) );\n\n\t}\n\n\tif ( name === 'index' ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.' );\n\t\tthis.setIndex( attribute );\n\n\t\treturn this;\n\n\t}\n\n\treturn this.setAttribute( name, attribute );\n\n};\n\nBufferGeometry.prototype.addDrawCall = function ( start, count, indexOffset ) {\n\n\tif ( indexOffset !== undefined ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.' );\n\n\t}\n\n\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() is now .addGroup().' );\n\tthis.addGroup( start, count );\n\n};\n\nBufferGeometry.prototype.clearDrawCalls = function () {\n\n\tconsole.warn( 'THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().' );\n\tthis.clearGroups();\n\n};\n\nBufferGeometry.prototype.computeOffsets = function () {\n\n\tconsole.warn( 'THREE.BufferGeometry: .computeOffsets() has been removed.' );\n\n};\n\nBufferGeometry.prototype.removeAttribute = function ( name ) {\n\n\tconsole.warn( 'THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute().' );\n\n\treturn this.deleteAttribute( name );\n\n};\n\nBufferGeometry.prototype.applyMatrix = function ( matrix ) {\n\n\tconsole.warn( 'THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4().' );\n\treturn this.applyMatrix4( matrix );\n\n};\n\nObject.defineProperties( BufferGeometry.prototype, {\n\n\tdrawcalls: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry: .drawcalls has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t},\n\toffsets: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .offsets has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t}\n\n} );\n\nInterleavedBuffer.prototype.setDynamic = function ( value ) {\n\n\tconsole.warn( 'THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead.' );\n\tthis.setUsage( value === true ? DynamicDrawUsage : StaticDrawUsage );\n\treturn this;\n\n};\n\nInterleavedBuffer.prototype.setArray = function ( /* array */ ) {\n\n\tconsole.error( 'THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers' );\n\n};\n\n//\n\nExtrudeGeometry.prototype.getArrays = function () {\n\n\tconsole.error( 'THREE.ExtrudeGeometry: .getArrays() has been removed.' );\n\n};\n\nExtrudeGeometry.prototype.addShapeList = function () {\n\n\tconsole.error( 'THREE.ExtrudeGeometry: .addShapeList() has been removed.' );\n\n};\n\nExtrudeGeometry.prototype.addShape = function () {\n\n\tconsole.error( 'THREE.ExtrudeGeometry: .addShape() has been removed.' );\n\n};\n\n//\n\nScene.prototype.dispose = function () {\n\n\tconsole.error( 'THREE.Scene: .dispose() has been removed.' );\n\n};\n\n//\n\nUniform.prototype.onUpdate = function () {\n\n\tconsole.warn( 'THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.' );\n\treturn this;\n\n};\n\n//\n\nObject.defineProperties( Material.prototype, {\n\n\twrapAround: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t}\n\t},\n\n\toverdraw: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\n\n\t\t}\n\t},\n\n\twrapRGB: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapRGB has been removed.' );\n\t\t\treturn new Color();\n\n\t\t}\n\t},\n\n\tshading: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\tthis.flatShading = ( value === FlatShading );\n\n\t\t}\n\t},\n\n\tstencilMask: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.' );\n\t\t\treturn this.stencilFuncMask;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.' );\n\t\t\tthis.stencilFuncMask = value;\n\n\t\t}\n\t},\n\n\tvertexTangents: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .vertexTangents has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .vertexTangents has been removed.' );\n\n\t\t}\n\t},\n\n} );\n\nObject.defineProperties( ShaderMaterial.prototype, {\n\n\tderivatives: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\treturn this.extensions.derivatives;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\tthis.extensions.derivatives = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nWebGLRenderer.prototype.clearTarget = function ( renderTarget, color, depth, stencil ) {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.' );\n\tthis.setRenderTarget( renderTarget );\n\tthis.clear( color, depth, stencil );\n\n};\n\nWebGLRenderer.prototype.animate = function ( callback ) {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .animate() is now .setAnimationLoop().' );\n\tthis.setAnimationLoop( callback );\n\n};\n\nWebGLRenderer.prototype.getCurrentRenderTarget = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().' );\n\treturn this.getRenderTarget();\n\n};\n\nWebGLRenderer.prototype.getMaxAnisotropy = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().' );\n\treturn this.capabilities.getMaxAnisotropy();\n\n};\n\nWebGLRenderer.prototype.getPrecision = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.' );\n\treturn this.capabilities.precision;\n\n};\n\nWebGLRenderer.prototype.resetGLState = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .resetGLState() is now .state.reset().' );\n\treturn this.state.reset();\n\n};\n\nWebGLRenderer.prototype.supportsFloatTextures = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \\'OES_texture_float\\' ).' );\n\treturn this.extensions.get( 'OES_texture_float' );\n\n};\n\nWebGLRenderer.prototype.supportsHalfFloatTextures = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \\'OES_texture_half_float\\' ).' );\n\treturn this.extensions.get( 'OES_texture_half_float' );\n\n};\n\nWebGLRenderer.prototype.supportsStandardDerivatives = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \\'OES_standard_derivatives\\' ).' );\n\treturn this.extensions.get( 'OES_standard_derivatives' );\n\n};\n\nWebGLRenderer.prototype.supportsCompressedTextureS3TC = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \\'WEBGL_compressed_texture_s3tc\\' ).' );\n\treturn this.extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n};\n\nWebGLRenderer.prototype.supportsCompressedTexturePVRTC = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \\'WEBGL_compressed_texture_pvrtc\\' ).' );\n\treturn this.extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n};\n\nWebGLRenderer.prototype.supportsBlendMinMax = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \\'EXT_blend_minmax\\' ).' );\n\treturn this.extensions.get( 'EXT_blend_minmax' );\n\n};\n\nWebGLRenderer.prototype.supportsVertexTextures = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.' );\n\treturn this.capabilities.vertexTextures;\n\n};\n\nWebGLRenderer.prototype.supportsInstancedArrays = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \\'ANGLE_instanced_arrays\\' ).' );\n\treturn this.extensions.get( 'ANGLE_instanced_arrays' );\n\n};\n\nWebGLRenderer.prototype.enableScissorTest = function ( boolean ) {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().' );\n\tthis.setScissorTest( boolean );\n\n};\n\nWebGLRenderer.prototype.initMaterial = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .initMaterial() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.addPrePlugin = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .addPrePlugin() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.addPostPlugin = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .addPostPlugin() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.updateShadowMap = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .updateShadowMap() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.setFaceCulling = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .setFaceCulling() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.allocTextureUnit = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .allocTextureUnit() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.setTexture = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .setTexture() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.setTexture2D = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .setTexture2D() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.setTextureCube = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .setTextureCube() has been removed.' );\n\n};\n\nWebGLRenderer.prototype.getActiveMipMapLevel = function () {\n\n\tconsole.warn( 'THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel().' );\n\treturn this.getActiveMipmapLevel();\n\n};\n\nObject.defineProperties( WebGLRenderer.prototype, {\n\n\tshadowMapEnabled: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.enabled;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.' );\n\t\t\tthis.shadowMap.enabled = value;\n\n\t\t}\n\t},\n\tshadowMapType: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.' );\n\t\t\tthis.shadowMap.type = value;\n\n\t\t}\n\t},\n\tshadowMapCullFace: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\tcontext: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .context has been removed. Use .getContext() instead.' );\n\t\t\treturn this.getContext();\n\n\t\t}\n\t},\n\tvr: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .vr has been renamed to .xr' );\n\t\t\treturn this.xr;\n\n\t\t}\n\t},\n\tgammaInput: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.' );\n\n\t\t}\n\t},\n\tgammaOutput: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.' );\n\t\t\tthis.outputEncoding = ( value === true ) ? sRGBEncoding : LinearEncoding;\n\n\t\t}\n\t},\n\ttoneMappingWhitePoint: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.' );\n\t\t\treturn 1.0;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.' );\n\n\t\t}\n\t},\n\n} );\n\nObject.defineProperties( WebGLShadowMap.prototype, {\n\n\tcullFace: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function ( /* cullFace */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\trenderReverseSided: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\trenderSingleSided: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.defineProperties( WebGLRenderTarget.prototype, {\n\n\twrapS: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\treturn this.texture.wrapS;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\tthis.texture.wrapS = value;\n\n\t\t}\n\t},\n\twrapT: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\treturn this.texture.wrapT;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\tthis.texture.wrapT = value;\n\n\t\t}\n\t},\n\tmagFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\treturn this.texture.magFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\tthis.texture.magFilter = value;\n\n\t\t}\n\t},\n\tminFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\treturn this.texture.minFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\tthis.texture.minFilter = value;\n\n\t\t}\n\t},\n\tanisotropy: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\treturn this.texture.anisotropy;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\tthis.texture.anisotropy = value;\n\n\t\t}\n\t},\n\toffset: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\treturn this.texture.offset;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\tthis.texture.offset = value;\n\n\t\t}\n\t},\n\trepeat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\treturn this.texture.repeat;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\tthis.texture.repeat = value;\n\n\t\t}\n\t},\n\tformat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\treturn this.texture.format;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\tthis.texture.format = value;\n\n\t\t}\n\t},\n\ttype: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\treturn this.texture.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\tthis.texture.type = value;\n\n\t\t}\n\t},\n\tgenerateMipmaps: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\treturn this.texture.generateMipmaps;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\tthis.texture.generateMipmaps = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nAudio.prototype.load = function ( file ) {\n\n\tconsole.warn( 'THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.' );\n\tconst scope = this;\n\tconst audioLoader = new AudioLoader();\n\taudioLoader.load( file, function ( buffer ) {\n\n\t\tscope.setBuffer( buffer );\n\n\t} );\n\treturn this;\n\n};\n\n\nAudioAnalyser.prototype.getData = function () {\n\n\tconsole.warn( 'THREE.AudioAnalyser: .getData() is now .getFrequencyData().' );\n\treturn this.getFrequencyData();\n\n};\n\n//\n\nCubeCamera.prototype.updateCubeMap = function ( renderer, scene ) {\n\n\tconsole.warn( 'THREE.CubeCamera: .updateCubeMap() is now .update().' );\n\treturn this.update( renderer, scene );\n\n};\n\nCubeCamera.prototype.clear = function ( renderer, color, depth, stencil ) {\n\n\tconsole.warn( 'THREE.CubeCamera: .clear() is now .renderTarget.clear().' );\n\treturn this.renderTarget.clear( renderer, color, depth, stencil );\n\n};\n\nImageUtils.crossOrigin = undefined;\n\nImageUtils.loadTexture = function ( url, mapping, onLoad, onError ) {\n\n\tconsole.warn( 'THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.' );\n\n\tconst loader = new TextureLoader();\n\tloader.setCrossOrigin( this.crossOrigin );\n\n\tconst texture = loader.load( url, onLoad, undefined, onError );\n\n\tif ( mapping ) texture.mapping = mapping;\n\n\treturn texture;\n\n};\n\nImageUtils.loadTextureCube = function ( urls, mapping, onLoad, onError ) {\n\n\tconsole.warn( 'THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.' );\n\n\tconst loader = new CubeTextureLoader();\n\tloader.setCrossOrigin( this.crossOrigin );\n\n\tconst texture = loader.load( urls, onLoad, undefined, onError );\n\n\tif ( mapping ) texture.mapping = mapping;\n\n\treturn texture;\n\n};\n\nImageUtils.loadCompressedTexture = function () {\n\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.' );\n\n};\n\nImageUtils.loadCompressedTextureCube = function () {\n\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.' );\n\n};\n\nif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t/* eslint-disable no-undef */\n\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'register', { detail: {\n\t\trevision: REVISION,\n\t} } ) );\n\t/* eslint-enable no-undef */\n\n}\n\nif ( typeof window !== 'undefined' ) {\n\n\tif ( window.__THREE__ ) {\n\n\t\tconsole.warn( 'WARNING: Multiple instances of Three.js being imported.' );\n\n\t} else {\n\n\t\twindow.__THREE__ = REVISION;\n\n\t}\n\n}\n\nvar fragment = \"#include <common>\\n#include <dithering_pars_fragment>\\n\\nuniform sampler2D inputBuffer;\\n\\nvarying vec2 vUv0;\\nvarying vec2 vUv1;\\nvarying vec2 vUv2;\\nvarying vec2 vUv3;\\n\\nvoid main() {\\n\\n\\t// Sample top left texel.\\n\\tvec4 sum = texture2D(inputBuffer, vUv0);\\n\\n\\t// Sample top right texel.\\n\\tsum += texture2D(inputBuffer, vUv1);\\n\\n\\t// Sample bottom right texel.\\n\\tsum += texture2D(inputBuffer, vUv2);\\n\\n\\t// Sample bottom left texel.\\n\\tsum += texture2D(inputBuffer, vUv3);\\n\\n\\t// Compute the average.\\n\\tgl_FragColor = sum * 0.25;\\n\\n\\t#include <dithering_fragment>\\n\\n}\";\n\nvar vertex = \"uniform vec2 texelSize;\\nuniform vec2 halfTexelSize;\\nuniform float kernel;\\n\\n/* Packing multiple texture coordinates into one varying and using a swizzle to\\nextract them in the fragment shader still causes a dependent texture read. */\\nvarying vec2 vUv0;\\nvarying vec2 vUv1;\\nvarying vec2 vUv2;\\nvarying vec2 vUv3;\\n\\nvoid main() {\\n\\n\\tvec2 dUv = (texelSize * vec2(kernel)) + halfTexelSize;\\n\\n\\tvUv0 = vec2(uv.x - dUv.x, uv.y + dUv.y);\\n\\tvUv1 = vec2(uv.x + dUv.x, uv.y + dUv.y);\\n\\tvUv2 = vec2(uv.x + dUv.x, uv.y - dUv.y);\\n\\tvUv3 = vec2(uv.x - dUv.x, uv.y - dUv.y);\\n\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\n\\n}\";\n\n/**\n * An optimised convolution shader material.\n *\n * This material supports dithering.\n *\n * Based on the GDC2003 Presentation by Masaki Kawase, Bunkasha Games:\n *  Frame Buffer Postprocessing Effects in DOUBLE-S.T.E.A.L (Wreckless)\n * and an article by Filip Strugar, Intel:\n *  An investigation of fast real-time GPU-based image blur algorithms\n *\n * Further modified according to Apple's\n * [Best Practices for Shaders](https://goo.gl/lmRoM5).\n */\n\nvar ConvolutionMaterial =\n/*#__PURE__*/\nfunction (_ShaderMaterial) {\n  _inheritsLoose(ConvolutionMaterial, _ShaderMaterial);\n\n  /**\n   * Constructs a new convolution material.\n   *\n   * @param {Vector2} [texelSize] - The absolute screen texel size.\n   */\n  function ConvolutionMaterial(texelSize) {\n    var _this;\n\n    if (texelSize === void 0) {\n      texelSize = new Vector2();\n    }\n\n    _this = _ShaderMaterial.call(this, {\n      type: \"ConvolutionMaterial\",\n      uniforms: {\n        inputBuffer: new Uniform(null),\n        texelSize: new Uniform(new Vector2()),\n        halfTexelSize: new Uniform(new Vector2()),\n        kernel: new Uniform(0.0)\n      },\n      fragmentShader: fragment,\n      vertexShader: vertex,\n      depthWrite: false,\n      depthTest: false\n    }) || this;\n\n    _this.setTexelSize(texelSize.x, texelSize.y);\n    /**\n     * The current kernel size.\n     *\n     * @type {KernelSize}\n     */\n\n\n    _this.kernelSize = KernelSize.LARGE;\n    return _this;\n  }\n  /**\n   * Returns the kernel.\n   *\n   * @return {Float32Array} The kernel.\n   */\n\n\n  var _proto = ConvolutionMaterial.prototype;\n\n  _proto.getKernel = function getKernel() {\n    return kernelPresets[this.kernelSize];\n  }\n  /**\n   * Sets the texel size.\n   *\n   * @param {Number} x - The texel width.\n   * @param {Number} y - The texel height.\n   */\n  ;\n\n  _proto.setTexelSize = function setTexelSize(x, y) {\n    this.uniforms.texelSize.value.set(x, y);\n    this.uniforms.halfTexelSize.value.set(x, y).multiplyScalar(0.5);\n  };\n\n  return ConvolutionMaterial;\n}(ShaderMaterial);\n/**\n * The Kawase blur kernel presets.\n *\n * @type {Float32Array[]}\n * @private\n */\n\nvar kernelPresets = [new Float32Array([0.0, 0.0]), new Float32Array([0.0, 1.0, 1.0]), new Float32Array([0.0, 1.0, 1.0, 2.0]), new Float32Array([0.0, 1.0, 2.0, 2.0, 3.0]), new Float32Array([0.0, 1.0, 2.0, 3.0, 4.0, 4.0, 5.0]), new Float32Array([0.0, 1.0, 2.0, 3.0, 4.0, 5.0, 7.0, 8.0, 9.0, 10.0])];\n/**\n * A kernel size enumeration.\n *\n * @type {Object}\n * @property {Number} VERY_SMALL - A very small kernel that matches a 7x7 Gauss blur kernel.\n * @property {Number} SMALL - A small kernel that matches a 15x15 Gauss blur kernel.\n * @property {Number} MEDIUM - A medium sized kernel that matches a 23x23 Gauss blur kernel.\n * @property {Number} LARGE - A large kernel that matches a 35x35 Gauss blur kernel.\n * @property {Number} VERY_LARGE - A very large kernel that matches a 63x63 Gauss blur kernel.\n * @property {Number} HUGE - A huge kernel that matches a 127x127 Gauss blur kernel.\n */\n\nvar KernelSize = {\n  VERY_SMALL: 0,\n  SMALL: 1,\n  MEDIUM: 2,\n  LARGE: 3,\n  VERY_LARGE: 4,\n  HUGE: 5\n};\n\nvar fragmentTemplate = \"#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n\\nuniform sampler2D inputBuffer;\\nuniform sampler2D depthBuffer;\\n\\nuniform vec2 resolution;\\nuniform vec2 texelSize;\\n\\nuniform float cameraNear;\\nuniform float cameraFar;\\nuniform float aspect;\\nuniform float time;\\n\\nvarying vec2 vUv;\\n\\nfloat readDepth(const in vec2 uv) {\\n\\n\\t#if DEPTH_PACKING == 3201\\n\\n\\t\\treturn unpackRGBAToDepth(texture2D(depthBuffer, uv));\\n\\n\\t#else\\n\\n\\t\\treturn texture2D(depthBuffer, uv).r;\\n\\n\\t#endif\\n\\n}\\n\\nFRAGMENT_HEAD\\n\\nvoid main() {\\n\\n\\tFRAGMENT_MAIN_UV\\n\\n\\tvec4 color0 = texture2D(inputBuffer, UV);\\n\\tvec4 color1 = vec4(0.0);\\n\\n\\tFRAGMENT_MAIN_IMAGE\\n\\n\\tgl_FragColor = color0;\\n\\n\\t#include <dithering_fragment>\\n\\n}\";\n\nvar vertexTemplate = \"uniform vec2 resolution;\\nuniform vec2 texelSize;\\n\\nuniform float cameraNear;\\nuniform float cameraFar;\\nuniform float aspect;\\nuniform float time;\\n\\nvarying vec2 vUv;\\n\\nVERTEX_HEAD\\n\\nvoid main() {\\n\\n\\tvUv = uv;\\n\\n\\tVERTEX_MAIN_SUPPORT\\n\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\n\\n}\\n\";\n\n/**\n * An effect material for compound shaders.\n *\n * This material supports dithering.\n *\n * @implements {Resizable}\n */\n\nvar EffectMaterial =\n/*#__PURE__*/\nfunction (_ShaderMaterial) {\n  _inheritsLoose(EffectMaterial, _ShaderMaterial);\n\n  /**\n   * Constructs a new effect material.\n   *\n   * @param {Map<String, String>} shaderParts - A collection of shader snippets.\n   * @param {Map<String, String>} defines - A collection of preprocessor macro definitions.\n   * @param {Map<String, Uniform>} uniforms - A collection of uniforms.\n   * @param {Camera} [camera=null] - A camera.\n   * @param {Boolean} [dithering=false] - Whether dithering should be enabled.\n   */\n  function EffectMaterial(shaderParts, defines, uniforms, camera, dithering) {\n    var _this;\n\n    if (camera === void 0) {\n      camera = null;\n    }\n\n    if (dithering === void 0) {\n      dithering = false;\n    }\n\n    _this = _ShaderMaterial.call(this, {\n      type: \"EffectMaterial\",\n      defines: {\n        DEPTH_PACKING: \"0\"\n      },\n      uniforms: {\n        inputBuffer: new Uniform(null),\n        depthBuffer: new Uniform(null),\n        resolution: new Uniform(new Vector2()),\n        texelSize: new Uniform(new Vector2()),\n        cameraNear: new Uniform(0.3),\n        cameraFar: new Uniform(1000.0),\n        aspect: new Uniform(1.0),\n        time: new Uniform(0.0)\n      },\n      fragmentShader: fragmentTemplate.replace(Section.FRAGMENT_HEAD, shaderParts.get(Section.FRAGMENT_HEAD)).replace(Section.FRAGMENT_MAIN_UV, shaderParts.get(Section.FRAGMENT_MAIN_UV)).replace(Section.FRAGMENT_MAIN_IMAGE, shaderParts.get(Section.FRAGMENT_MAIN_IMAGE)),\n      vertexShader: vertexTemplate.replace(Section.VERTEX_HEAD, shaderParts.get(Section.VERTEX_HEAD)).replace(Section.VERTEX_MAIN_SUPPORT, shaderParts.get(Section.VERTEX_MAIN_SUPPORT)),\n      dithering: dithering,\n      depthWrite: false,\n      depthTest: false\n    }) || this;\n\n    if (defines !== null) {\n      for (var _iterator = defines.entries(), _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n        var _ref;\n\n        if (_isArray) {\n          if (_i >= _iterator.length) break;\n          _ref = _iterator[_i++];\n        } else {\n          _i = _iterator.next();\n          if (_i.done) break;\n          _ref = _i.value;\n        }\n\n        var entry = _ref;\n        _this.defines[entry[0]] = entry[1];\n      }\n    }\n\n    if (uniforms !== null) {\n      for (var _iterator2 = uniforms.entries(), _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[Symbol.iterator]();;) {\n        var _ref2;\n\n        if (_isArray2) {\n          if (_i2 >= _iterator2.length) break;\n          _ref2 = _iterator2[_i2++];\n        } else {\n          _i2 = _iterator2.next();\n          if (_i2.done) break;\n          _ref2 = _i2.value;\n        }\n\n        var _entry = _ref2;\n        _this.uniforms[_entry[0]] = _entry[1];\n      }\n    }\n\n    _this.adoptCameraSettings(camera);\n\n    return _this;\n  }\n  /**\n   * The current depth packing.\n   *\n   * @type {Number}\n   */\n\n\n  var _proto = EffectMaterial.prototype;\n\n  /**\n   * Sets the resolution.\n   *\n   * @param {Number} width - The width.\n   * @param {Number} height - The height.\n   */\n  _proto.setSize = function setSize(width, height) {\n    width = Math.max(width, 1.0);\n    height = Math.max(height, 1.0);\n    this.uniforms.resolution.value.set(width, height);\n    this.uniforms.texelSize.value.set(1.0 / width, 1.0 / height);\n    this.uniforms.aspect.value = width / height;\n  }\n  /**\n   * Adopts the settings of the given camera.\n   *\n   * @param {Camera} [camera=null] - A camera.\n   */\n  ;\n\n  _proto.adoptCameraSettings = function adoptCameraSettings(camera) {\n    if (camera === void 0) {\n      camera = null;\n    }\n\n    if (camera !== null) {\n      this.uniforms.cameraNear.value = camera.near;\n      this.uniforms.cameraFar.value = camera.far;\n\n      if (camera instanceof PerspectiveCamera) {\n        this.defines.PERSPECTIVE_CAMERA = \"1\";\n      } else {\n        delete this.defines.PERSPECTIVE_CAMERA;\n      }\n    }\n  };\n\n  _createClass(EffectMaterial, [{\n    key: \"depthPacking\",\n    get: function get() {\n      return Number.parseInt(this.defines.DEPTH_PACKING);\n    }\n    /**\n     * Sets the depth packing.\n     *\n     * Use `BasicDepthPacking` or `RGBADepthPacking` if your depth texture\n     * contains packed depth.\n     *\n     * You'll need to call {@link EffectPass#recompile} after changing this value.\n     *\n     * @type {Number}\n     */\n    ,\n    set: function set(value) {\n      this.defines.DEPTH_PACKING = value.toFixed(0);\n    }\n  }]);\n\n  return EffectMaterial;\n}(ShaderMaterial);\n/**\n * An enumeration of shader code placeholders.\n *\n * @type {Object}\n * @property {String} FRAGMENT_HEAD - A placeholder for function and variable declarations inside the fragment shader.\n * @property {String} FRAGMENT_MAIN_UV - A placeholder for UV transformations inside the fragment shader.\n * @property {String} FRAGMENT_MAIN_IMAGE - A placeholder for color calculations inside the fragment shader.\n * @property {String} VERTEX_HEAD - A placeholder for function and variable declarations inside the vertex shader.\n * @property {String} VERTEX_MAIN_SUPPORT - A placeholder for supporting calculations inside the vertex shader.\n */\n\nvar Section = {\n  FRAGMENT_HEAD: \"FRAGMENT_HEAD\",\n  FRAGMENT_MAIN_UV: \"FRAGMENT_MAIN_UV\",\n  FRAGMENT_MAIN_IMAGE: \"FRAGMENT_MAIN_IMAGE\",\n  VERTEX_HEAD: \"VERTEX_HEAD\",\n  VERTEX_MAIN_SUPPORT: \"VERTEX_MAIN_SUPPORT\"\n};\n\nvar fragment$1 = \"uniform sampler2D inputBuffer;\\nuniform float opacity;\\n\\nvarying vec2 vUv;\\n\\nvoid main() {\\n\\n\\tvec4 texel = texture2D(inputBuffer, vUv);\\n\\tgl_FragColor = opacity * texel;\\n\\n}\";\n\nvar vertex$1 = \"varying vec2 vUv;\\n\\nvoid main() {\\n\\n\\tvUv = uv;\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\\n\\n}\";\n\n/**\n * A simple copy shader material.\n */\n\nvar CopyMaterial =\n/*#__PURE__*/\nfunction (_ShaderMaterial) {\n  _inheritsLoose(CopyMaterial, _ShaderMaterial);\n\n  /**\n   * Constructs a new copy material.\n   */\n  function CopyMaterial() {\n    return _ShaderMaterial.call(this, {\n      type: \"CopyMaterial\",\n      uniforms: {\n        inputBuffer: new Uniform(null),\n        opacity: new Uniform(1.0)\n      },\n      fragmentShader: fragment$1,\n      vertexShader: vertex$1,\n      depthWrite: false,\n      depthTest: false\n    }) || this;\n  }\n\n  return CopyMaterial;\n}(ShaderMaterial);\n\nvar fragment$2 = \"#include <common>\\n\\nuniform sampler2D inputBuffer;\\nuniform float distinction;\\nuniform vec2 range;\\n\\nvarying vec2 vUv;\\n\\nvoid main() {\\n\\n\\tvec4 texel = texture2D(inputBuffer, vUv);\\n\\tfloat l = linearToRelativeLuminance(texel.rgb);\\n\\n\\t#ifdef RANGE\\n\\n\\t\\tfloat low = step(range.x, l);\\n\\t\\tfloat high = step(l, range.y);\\n\\n\\t\\t// Apply the mask.\\n\\t\\tl *= low * high;\\n\\n\\t#endif\\n\\n\\tl = pow(abs(l), distinction);\\n\\n\\t#ifdef COLOR\\n\\n\\t\\tgl_FragColor = vec4(texel.rgb * l, texel.a);\\n\\n\\t#else\\n\\n\\t\\tgl_FragColor = vec4(l, l, l, texel.a);\\n\\n\\t#endif\\n\\n}\\n\";\n\n/**\n * A luminance shader material.\n *\n * This shader produces a greyscale luminance map that describes the absolute\n * amount of light emitted by a scene. It can also be configured to output\n * colours that are scaled with their respective luminance value. Additionally,\n * a range may be provided to mask out undesired texels.\n *\n * The alpha channel will remain unaffected in all cases.\n *\n * On luminance coefficients:\n *  http://www.poynton.com/notes/colour_and_gamma/ColorFAQ.html#RTFToC9\n *\n * Coefficients for different colour spaces:\n *  https://hsto.org/getpro/habr/post_images/2ab/69d/084/2ab69d084f9a597e032624bcd74d57a7.png\n *\n * Luminance range reference:\n *  https://cycling74.com/2007/05/23/your-first-shader/#.Vty9FfkrL4Z\n */\n\nvar LuminanceMaterial =\n/*#__PURE__*/\nfunction (_ShaderMaterial) {\n  _inheritsLoose(LuminanceMaterial, _ShaderMaterial);\n\n  /**\n   * Constructs a new luminance material.\n   *\n   * @param {Boolean} [colorOutput=false] - Defines whether the shader should output colours scaled with their luminance value.\n   * @param {Vector2} [luminanceRange] - If provided, the shader will mask out texels that aren't in the specified luminance range.\n   */\n  function LuminanceMaterial(colorOutput, luminanceRange) {\n    var _this;\n\n    if (colorOutput === void 0) {\n      colorOutput = false;\n    }\n\n    if (luminanceRange === void 0) {\n      luminanceRange = null;\n    }\n\n    var maskLuminance = luminanceRange !== null;\n    _this = _ShaderMaterial.call(this, {\n      type: \"LuminanceMaterial\",\n      uniforms: {\n        inputBuffer: new Uniform(null),\n        distinction: new Uniform(1.0),\n        range: new Uniform(maskLuminance ? luminanceRange : new Vector2())\n      },\n      fragmentShader: fragment$2,\n      vertexShader: vertex$1\n    }) || this;\n\n    _this.setColorOutputEnabled(colorOutput);\n\n    _this.setLuminanceRangeEnabled(maskLuminance);\n\n    return _this;\n  }\n  /**\n   * Enables or disables color output.\n   *\n   * @param {Boolean} enabled - Whether color output should be enabled.\n   */\n\n\n  var _proto = LuminanceMaterial.prototype;\n\n  _proto.setColorOutputEnabled = function setColorOutputEnabled(enabled) {\n    if (enabled) {\n      this.defines.COLOR = \"1\";\n    } else {\n      delete this.defines.COLOR;\n    }\n\n    this.needsUpdate = true;\n  }\n  /**\n   * Enables or disables the luminance mask.\n   *\n   * @param {Boolean} enabled - Whether the luminance mask should be enabled.\n   */\n  ;\n\n  _proto.setLuminanceRangeEnabled = function setLuminanceRangeEnabled(enabled) {\n    if (enabled) {\n      this.defines.RANGE = \"1\";\n    } else {\n      delete this.defines.RANGE;\n    }\n\n    this.needsUpdate = true;\n  };\n\n  return LuminanceMaterial;\n}(ShaderMaterial);\n\nvar Pass =\n/*#__PURE__*/\nfunction () {\n  function Pass() {\n    // if set to true, the pass is processed by the composer\n    this.enabled = true; // if set to true, the pass indicates to swap read and write buffer after rendering\n\n    this.needsSwap = true; // if set to true, the pass clears its buffer before rendering\n\n    this.clear = false; // if set to true, the result of the pass is rendered to screen. This is set automatically by EffectComposer.\n\n    this.renderToScreen = false;\n  }\n\n  var _proto = Pass.prototype;\n\n  _proto.setSize = function setSize()\n  /* width, height */\n  {};\n\n  _proto.render = function render()\n  /* renderer, writeBuffer, readBuffer, deltaTime, maskActive */\n  {\n    console.error('THREE.Pass: .render() must be implemented in derived pass.');\n  };\n\n  return Pass;\n}(); // Helper for passes that need to fill the viewport with a single quad.\n\n\nvar _camera$1 = new OrthographicCamera(-1, 1, 1, -1, 0, 1); // https://github.com/mrdoob/three.js/pull/21358\n\n\nvar _geometry$1 = new BufferGeometry();\n\n_geometry$1.setAttribute('position', new Float32BufferAttribute([-1, 3, 0, -1, -1, 0, 3, -1, 0], 3));\n\n_geometry$1.setAttribute('uv', new Float32BufferAttribute([0, 2, 0, 0, 2, 0], 2));\n\nvar FullScreenQuad =\n/*#__PURE__*/\nfunction () {\n  function FullScreenQuad(material) {\n    this._mesh = new Mesh(_geometry$1, material);\n  }\n\n  var _proto2 = FullScreenQuad.prototype;\n\n  _proto2.dispose = function dispose() {\n    this._mesh.geometry.dispose();\n  };\n\n  _proto2.render = function render(renderer) {\n    renderer.render(this._mesh, _camera$1);\n  };\n\n  _createClass(FullScreenQuad, [{\n    key: \"material\",\n    get: function get() {\n      return this._mesh.material;\n    },\n    set: function set(value) {\n      this._mesh.material = value;\n    }\n  }]);\n\n  return FullScreenQuad;\n}();\n\n/**\n * An efficient, incremental blur pass.\n *\n * Note: This pass allows the input and output buffer to be the same.\n */\n\nvar BlurPass =\n/*#__PURE__*/\nfunction (_Pass) {\n  _inheritsLoose(BlurPass, _Pass);\n\n  /**\n   * Constructs a new blur pass.\n   *\n   * @param {Object} [options] - The options.\n   * @param {Number} [options.resolutionScale=0.5] - The render texture resolution scale, relative to the screen render size.\n   * @param {Number} [options.kernelSize=KernelSize.LARGE] - The blur kernel size.\n   */\n  function BlurPass(options) {\n    var _this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    _this = _Pass.call(this, \"BlurPass\") || this;\n    /**\n     * A render target.\n     *\n     * @type {WebGLRenderTarget}\n     * @private\n     */\n\n    _this.renderTargetX = new WebGLRenderTarget(1, 1, {\n      minFilter: LinearFilter,\n      magFilter: LinearFilter,\n      stencilBuffer: false,\n      depthBuffer: false\n    });\n    _this.renderTargetX.texture.name = \"Blur.TargetX\";\n    _this.renderTargetX.texture.generateMipmaps = false;\n    /**\n     * A second render target.\n     *\n     * @type {WebGLRenderTarget}\n     * @private\n     */\n\n    _this.renderTargetY = _this.renderTargetX.clone();\n    _this.renderTargetY.texture.name = \"Blur.TargetY\";\n    /**\n     * The original resolution.\n     *\n     * @type {Vector2}\n     * @private\n     */\n\n    _this.resolution = new Vector2();\n    /**\n     * The current resolution scale.\n     *\n     * @type {Number}\n     * @private\n     */\n\n    _this.resolutionScale = options.resolutionScale !== undefined ? options.resolutionScale : 0.5;\n    /**\n     * A convolution shader material.\n     *\n     * @type {ConvolutionMaterial}\n     * @private\n     */\n\n    _this.convolutionMaterial = new ConvolutionMaterial();\n    /**\n     * A convolution shader material that uses dithering.\n     *\n     * @type {ConvolutionMaterial}\n     * @private\n     */\n\n    _this.ditheredConvolutionMaterial = new ConvolutionMaterial();\n    _this.ditheredConvolutionMaterial.dithering = true;\n    /**\n     * Whether the blurred result should also be dithered using noise.\n     *\n     * @type {Boolean}\n     */\n\n    _this.dithering = false;\n    _this.kernelSize = options.kernelSize;\n    return _this;\n  }\n  /**\n   * The absolute width of the internal render targets.\n   *\n   * @type {Number}\n   */\n\n\n  var _proto = BlurPass.prototype;\n\n  /**\n   * Returns the current resolution scale.\n   *\n   * @return {Number} The resolution scale.\n   */\n  _proto.getResolutionScale = function getResolutionScale() {\n    return this.resolutionScale;\n  }\n  /**\n   * Sets the resolution scale.\n   *\n   * @param {Number} scale - The new resolution scale.\n   */\n  ;\n\n  _proto.setResolutionScale = function setResolutionScale(scale) {\n    this.resolutionScale = scale;\n    this.setSize(this.resolution.x, this.resolution.y);\n  }\n  /**\n   * Blurs the input buffer and writes the result to the output buffer. The\n   * input buffer remains intact, unless its also the output buffer.\n   *\n   * @param {WebGLRenderer} renderer - The renderer.\n   * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\n   * @param {WebGLRenderTarget} outputBuffer - A frame buffer that serves as the output render target unless this pass renders to screen.\n   * @param {Number} [delta] - The time between the last frame and the current one in seconds.\n   * @param {Boolean} [stencilTest] - Indicates whether a stencil mask is active.\n   */\n  ;\n\n  _proto.render = function render(renderer, inputBuffer, outputBuffer, delta, stencilTest) {\n    var scene = this.scene;\n    var camera = this.camera;\n    var renderTargetX = this.renderTargetX;\n    var renderTargetY = this.renderTargetY;\n    var material = this.convolutionMaterial;\n    var uniforms = material.uniforms;\n    var kernel = material.getKernel();\n    var lastRT = inputBuffer;\n    var destRT;\n    var i, l;\n    this.setFullscreenMaterial(material); // Apply the multi-pass blur.\n\n    for (i = 0, l = kernel.length - 1; i < l; ++i) {\n      // Alternate between targets.\n      destRT = i % 2 === 0 ? renderTargetX : renderTargetY;\n      uniforms.kernel.value = kernel[i];\n      uniforms.inputBuffer.value = lastRT.texture;\n      renderer.render(scene, camera, destRT);\n      lastRT = destRT;\n    }\n\n    if (this.dithering) {\n      material = this.ditheredConvolutionMaterial;\n      uniforms = material.uniforms;\n      this.setFullscreenMaterial(material);\n    }\n\n    uniforms.kernel.value = kernel[i];\n    uniforms.inputBuffer.value = lastRT.texture;\n    renderer.render(scene, camera, this.renderToScreen ? null : outputBuffer);\n  }\n  /**\n   * Updates the size of this pass.\n   *\n   * @param {Number} width - The width.\n   * @param {Number} height - The height.\n   */\n  ;\n\n  _proto.setSize = function setSize(width, height) {\n    this.resolution.set(width, height);\n    width = Math.max(1, Math.floor(width * this.resolutionScale));\n    height = Math.max(1, Math.floor(height * this.resolutionScale));\n    this.renderTargetX.setSize(width, height);\n    this.renderTargetY.setSize(width, height);\n    this.convolutionMaterial.setTexelSize(1.0 / width, 1.0 / height);\n    this.ditheredConvolutionMaterial.setTexelSize(1.0 / width, 1.0 / height);\n  }\n  /**\n   * Performs initialization tasks.\n   *\n   * @param {WebGLRenderer} renderer - The renderer.\n   * @param {Boolean} alpha - Whether the renderer uses the alpha channel or not.\n   */\n  ;\n\n  _proto.initialize = function initialize(renderer, alpha) {\n    if (!alpha) {\n      this.renderTargetX.texture.format = RGBFormat$1;\n      this.renderTargetY.texture.format = RGBFormat$1;\n    }\n  };\n\n  _createClass(BlurPass, [{\n    key: \"width\",\n    get: function get() {\n      return this.renderTargetX.width;\n    }\n    /**\n     * The absolute height of the internal render targets.\n     *\n     * @type {Number}\n     */\n\n  }, {\n    key: \"height\",\n    get: function get() {\n      return this.renderTargetX.height;\n    }\n    /**\n     * The kernel size.\n     *\n     * @type {KernelSize}\n     */\n\n  }, {\n    key: \"kernelSize\",\n    get: function get() {\n      return this.convolutionMaterial.kernelSize;\n    }\n    /**\n     * @type {KernelSize}\n     */\n    ,\n    set: function set(value) {\n      if (value === void 0) {\n        value = KernelSize.LARGE;\n      }\n\n      this.convolutionMaterial.kernelSize = value;\n      this.ditheredConvolutionMaterial.kernelSize = value;\n    }\n  }]);\n\n  return BlurPass;\n}(Pass);\n\n/**\n * A pass that disables the stencil test.\n */\n\nvar ClearMaskPass =\n/*#__PURE__*/\nfunction (_Pass) {\n  _inheritsLoose(ClearMaskPass, _Pass);\n\n  /**\n   * Constructs a new clear mask pass.\n   */\n  function ClearMaskPass() {\n    var _this;\n\n    _this = _Pass.call(this, \"ClearMaskPass\", null, null) || this;\n    _this.needsSwap = false;\n    return _this;\n  }\n  /**\n   * Disables the global stencil test.\n   *\n   * @param {WebGLRenderer} renderer - The renderer.\n   * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\n   * @param {WebGLRenderTarget} outputBuffer - A frame buffer that serves as the output render target unless this pass renders to screen.\n   * @param {Number} [delta] - The time between the last frame and the current one in seconds.\n   * @param {Boolean} [stencilTest] - Indicates whether a stencil mask is active.\n   */\n\n\n  var _proto = ClearMaskPass.prototype;\n\n  _proto.render = function render(renderer, inputBuffer, outputBuffer, delta, stencilTest) {\n    renderer.state.buffers.stencil.setTest(false);\n  };\n\n  return ClearMaskPass;\n}(Pass);\n\n/**\n * Used for saving the original clear color of the renderer.\n *\n * @type {Color}\n * @private\n */\n\nvar color = new Color();\n/**\n * A pass that clears the input buffer or the screen.\n *\n * You can prevent specific bits from being cleared by setting either the\n * autoClearColor, autoClearStencil or autoClearDepth properties of the renderer\n * to false.\n */\n\nvar ClearPass =\n/*#__PURE__*/\nfunction (_Pass) {\n  _inheritsLoose(ClearPass, _Pass);\n\n  /**\n   * Constructs a new clear pass.\n   *\n   * @param {Object} [options] - Additional options.\n   * @param {Color} [options.clearColor=null] - An override clear color.\n   * @param {Number} [options.clearAlpha=0.0] - An override clear alpha.\n   */\n  function ClearPass(options) {\n    var _this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    _this = _Pass.call(this, \"ClearPass\", null, null) || this;\n    _this.needsSwap = false;\n    /**\n     * The clear color.\n     *\n     * @type {Color}\n     */\n\n    _this.clearColor = options.clearColor !== undefined ? options.clearColor : null;\n    /**\n     * The clear alpha.\n     *\n     * @type {Number}\n     */\n\n    _this.clearAlpha = options.clearAlpha !== undefined ? options.clearAlpha : 0.0;\n    return _this;\n  }\n  /**\n   * Clears the input buffer or the screen.\n   *\n   * @param {WebGLRenderer} renderer - The renderer.\n   * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\n   * @param {WebGLRenderTarget} outputBuffer - A frame buffer that serves as the output render target unless this pass renders to screen.\n   * @param {Number} [delta] - The time between the last frame and the current one in seconds.\n   * @param {Boolean} [stencilTest] - Indicates whether a stencil mask is active.\n   */\n\n\n  var _proto = ClearPass.prototype;\n\n  _proto.render = function render(renderer, inputBuffer, outputBuffer, delta, stencilTest) {\n    var clearColor = this.clearColor;\n    var clearAlpha;\n\n    if (clearColor !== null) {\n      color.copy(renderer.getClearColor());\n      clearAlpha = renderer.getClearAlpha();\n      renderer.setClearColor(clearColor, this.clearAlpha);\n    }\n\n    renderer.setRenderTarget(this.renderToScreen ? null : inputBuffer);\n    renderer.clear();\n\n    if (clearColor !== null) {\n      renderer.setClearColor(color, clearAlpha);\n    }\n  };\n\n  return ClearPass;\n}(Pass);\n\n/**\n * A pass that renders a given scene directly on screen or into the read buffer\n * for further processing.\n */\n\nvar RenderPass =\n/*#__PURE__*/\nfunction (_Pass) {\n  _inheritsLoose(RenderPass, _Pass);\n\n  /**\n   * Constructs a new render pass.\n   *\n   * @param {Scene} scene - The scene to render.\n   * @param {Camera} camera - The camera to use to render the scene.\n   * @param {Object} [options] - Additional options.\n   * @param {Material} [options.overrideMaterial=null] - An override material for the scene.\n   * @param {Color} [options.clearColor=null] - An override clear color.\n   * @param {Number} [options.clearAlpha=1.0] - An override clear alpha.\n   * @param {Boolean} [options.clearDepth=false] - Whether depth should be cleared explicitly.\n   * @param {Boolean} [options.clear=true] - Whether all buffers should be cleared.\n   */\n  function RenderPass(scene, camera, options) {\n    var _this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    _this = _Pass.call(this, \"RenderPass\", scene, camera) || this;\n    _this.needsSwap = false;\n    /**\n     * A clear pass.\n     *\n     * @type {ClearPass}\n     */\n\n    _this.clearPass = new ClearPass(options);\n    /**\n     * An override material.\n     *\n     * @type {Material}\n     */\n\n    _this.overrideMaterial = options.overrideMaterial !== undefined ? options.overrideMaterial : null;\n    /**\n     * Indicates whether the depth buffer should be cleared explicitly.\n     *\n     * @type {Boolean}\n     */\n\n    _this.clearDepth = options.clearDepth !== undefined ? options.clearDepth : false;\n    /**\n     * Indicates whether the color, depth and stencil buffers should be cleared.\n     *\n     * Even with clear set to true you can prevent specific buffers from being\n     * cleared by setting either the autoClearColor, autoClearStencil or\n     * autoClearDepth properties of the renderer to false.\n     *\n     * @type {Boolean}\n     */\n\n    _this.clear = options.clear !== undefined ? options.clear : true;\n    return _this;\n  }\n  /**\n   * Renders the scene.\n   *\n   * @param {WebGLRenderer} renderer - The renderer.\n   * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\n   * @param {WebGLRenderTarget} outputBuffer - A frame buffer that serves as the output render target unless this pass renders to screen.\n   * @param {Number} [delta] - The time between the last frame and the current one in seconds.\n   * @param {Boolean} [stencilTest] - Indicates whether a stencil mask is active.\n   */\n\n\n  var _proto = RenderPass.prototype;\n\n  _proto.render = function render(renderer, inputBuffer, outputBuffer, delta, stencilTest) {\n    var scene = this.scene;\n    var renderTarget = this.renderToScreen ? null : inputBuffer;\n    var overrideMaterial = scene.overrideMaterial;\n\n    if (this.clear) {\n      this.clearPass.renderToScreen = this.renderToScreen;\n      this.clearPass.render(renderer, inputBuffer);\n    } else if (this.clearDepth) {\n      renderer.setRenderTarget(renderTarget);\n      renderer.clearDepth();\n    }\n\n    scene.overrideMaterial = this.overrideMaterial;\n    renderer.render(scene, this.camera, renderTarget);\n    scene.overrideMaterial = overrideMaterial;\n  };\n\n  return RenderPass;\n}(Pass);\n\n/**\n * A pass that renders the depth of a given scene.\n */\n\nvar DepthPass =\n/*#__PURE__*/\nfunction (_Pass) {\n  _inheritsLoose(DepthPass, _Pass);\n\n  /**\n   * Constructs a new depth pass.\n   *\n   * @param {Scene} scene - The scene to render.\n   * @param {Camera} camera - The camera to use to render the scene.\n   * @param {Object} [options] - The options.\n   * @param {Number} [options.resolutionScale=0.5] - The render texture resolution scale, relative to the screen render size.\n   * @param {WebGLRenderTarget} [options.renderTarget] - A custom render target.\n   */\n  function DepthPass(scene, camera, options) {\n    var _this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    _this = _Pass.call(this, \"DepthPass\") || this;\n    _this.needsSwap = false;\n    /**\n     * A render pass.\n     *\n     * @type {RenderPass}\n     * @private\n     */\n\n    _this.renderPass = new RenderPass(scene, camera, {\n      overrideMaterial: new MeshDepthMaterial({\n        depthPacking: RGBADepthPacking,\n        morphTargets: true,\n        skinning: true\n      }),\n      clearColor: new Color(0xffffff),\n      clearAlpha: 1.0\n    });\n    /**\n     * A render target that contains the scene depth.\n     *\n     * @type {WebGLRenderTarget}\n     */\n\n    _this.renderTarget = options.renderTarget;\n\n    if (_this.renderTarget === undefined) {\n      _this.renderTarget = new WebGLRenderTarget(1, 1, {\n        minFilter: LinearFilter,\n        magFilter: LinearFilter\n      });\n      _this.renderTarget.texture.name = \"DepthPass.Target\";\n      _this.renderTarget.texture.generateMipmaps = false;\n    }\n    /**\n     * The original resolution.\n     *\n     * @type {Vector2}\n     * @private\n     */\n\n\n    _this.resolution = new Vector2();\n    /**\n     * The current resolution scale.\n     *\n     * @type {Number}\n     * @private\n     */\n\n    _this.resolutionScale = options.resolutionScale !== undefined ? options.resolutionScale : 0.5;\n    return _this;\n  }\n  /**\n   * Returns the current resolution scale.\n   *\n   * @return {Number} The resolution scale.\n   */\n\n\n  var _proto = DepthPass.prototype;\n\n  _proto.getResolutionScale = function getResolutionScale() {\n    return this.resolutionScale;\n  }\n  /**\n   * Sets the resolution scale.\n   *\n   * @param {Number} scale - The new resolution scale.\n   */\n  ;\n\n  _proto.setResolutionScale = function setResolutionScale(scale) {\n    this.resolutionScale = scale;\n    this.setSize(this.resolution.x, this.resolution.y);\n  }\n  /**\n   * Renders the scene depth.\n   *\n   * @param {WebGLRenderer} renderer - The renderer.\n   * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\n   * @param {WebGLRenderTarget} outputBuffer - A frame buffer that serves as the output render target unless this pass renders to screen.\n   * @param {Number} [delta] - The time between the last frame and the current one in seconds.\n   * @param {Boolean} [stencilTest] - Indicates whether a stencil mask is active.\n   */\n  ;\n\n  _proto.render = function render(renderer, inputBuffer, outputBuffer, delta, stencilTest) {\n    var renderTarget = this.renderToScreen ? null : this.renderTarget;\n    this.renderPass.render(renderer, renderTarget, renderTarget);\n  }\n  /**\n   * Updates the size of this pass.\n   *\n   * @param {Number} width - The width.\n   * @param {Number} height - The height.\n   */\n  ;\n\n  _proto.setSize = function setSize(width, height) {\n    this.resolution.set(width, height);\n    this.renderTarget.setSize(Math.max(1, Math.floor(width * this.resolutionScale)), Math.max(1, Math.floor(height * this.resolutionScale)));\n  };\n\n  return DepthPass;\n}(Pass);\n\n/**\n * A blend function enumeration.\n *\n * @type {Object}\n * @property {Number} SKIP - No blending. The effect will not be included in the final shader.\n * @property {Number} ADD - Additive blending. Fast, but may produce washed out results.\n * @property {Number} ALPHA - Alpha blending. Blends based on the alpha value of the new color. Opacity will be ignored.\n * @property {Number} AVERAGE - Average blending.\n * @property {Number} COLOR_BURN - Color dodge.\n * @property {Number} COLOR_DODGE - Color burn.\n * @property {Number} DARKEN - Prioritize darker colors.\n * @property {Number} DIFFERENCE - Color difference.\n * @property {Number} EXCLUSION - Color exclusion.\n * @property {Number} LIGHTEN - Prioritize lighter colors.\n * @property {Number} MULTIPLY - Color multiplication.\n * @property {Number} DIVIDE - Color division.\n * @property {Number} NEGATION - Color negation.\n * @property {Number} NORMAL - Normal blending. The new color overwrites the old one.\n * @property {Number} OVERLAY - Color overlay.\n * @property {Number} REFLECT - Color reflection.\n * @property {Number} SCREEN - Screen blending. The two colors are effectively projected on a white screen simultaneously.\n * @property {Number} SOFT_LIGHT - Soft light blending.\n * @property {Number} SUBTRACT - Color subtraction.\n */\nvar BlendFunction = {\n  SKIP: 0,\n  ADD: 1,\n  ALPHA: 2,\n  AVERAGE: 3,\n  COLOR_BURN: 4,\n  COLOR_DODGE: 5,\n  DARKEN: 6,\n  DIFFERENCE: 7,\n  EXCLUSION: 8,\n  LIGHTEN: 9,\n  MULTIPLY: 10,\n  DIVIDE: 11,\n  NEGATION: 12,\n  NORMAL: 13,\n  OVERLAY: 14,\n  REFLECT: 15,\n  SCREEN: 16,\n  SOFT_LIGHT: 17,\n  SUBTRACT: 18\n};\n\n/**\n * An enumeration of effect attributes.\n *\n * Attributes can be concatenated using the bitwise OR operator.\n *\n * @type {Object}\n * @property {Number} CONVOLUTION - Describes effects that fetch additional samples from the input buffer. There cannot be more than one effect with this attribute per {@link EffectPass}.\n * @property {Number} DEPTH - Describes effects that require a depth texture.\n * @property {Number} NONE - No attributes. Most effects don't need to specify any attributes.\n * @example\n * const attributes = EffectAttribute.CONVOLUTION | EffectAttribute.DEPTH;\n */\n\nvar EffectAttribute = {\n  CONVOLUTION: 2,\n  DEPTH: 1,\n  NONE: 0\n};\n\n/**\n * Finds and collects substrings that match the given regular expression.\n *\n * @private\n * @param {RegExp} regExp - A regular expression.\n * @param {String} string - A string.\n * @return {String[]} The matching substrings.\n */\n\nfunction findSubstrings(regExp, string) {\n  var substrings = [];\n  var result;\n\n  while ((result = regExp.exec(string)) !== null) {\n    substrings.push(result[1]);\n  }\n\n  return substrings;\n}\n/**\n * Prefixes substrings within the given strings.\n *\n * @private\n * @param {String} prefix - A prefix.\n * @param {String[]} substrings - The substrings.\n * @param {Map<String, String>} strings - A collection of named strings.\n */\n\n\nfunction prefixSubstrings(prefix, substrings, strings) {\n  var prefixed, regExp;\n\n  for (var _iterator = substrings, _isArray = Array.isArray(_iterator), _i = 0, _iterator = _isArray ? _iterator : _iterator[Symbol.iterator]();;) {\n    var _ref;\n\n    if (_isArray) {\n      if (_i >= _iterator.length) break;\n      _ref = _iterator[_i++];\n    } else {\n      _i = _iterator.next();\n      if (_i.done) break;\n      _ref = _i.value;\n    }\n\n    var substring = _ref;\n    prefixed = \"$1\" + prefix + substring.charAt(0).toUpperCase() + substring.slice(1);\n    regExp = new RegExp(\"([^\\\\.])(\\\\b\" + substring + \"\\\\b)\", \"g\");\n\n    for (var _iterator2 = strings.entries(), _isArray2 = Array.isArray(_iterator2), _i2 = 0, _iterator2 = _isArray2 ? _iterator2 : _iterator2[Symbol.iterator]();;) {\n      var _ref2;\n\n      if (_isArray2) {\n        if (_i2 >= _iterator2.length) break;\n        _ref2 = _iterator2[_i2++];\n      } else {\n        _i2 = _iterator2.next();\n        if (_i2.done) break;\n        _ref2 = _i2.value;\n      }\n\n      var entry = _ref2;\n\n      if (entry[1] !== null) {\n        strings.set(entry[0], entry[1].replace(regExp, prefixed));\n      }\n    }\n  }\n}\n/**\n * Integrates the given effect.\n *\n * @private\n * @param {String} prefix - A prefix.\n * @param {Effect} effect - An effect.\n * @param {Map<String, String>} shaderParts - The shader parts.\n * @param {Map<BlendFunction, BlendMode>} blendModes - The blend modes.\n * @param {Map<String, String>} defines - The macro definitions.\n * @param {Map<String, Uniform>} uniforms - The uniforms.\n * @param {EffectAttribute} attributes - The global, collective attributes.\n * @return {Object} The results.\n * @property {String[]} varyings - The varyings used by the given effect.\n * @property {Boolean} transformedUv - Indicates whether the effect transforms UV coordinates in the fragment shader.\n * @property {Boolean} readDepth - Indicates whether the effect actually uses depth in the fragment shader.\n */\n\n\nfunction integrateEffect(prefix, effect, shaderParts, blendModes, defines, uniforms, attributes) {\n  var functionRegExp = /(?:\\w+\\s+(\\w+)\\([\\w\\s,]*\\)\\s*{[^}]+})/g;\n  var varyingRegExp = /(?:varying\\s+\\w+\\s+(\\w*))/g;\n  var blendMode = effect.blendMode;\n  var shaders = new Map([[\"fragment\", effect.fragmentShader], [\"vertex\", effect.vertexShader]]);\n  var mainImageExists = shaders.get(\"fragment\") !== undefined && shaders.get(\"fragment\").indexOf(\"mainImage\") >= 0;\n  var mainUvExists = shaders.get(\"fragment\") !== undefined && shaders.get(\"fragment\").indexOf(\"mainUv\") >= 0;\n  var varyings = [],\n      names = [];\n  var transformedUv = false;\n  var readDepth = false;\n\n  if (shaders.get(\"fragment\") === undefined) {\n    console.error(\"Missing fragment shader\", effect);\n  } else if (mainUvExists && (attributes & EffectAttribute.CONVOLUTION) !== 0) {\n    console.error(\"Effects that transform UV coordinates are incompatible with convolution effects\", effect);\n  } else if (!mainImageExists && !mainUvExists) {\n    console.error(\"The fragment shader contains neither a mainImage nor a mainUv function\", effect);\n  } else {\n    if (mainUvExists) {\n      shaderParts.set(Section.FRAGMENT_MAIN_UV, shaderParts.get(Section.FRAGMENT_MAIN_UV) + \"\\t\" + prefix + \"MainUv(UV);\\n\");\n      transformedUv = true;\n    }\n\n    if (shaders.get(\"vertex\") !== null && shaders.get(\"vertex\").indexOf(\"mainSupport\") >= 0) {\n      shaderParts.set(Section.VERTEX_MAIN_SUPPORT, shaderParts.get(Section.VERTEX_MAIN_SUPPORT) + \"\\t\" + prefix + \"MainSupport();\\n\");\n      varyings = varyings.concat(findSubstrings(varyingRegExp, shaders.get(\"vertex\")));\n      names = names.concat(varyings).concat(findSubstrings(functionRegExp, shaders.get(\"vertex\")));\n    }\n\n    names = names.concat(findSubstrings(functionRegExp, shaders.get(\"fragment\"))).concat(Array.from(effect.uniforms.keys())).concat(Array.from(effect.defines.keys())); // Store prefixed uniforms and macros.\n\n    effect.uniforms.forEach(function (value, key) {\n      return uniforms.set(prefix + key.charAt(0).toUpperCase() + key.slice(1), value);\n    });\n    effect.defines.forEach(function (value, key) {\n      return defines.set(prefix + key.charAt(0).toUpperCase() + key.slice(1), value);\n    }); // Prefix varyings, functions, uniforms and macros.\n\n    prefixSubstrings(prefix, names, defines);\n    prefixSubstrings(prefix, names, shaders); // Collect unique blend modes.\n\n    blendModes.set(blendMode.blendFunction, blendMode);\n\n    if (mainImageExists) {\n      var string = prefix + \"MainImage(color0, UV, \"; // The effect may sample depth in a different shader.\n\n      if ((attributes & EffectAttribute.DEPTH) !== 0 && shaders.get(\"fragment\").indexOf(\"depth\") >= 0) {\n        string += \"depth, \";\n        readDepth = true;\n      }\n\n      string += \"color1);\\n\\t\"; // Include the blend opacity uniform of this effect.\n\n      var blendOpacity = prefix + \"BlendOpacity\";\n      uniforms.set(blendOpacity, blendMode.opacity); // Blend the result of this effect with the input color.\n\n      string += \"color0 = blend\" + blendMode.blendFunction + \"(color0, color1, \" + blendOpacity + \");\\n\\n\\t\";\n      shaderParts.set(Section.FRAGMENT_MAIN_IMAGE, shaderParts.get(Section.FRAGMENT_MAIN_IMAGE) + string);\n      shaderParts.set(Section.FRAGMENT_HEAD, shaderParts.get(Section.FRAGMENT_HEAD) + \"uniform float \" + blendOpacity + \";\\n\\n\");\n    } // Include the modified code in the final shader.\n\n\n    shaderParts.set(Section.FRAGMENT_HEAD, shaderParts.get(Section.FRAGMENT_HEAD) + shaders.get(\"fragment\") + \"\\n\");\n\n    if (shaders.get(\"vertex\") !== null) {\n      shaderParts.set(Section.VERTEX_HEAD, shaderParts.get(Section.VERTEX_HEAD) + shaders.get(\"vertex\") + \"\\n\");\n    }\n  }\n\n  return {\n    varyings: varyings,\n    transformedUv: transformedUv,\n    readDepth: readDepth\n  };\n}\n/**\n * An effect pass.\n *\n * Use this pass to combine {@link Effect} instances.\n */\n\n\nvar EffectPass =\n/*#__PURE__*/\nfunction (_Pass) {\n  _inheritsLoose(EffectPass, _Pass);\n\n  /**\n   * Constructs a new effect pass.\n   *\n   * The provided effects will be organized and merged for optimal performance.\n   *\n   * @param {Camera} camera - The main camera. The camera's type and settings will be available to all effects.\n   * @param {...Effect} effects - The effects that will be rendered by this pass.\n   */\n  function EffectPass(camera) {\n    var _this;\n\n    _this = _Pass.call(this, \"EffectPass\") || this;\n    /**\n     * The main camera.\n     *\n     * @type {Camera}\n     * @private\n     */\n\n    _this.mainCamera = camera;\n    /**\n     * The effects, sorted by attribute priority, DESC.\n     *\n     * @type {Effect[]}\n     * @private\n     */\n\n    for (var _len = arguments.length, effects = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      effects[_key - 1] = arguments[_key];\n    }\n\n    _this.effects = effects.sort(function (a, b) {\n      return b.attributes - a.attributes;\n    });\n    /**\n     * Indicates whether this pass should skip rendering.\n     *\n     * Effects will still be updated, even if this flag is true.\n     *\n     * @type {Boolean}\n     * @private\n     */\n\n    _this.skipRendering = false;\n    /**\n     * Indicates whether dithering is enabled.\n     *\n     * @type {Boolean}\n     * @private\n     */\n\n    _this.quantize = false;\n    /**\n     * The amount of shader uniforms that this pass uses.\n     *\n     * @type {Number}\n     * @private\n     */\n\n    _this.uniforms = 0;\n    /**\n     * The amount of shader varyings that this pass uses.\n     *\n     * @type {Number}\n     * @private\n     */\n\n    _this.varyings = 0;\n    /**\n     * A time offset.\n     *\n     * Elapsed time will start at this value.\n     *\n     * @type {Number}\n     */\n\n    _this.minTime = 1.0;\n    /**\n     * The maximum time.\n     *\n     * If the elapsed time exceeds this value, it will be reset.\n     *\n     * @type {Number}\n     */\n\n    _this.maxTime = 1e3;\n\n    _this.setFullscreenMaterial(_this.createMaterial());\n\n    return _this;\n  }\n  /**\n   * Indicates whether dithering is enabled.\n   *\n   * Color quantization reduces banding artifacts but degrades performance.\n   *\n   * @type {Boolean}\n   */\n\n\n  var _proto = EffectPass.prototype;\n\n  /**\n   * Creates a compound shader material.\n   *\n   * @private\n   * @return {Material} The new material.\n   */\n  _proto.createMaterial = function createMaterial() {\n    var blendRegExp = /\\bblend\\b/g;\n    var shaderParts = new Map([[Section.FRAGMENT_HEAD, \"\"], [Section.FRAGMENT_MAIN_UV, \"\"], [Section.FRAGMENT_MAIN_IMAGE, \"\"], [Section.VERTEX_HEAD, \"\"], [Section.VERTEX_MAIN_SUPPORT, \"\"]]);\n    var blendModes = new Map();\n    var defines = new Map();\n    var uniforms = new Map();\n    var extensions = new Set();\n    var id = 0,\n        varyings = 0,\n        attributes = 0;\n    var transformedUv = false;\n    var readDepth = false;\n    var result;\n\n    for (var _iterator3 = this.effects, _isArray3 = Array.isArray(_iterator3), _i3 = 0, _iterator3 = _isArray3 ? _iterator3 : _iterator3[Symbol.iterator]();;) {\n      var _ref3;\n\n      if (_isArray3) {\n        if (_i3 >= _iterator3.length) break;\n        _ref3 = _iterator3[_i3++];\n      } else {\n        _i3 = _iterator3.next();\n        if (_i3.done) break;\n        _ref3 = _i3.value;\n      }\n\n      var effect = _ref3;\n\n      if (effect.blendMode.blendFunction === BlendFunction.SKIP) {\n        continue;\n      } else if ((attributes & EffectAttribute.CONVOLUTION) !== 0 && (effect.attributes & EffectAttribute.CONVOLUTION) !== 0) {\n        console.error(\"Convolution effects cannot be merged\", effect);\n      } else {\n        attributes |= effect.attributes;\n        result = integrateEffect(\"e\" + id++, effect, shaderParts, blendModes, defines, uniforms, attributes);\n        varyings += result.varyings.length;\n        transformedUv = transformedUv || result.transformedUv;\n        readDepth = readDepth || result.readDepth;\n\n        if (effect.extensions !== null) {\n          // Collect the WebGL extensions that are required by this effect.\n          for (var _iterator6 = effect.extensions, _isArray6 = Array.isArray(_iterator6), _i6 = 0, _iterator6 = _isArray6 ? _iterator6 : _iterator6[Symbol.iterator]();;) {\n            var _ref6;\n\n            if (_isArray6) {\n              if (_i6 >= _iterator6.length) break;\n              _ref6 = _iterator6[_i6++];\n            } else {\n              _i6 = _iterator6.next();\n              if (_i6.done) break;\n              _ref6 = _i6.value;\n            }\n\n            var _extension = _ref6;\n            extensions.add(_extension);\n          }\n        }\n      }\n    } // Integrate the relevant blend functions.\n\n\n    for (var _iterator4 = blendModes.values(), _isArray4 = Array.isArray(_iterator4), _i4 = 0, _iterator4 = _isArray4 ? _iterator4 : _iterator4[Symbol.iterator]();;) {\n      var _ref4;\n\n      if (_isArray4) {\n        if (_i4 >= _iterator4.length) break;\n        _ref4 = _iterator4[_i4++];\n      } else {\n        _i4 = _iterator4.next();\n        if (_i4.done) break;\n        _ref4 = _i4.value;\n      }\n\n      var blendMode = _ref4;\n      shaderParts.set(Section.FRAGMENT_HEAD, shaderParts.get(Section.FRAGMENT_HEAD) + blendMode.getShaderCode().replace(blendRegExp, \"blend\" + blendMode.blendFunction) + \"\\n\");\n    } // Check if any effect relies on depth.\n\n\n    if ((attributes & EffectAttribute.DEPTH) !== 0) {\n      // Only read depth if any effect actually uses this information.\n      if (readDepth) {\n        shaderParts.set(Section.FRAGMENT_MAIN_IMAGE, \"float depth = readDepth(UV);\\n\\n\\t\" + shaderParts.get(Section.FRAGMENT_MAIN_IMAGE));\n      }\n\n      this.needsDepthTexture = true;\n    } // Check if any effect transforms UVs in the fragment shader.\n\n\n    if (transformedUv) {\n      shaderParts.set(Section.FRAGMENT_MAIN_UV, \"vec2 transformedUv = vUv;\\n\" + shaderParts.get(Section.FRAGMENT_MAIN_UV));\n      defines.set(\"UV\", \"transformedUv\");\n    } else {\n      defines.set(\"UV\", \"vUv\");\n    }\n\n    shaderParts.forEach(function (value, key, map) {\n      return map.set(key, value.trim());\n    });\n    this.uniforms = uniforms.size;\n    this.varyings = varyings;\n    this.skipRendering = id === 0;\n    this.needsSwap = !this.skipRendering;\n    var material = new EffectMaterial(shaderParts, defines, uniforms, this.mainCamera, this.dithering);\n\n    if (extensions.size > 0) {\n      // Enable required WebGL extensions.\n      for (var _iterator5 = extensions, _isArray5 = Array.isArray(_iterator5), _i5 = 0, _iterator5 = _isArray5 ? _iterator5 : _iterator5[Symbol.iterator]();;) {\n        var _ref5;\n\n        if (_isArray5) {\n          if (_i5 >= _iterator5.length) break;\n          _ref5 = _iterator5[_i5++];\n        } else {\n          _i5 = _iterator5.next();\n          if (_i5.done) break;\n          _ref5 = _i5.value;\n        }\n\n        var extension = _ref5;\n        material.extensions[extension] = true;\n      }\n    }\n\n    return material;\n  }\n  /**\n   * Destroys the current fullscreen shader material and builds a new one.\n   *\n   * Warning: This method performs a relatively expensive shader recompilation.\n   */\n  ;\n\n  _proto.recompile = function recompile() {\n    var material = this.getFullscreenMaterial();\n    var width = 0,\n        height = 0;\n    var depthTexture = null;\n    var depthPacking = 0;\n\n    if (material !== null) {\n      var resolution = material.uniforms.resolution.value;\n      width = resolution.x;\n      height = resolution.y;\n      depthTexture = material.uniforms.depthBuffer.value;\n      depthPacking = material.depthPacking;\n      material.dispose();\n      this.uniforms = 0;\n      this.varyings = 0;\n    }\n\n    material = this.createMaterial();\n    material.setSize(width, height);\n    this.setFullscreenMaterial(material);\n    this.setDepthTexture(depthTexture, depthPacking);\n  }\n  /**\n   * Returns the current depth texture.\n   *\n   * @return {Texture} The current depth texture, or null if there is none.\n   */\n  ;\n\n  _proto.getDepthTexture = function getDepthTexture() {\n    var material = this.getFullscreenMaterial();\n    return material !== null ? material.uniforms.depthBuffer.value : null;\n  }\n  /**\n   * Sets the depth texture.\n   *\n   * @param {Texture} depthTexture - A depth texture.\n   * @param {Number} [depthPacking=0] - The depth packing.\n   */\n  ;\n\n  _proto.setDepthTexture = function setDepthTexture(depthTexture, depthPacking) {\n    if (depthPacking === void 0) {\n      depthPacking = 0;\n    }\n\n    var material = this.getFullscreenMaterial();\n    material.uniforms.depthBuffer.value = depthTexture;\n    material.depthPacking = depthPacking;\n    material.needsUpdate = true;\n\n    for (var _iterator7 = this.effects, _isArray7 = Array.isArray(_iterator7), _i7 = 0, _iterator7 = _isArray7 ? _iterator7 : _iterator7[Symbol.iterator]();;) {\n      var _ref7;\n\n      if (_isArray7) {\n        if (_i7 >= _iterator7.length) break;\n        _ref7 = _iterator7[_i7++];\n      } else {\n        _i7 = _iterator7.next();\n        if (_i7.done) break;\n        _ref7 = _i7.value;\n      }\n\n      var effect = _ref7;\n      effect.setDepthTexture(depthTexture, depthPacking);\n    }\n\n    this.needsDepthTexture = depthTexture === null;\n  }\n  /**\n   * Renders the effect.\n   *\n   * @param {WebGLRenderer} renderer - The renderer.\n   * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\n   * @param {WebGLRenderTarget} outputBuffer - A frame buffer that serves as the output render target unless this pass renders to screen.\n   * @param {Number} [delta] - The time between the last frame and the current one in seconds.\n   * @param {Boolean} [stencilTest] - Indicates whether a stencil mask is active.\n   */\n  ;\n\n  _proto.render = function render(renderer, inputBuffer, outputBuffer, delta, stencilTest) {\n    var material = this.getFullscreenMaterial();\n    var time = material.uniforms.time.value + delta;\n\n    for (var _iterator8 = this.effects, _isArray8 = Array.isArray(_iterator8), _i8 = 0, _iterator8 = _isArray8 ? _iterator8 : _iterator8[Symbol.iterator]();;) {\n      var _ref8;\n\n      if (_isArray8) {\n        if (_i8 >= _iterator8.length) break;\n        _ref8 = _iterator8[_i8++];\n      } else {\n        _i8 = _iterator8.next();\n        if (_i8.done) break;\n        _ref8 = _i8.value;\n      }\n\n      var effect = _ref8;\n      effect.update(renderer, inputBuffer, delta);\n    }\n\n    if (!this.skipRendering || this.renderToScreen) {\n      material.uniforms.inputBuffer.value = inputBuffer.texture;\n      material.uniforms.time.value = time <= this.maxTime ? time : this.minTime;\n      renderer.render(this.scene, this.camera, this.renderToScreen ? null : outputBuffer);\n    }\n  }\n  /**\n   * Updates the size of this pass.\n   *\n   * @param {Number} width - The width.\n   * @param {Number} height - The height.\n   */\n  ;\n\n  _proto.setSize = function setSize(width, height) {\n    this.getFullscreenMaterial().setSize(width, height);\n\n    for (var _iterator9 = this.effects, _isArray9 = Array.isArray(_iterator9), _i9 = 0, _iterator9 = _isArray9 ? _iterator9 : _iterator9[Symbol.iterator]();;) {\n      var _ref9;\n\n      if (_isArray9) {\n        if (_i9 >= _iterator9.length) break;\n        _ref9 = _iterator9[_i9++];\n      } else {\n        _i9 = _iterator9.next();\n        if (_i9.done) break;\n        _ref9 = _i9.value;\n      }\n\n      var effect = _ref9;\n      effect.setSize(width, height);\n    }\n  }\n  /**\n   * Performs initialization tasks.\n   *\n   * @param {WebGLRenderer} renderer - The renderer.\n   * @param {Boolean} alpha - Whether the renderer uses the alpha channel or not.\n   */\n  ;\n\n  _proto.initialize = function initialize(renderer, alpha) {\n    var capabilities = renderer.capabilities;\n    var max = Math.min(capabilities.maxFragmentUniforms, capabilities.maxVertexUniforms);\n\n    if (this.uniforms > max) {\n      console.warn(\"The current rendering context doesn't support more than \" + max + \" uniforms, but \" + this.uniforms + \" were defined\");\n    }\n\n    max = capabilities.maxVaryings;\n\n    if (this.varyings > max) {\n      console.warn(\"The current rendering context doesn't support more than \" + max + \" varyings, but \" + this.varyings + \" were defined\");\n    }\n\n    for (var _iterator10 = this.effects, _isArray10 = Array.isArray(_iterator10), _i10 = 0, _iterator10 = _isArray10 ? _iterator10 : _iterator10[Symbol.iterator]();;) {\n      var _ref10;\n\n      if (_isArray10) {\n        if (_i10 >= _iterator10.length) break;\n        _ref10 = _iterator10[_i10++];\n      } else {\n        _i10 = _iterator10.next();\n        if (_i10.done) break;\n        _ref10 = _i10.value;\n      }\n\n      var effect = _ref10;\n      effect.initialize(renderer, alpha);\n    }\n  }\n  /**\n   * Deletes disposable objects.\n   *\n   * This pass will be inoperative after this method was called!\n   */\n  ;\n\n  _proto.dispose = function dispose() {\n    _Pass.prototype.dispose.call(this);\n\n    for (var _iterator11 = this.effects, _isArray11 = Array.isArray(_iterator11), _i11 = 0, _iterator11 = _isArray11 ? _iterator11 : _iterator11[Symbol.iterator]();;) {\n      var _ref11;\n\n      if (_isArray11) {\n        if (_i11 >= _iterator11.length) break;\n        _ref11 = _iterator11[_i11++];\n      } else {\n        _i11 = _iterator11.next();\n        if (_i11.done) break;\n        _ref11 = _i11.value;\n      }\n\n      var effect = _ref11;\n      effect.dispose();\n    }\n  };\n\n  _createClass(EffectPass, [{\n    key: \"dithering\",\n    get: function get() {\n      return this.quantize;\n    }\n    /**\n     * Enables or disables dithering.\n     *\n     * Note that some effects like bloom have their own dithering setting.\n     *\n     * @type {Boolean}\n     */\n    ,\n    set: function set(value) {\n      if (this.quantize !== value) {\n        var material = this.getFullscreenMaterial();\n\n        if (material !== null) {\n          material.dithering = value;\n          material.needsUpdate = true;\n        }\n\n        this.quantize = value;\n      }\n    }\n  }]);\n\n  return EffectPass;\n}(Pass);\n\n/**\n * A mask pass.\n *\n * This pass requires that the input and output buffers have a stencil buffer.\n * You can enable the stencil buffer via the {@link EffectComposer} constructor.\n */\n\nvar MaskPass =\n/*#__PURE__*/\nfunction (_Pass) {\n  _inheritsLoose(MaskPass, _Pass);\n\n  /**\n   * Constructs a new mask pass.\n   *\n   * @param {Scene} scene - The scene to render.\n   * @param {Camera} camera - The camera to use.\n   */\n  function MaskPass(scene, camera) {\n    var _this;\n\n    _this = _Pass.call(this, \"MaskPass\", scene, camera) || this;\n    _this.needsSwap = false;\n    /**\n     * Inverse flag.\n     *\n     * @type {Boolean}\n     */\n\n    _this.inverse = false;\n    /**\n     * Stencil buffer clear flag.\n     *\n     * @type {Boolean}\n     */\n\n    _this.clearStencil = true;\n    return _this;\n  }\n  /**\n   * Renders the effect.\n   *\n   * @param {WebGLRenderer} renderer - The renderer.\n   * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\n   * @param {WebGLRenderTarget} outputBuffer - A frame buffer that serves as the output render target unless this pass renders to screen.\n   * @param {Number} [delta] - The time between the last frame and the current one in seconds.\n   * @param {Boolean} [stencilTest] - Indicates whether a stencil mask is active.\n   */\n\n\n  var _proto = MaskPass.prototype;\n\n  _proto.render = function render(renderer, inputBuffer, outputBuffer, delta, stencilTest) {\n    var context = renderer.context;\n    var state = renderer.state;\n    var scene = this.scene;\n    var camera = this.camera;\n    var writeValue = this.inverse ? 0 : 1;\n    var clearValue = 1 - writeValue; // Don't update color or depth.\n\n    state.buffers.color.setMask(false);\n    state.buffers.depth.setMask(false); // Lock the buffers.\n\n    state.buffers.color.setLocked(true);\n    state.buffers.depth.setLocked(true); // Configure the stencil.\n\n    state.buffers.stencil.setTest(true);\n    state.buffers.stencil.setOp(context.REPLACE, context.REPLACE, context.REPLACE);\n    state.buffers.stencil.setFunc(context.ALWAYS, writeValue, 0xffffffff);\n    state.buffers.stencil.setClear(clearValue); // Clear the stencil.\n\n    if (this.clearStencil) {\n      if (this.renderToScreen) {\n        renderer.setRenderTarget(null);\n        renderer.clearStencil();\n      } else {\n        renderer.setRenderTarget(inputBuffer);\n        renderer.clearStencil();\n        renderer.setRenderTarget(outputBuffer);\n        renderer.clearStencil();\n      }\n    } // Draw the mask.\n\n\n    if (this.renderToScreen) {\n      renderer.render(scene, camera, null);\n    } else {\n      renderer.render(scene, camera, inputBuffer);\n      renderer.render(scene, camera, outputBuffer);\n    } // Unlock the buffers.\n\n\n    state.buffers.color.setLocked(false);\n    state.buffers.depth.setLocked(false); // Only render where the stencil is set to 1.\n\n    state.buffers.stencil.setFunc(context.EQUAL, 1, 0xffffffff);\n    state.buffers.stencil.setOp(context.KEEP, context.KEEP, context.KEEP);\n  };\n\n  return MaskPass;\n}(Pass);\n\n/**\n * A pass that renders the normals of a given scene.\n */\n\nvar NormalPass =\n/*#__PURE__*/\nfunction (_Pass) {\n  _inheritsLoose(NormalPass, _Pass);\n\n  /**\n   * Constructs a new normal pass.\n   *\n   * @param {Scene} scene - The scene to render.\n   * @param {Camera} camera - The camera to use to render the scene.\n   * @param {Object} [options] - The options.\n   * @param {Number} [options.resolutionScale=0.5] - The render texture resolution scale, relative to the screen render size.\n   * @param {WebGLRenderTarget} [options.renderTarget] - A custom render target.\n   */\n  function NormalPass(scene, camera, options) {\n    var _this;\n\n    if (options === void 0) {\n      options = {};\n    }\n\n    _this = _Pass.call(this, \"NormalPass\") || this;\n    _this.needsSwap = false;\n    /**\n     * A render pass.\n     *\n     * @type {RenderPass}\n     * @private\n     */\n\n    _this.renderPass = new RenderPass(scene, camera, {\n      overrideMaterial: new MeshNormalMaterial({\n        morphTargets: true,\n        skinning: true\n      }),\n      clearColor: new Color(0x7777ff),\n      clearAlpha: 1.0\n    });\n    /**\n     * A render target that contains the scene normals.\n     *\n     * @type {WebGLRenderTarget}\n     */\n\n    _this.renderTarget = options.renderTarget;\n\n    if (_this.renderTarget === undefined) {\n      _this.renderTarget = new WebGLRenderTarget(1, 1, {\n        minFilter: LinearFilter,\n        magFilter: LinearFilter,\n        format: RGBFormat$1\n      });\n      _this.renderTarget.texture.name = \"NormalPass.Target\";\n      _this.renderTarget.texture.generateMipmaps = false;\n    }\n    /**\n     * The original resolution.\n     *\n     * @type {Vector2}\n     * @private\n     */\n\n\n    _this.resolution = new Vector2();\n    /**\n     * The current resolution scale.\n     *\n     * @type {Number}\n     * @private\n     */\n\n    _this.resolutionScale = options.resolutionScale !== undefined ? options.resolutionScale : 0.5;\n    return _this;\n  }\n  /**\n   * Returns the current resolution scale.\n   *\n   * @return {Number} The resolution scale.\n   */\n\n\n  var _proto = NormalPass.prototype;\n\n  _proto.getResolutionScale = function getResolutionScale() {\n    return this.resolutionScale;\n  }\n  /**\n   * Sets the resolution scale.\n   *\n   * @param {Number} scale - The new resolution scale.\n   */\n  ;\n\n  _proto.setResolutionScale = function setResolutionScale(scale) {\n    this.resolutionScale = scale;\n    this.setSize(this.resolution.x, this.resolution.y);\n  }\n  /**\n   * Renders the scene normals.\n   *\n   * @param {WebGLRenderer} renderer - The renderer.\n   * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\n   * @param {WebGLRenderTarget} outputBuffer - A frame buffer that serves as the output render target unless this pass renders to screen.\n   * @param {Number} [delta] - The time between the last frame and the current one in seconds.\n   * @param {Boolean} [stencilTest] - Indicates whether a stencil mask is active.\n   */\n  ;\n\n  _proto.render = function render(renderer, inputBuffer, outputBuffer, delta, stencilTest) {\n    var renderTarget = this.renderToScreen ? null : this.renderTarget;\n    this.renderPass.render(renderer, renderTarget, renderTarget);\n  }\n  /**\n   * Updates the size of this pass.\n   *\n   * @param {Number} width - The width.\n   * @param {Number} height - The height.\n   */\n  ;\n\n  _proto.setSize = function setSize(width, height) {\n    this.resolution.set(width, height);\n    this.renderTarget.setSize(Math.max(1, Math.floor(width * this.resolutionScale)), Math.max(1, Math.floor(height * this.resolutionScale)));\n  };\n\n  return NormalPass;\n}(Pass);\n\n/**\n * A pass that renders the result from a previous pass to another render target.\n */\n\nvar SavePass =\n/*#__PURE__*/\nfunction (_Pass) {\n  _inheritsLoose(SavePass, _Pass);\n\n  /**\n   * Constructs a new save pass.\n   *\n   * @param {WebGLRenderTarget} [renderTarget] - A render target.\n   * @param {Boolean} [resize=true] - Whether the render target should adjust to the size of the input buffer.\n   */\n  function SavePass(renderTarget, resize) {\n    var _this;\n\n    if (resize === void 0) {\n      resize = true;\n    }\n\n    _this = _Pass.call(this, \"SavePass\") || this;\n\n    _this.setFullscreenMaterial(new CopyMaterial());\n\n    _this.needsSwap = false;\n    /**\n     * The render target.\n     *\n     * @type {WebGLRenderTarget}\n     */\n\n    _this.renderTarget = renderTarget;\n\n    if (renderTarget === undefined) {\n      _this.renderTarget = new WebGLRenderTarget(1, 1, {\n        minFilter: LinearFilter,\n        magFilter: LinearFilter,\n        stencilBuffer: false,\n        depthBuffer: false\n      });\n      _this.renderTarget.texture.name = \"SavePass.Target\";\n      _this.renderTarget.texture.generateMipmaps = false;\n    }\n    /**\n     * Indicates whether the render target should be resized automatically.\n     *\n     * @type {Boolean}\n     */\n\n\n    _this.resize = resize;\n    return _this;\n  }\n  /**\n   * Saves the input buffer.\n   *\n   * @param {WebGLRenderer} renderer - The renderer.\n   * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\n   * @param {WebGLRenderTarget} outputBuffer - A frame buffer that serves as the output render target unless this pass renders to screen.\n   * @param {Number} [delta] - The time between the last frame and the current one in seconds.\n   * @param {Boolean} [stencilTest] - Indicates whether a stencil mask is active.\n   */\n\n\n  var _proto = SavePass.prototype;\n\n  _proto.render = function render(renderer, inputBuffer, outputBuffer, delta, stencilTest) {\n    this.getFullscreenMaterial().uniforms.inputBuffer.value = inputBuffer.texture;\n    renderer.render(this.scene, this.camera, this.renderToScreen ? null : this.renderTarget);\n  }\n  /**\n   * Updates the size of this pass.\n   *\n   * @param {Number} width - The width.\n   * @param {Number} height - The height.\n   */\n  ;\n\n  _proto.setSize = function setSize(width, height) {\n    if (this.resize) {\n      width = Math.max(1, width);\n      height = Math.max(1, height);\n      this.renderTarget.setSize(width, height);\n    }\n  };\n\n  return SavePass;\n}(Pass);\n\n/**\n * A shader pass.\n *\n * Renders any shader material as a fullscreen effect.\n *\n * This pass should not be used to create multiple chained effects. For a more\n * efficient solution, please refer to the {@link EffectPass}.\n */\n\nvar ShaderPass =\n/*#__PURE__*/\nfunction (_Pass) {\n  _inheritsLoose(ShaderPass, _Pass);\n\n  /**\n   * Constructs a new shader pass.\n   *\n   * @param {ShaderMaterial} material - A shader material.\n   * @param {String} [input=\"inputBuffer\"] - The name of the input buffer uniform.\n   */\n  function ShaderPass(material, input) {\n    var _this;\n\n    if (input === void 0) {\n      input = \"inputBuffer\";\n    }\n\n    _this = _Pass.call(this, \"ShaderPass\") || this;\n\n    _this.setFullscreenMaterial(material);\n    /**\n     * The input buffer uniform.\n     *\n     * @type {String}\n     * @private\n     */\n\n\n    _this.uniform = null;\n\n    _this.setInput(input);\n\n    return _this;\n  }\n  /**\n   * Sets the name of the input buffer uniform.\n   *\n   * Most fullscreen materials modify texels from an input texture. This pass\n   * automatically assigns the main input buffer to the uniform identified by\n   * the given name.\n   *\n   * @param {String} input - The name of the input buffer uniform.\n   */\n\n\n  var _proto = ShaderPass.prototype;\n\n  _proto.setInput = function setInput(input) {\n    var material = this.getFullscreenMaterial();\n    this.uniform = null;\n\n    if (material !== null) {\n      var uniforms = material.uniforms;\n\n      if (uniforms[input] !== undefined) {\n        this.uniform = uniforms[input];\n      }\n    }\n  }\n  /**\n   * Renders the effect.\n   *\n   * @param {WebGLRenderer} renderer - The renderer.\n   * @param {WebGLRenderTarget} inputBuffer - A frame buffer that contains the result of the previous pass.\n   * @param {WebGLRenderTarget} outputBuffer - A frame buffer that serves as the output render target unless this pass renders to screen.\n   * @param {Number} [delta] - The time between the last frame and the current one in seconds.\n   * @param {Boolean} [stencilTest] - Indicates whether a stencil mask is active.\n   */\n  ;\n\n  _proto.render = function render(renderer, inputBuffer, outputBuffer, delta, stencilTest) {\n    if (this.uniform !== null) {\n      this.uniform.value = inputBuffer.texture;\n    }\n\n    renderer.render(this.scene, this.camera, this.renderToScreen ? null : outputBuffer);\n  };\n\n  return ShaderPass;\n}(Pass);\n\nvar Pass$1 =\n/*#__PURE__*/\nfunction () {\n  function Pass() {\n    // if set to true, the pass is processed by the composer\n    this.enabled = true; // if set to true, the pass indicates to swap read and write buffer after rendering\n\n    this.needsSwap = true; // if set to true, the pass clears its buffer before rendering\n\n    this.clear = false; // if set to true, the result of the pass is rendered to screen. This is set automatically by EffectComposer.\n\n    this.renderToScreen = false;\n  }\n\n  var _proto = Pass.prototype;\n\n  _proto.setSize = function setSize()\n  /* width, height */\n  {};\n\n  _proto.render = function render()\n  /* renderer, writeBuffer, readBuffer, deltaTime, maskActive */\n  {\n    console.error('THREE.Pass: .render() must be implemented in derived pass.');\n  };\n\n  return Pass;\n}(); // Helper for passes that need to fill the viewport with a single quad.\n\n\nvar _camera$2 = new OrthographicCamera(-1, 1, 1, -1, 0, 1); // https://github.com/mrdoob/three.js/pull/21358\n\n\nvar _geometry$2 = new BufferGeometry();\n\n_geometry$2.setAttribute('position', new Float32BufferAttribute([-1, 3, 0, -1, -1, 0, 3, -1, 0], 3));\n\n_geometry$2.setAttribute('uv', new Float32BufferAttribute([0, 2, 0, 0, 2, 0], 2));\n\nvar FullScreenQuad$1 =\n/*#__PURE__*/\nfunction () {\n  function FullScreenQuad(material) {\n    this._mesh = new Mesh(_geometry$2, material);\n  }\n\n  var _proto2 = FullScreenQuad.prototype;\n\n  _proto2.dispose = function dispose() {\n    this._mesh.geometry.dispose();\n  };\n\n  _proto2.render = function render(renderer) {\n    renderer.render(this._mesh, _camera$2);\n  };\n\n  _createClass(FullScreenQuad, [{\n    key: \"material\",\n    get: function get() {\n      return this._mesh.material;\n    },\n    set: function set(value) {\n      this._mesh.material = value;\n    }\n  }]);\n\n  return FullScreenQuad;\n}();\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * Full-screen textured quad shader\n */\nvar CopyShader = {\n  uniforms: {\n    \"tDiffuse\": {\n      value: null\n    },\n    \"opacity\": {\n      value: 1.0\n    }\n  },\n  vertexShader: [\"varying vec2 vUv;\", \"void main() {\", \"vUv = uv;\", \"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\", \"}\"].join(\"\\n\"),\n  fragmentShader: [\"uniform float opacity;\", \"uniform sampler2D tDiffuse;\", \"varying vec2 vUv;\", \"void main() {\", \"vec4 texel = texture2D( tDiffuse, vUv );\", \"gl_FragColor = opacity * texel;\", \"}\"].join(\"\\n\")\n};\n\n/**\n * @author bhouston / http://clara.io/\n *\n * Luminosity\n * http://en.wikipedia.org/wiki/Luminosity\n */\n\nvar LuminosityHighPassShader = {\n  shaderID: \"luminosityHighPass\",\n  uniforms: {\n    \"tDiffuse\": {\n      type: \"t\",\n      value: null\n    },\n    \"luminosityThreshold\": {\n      type: \"f\",\n      value: 1.0\n    },\n    \"smoothWidth\": {\n      type: \"f\",\n      value: 1.0\n    },\n    \"defaultColor\": {\n      type: \"c\",\n      value: new Color(0x000000)\n    },\n    \"defaultOpacity\": {\n      type: \"f\",\n      value: 0.0\n    }\n  },\n  vertexShader: [\"varying vec2 vUv;\", \"void main() {\", \"vUv = uv;\", \"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\", \"}\"].join(\"\\n\"),\n  fragmentShader: [\"uniform sampler2D tDiffuse;\", \"uniform vec3 defaultColor;\", \"uniform float defaultOpacity;\", \"uniform float luminosityThreshold;\", \"uniform float smoothWidth;\", \"varying vec2 vUv;\", \"void main() {\", \"vec4 texel = texture2D( tDiffuse, vUv );\", \"vec3 luma = vec3( 0.299, 0.587, 0.114 );\", \"float v = dot( texel.xyz, luma );\", \"vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );\", \"float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );\", \"gl_FragColor = mix( outputColor, texel, alpha );\", \"}\"].join(\"\\n\")\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author davidedc / http://www.sketchpatch.net/\n *\n * NVIDIA FXAA by Timothy Lottes\n * http://timothylottes.blogspot.com/2011/06/fxaa3-source-released.html\n * - WebGL port by @supereggbert\n * http://www.glge.org/demos/fxaa/\n */\nvar FXAAShader = {\n  uniforms: {\n    \"tDiffuse\": {\n      value: null\n    },\n    \"resolution\": {\n      value: new Vector2(1 / 1024, 1 / 512)\n    }\n  },\n  vertexShader: [\"varying vec2 vUv;\", \"void main() {\", \"vUv = uv;\", \"gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\", \"}\"].join(\"\\n\"),\n  fragmentShader: [\"precision highp float;\", \"\", \"uniform sampler2D tDiffuse;\", \"\", \"uniform vec2 resolution;\", \"\", \"varying vec2 vUv;\", \"\", \"// FXAA 3.11 implementation by NVIDIA, ported to WebGL by Agost Biro (biro@archilogic.com)\", \"\", \"//----------------------------------------------------------------------------------\", \"// File:        es3-kepler\\FXAA\\assets\\shaders/FXAA_DefaultES.frag\", \"// SDK Version: v3.00\", \"// Email:       gameworks@nvidia.com\", \"// Site:        http://developer.nvidia.com/\", \"//\", \"// Copyright (c) 2014-2015, NVIDIA CORPORATION. All rights reserved.\", \"//\", \"// Redistribution and use in source and binary forms, with or without\", \"// modification, are permitted provided that the following conditions\", \"// are met:\", \"//  * Redistributions of source code must retain the above copyright\", \"//    notice, this list of conditions and the following disclaimer.\", \"//  * Redistributions in binary form must reproduce the above copyright\", \"//    notice, this list of conditions and the following disclaimer in the\", \"//    documentation and/or other materials provided with the distribution.\", \"//  * Neither the name of NVIDIA CORPORATION nor the names of its\", \"//    contributors may be used to endorse or promote products derived\", \"//    from this software without specific prior written permission.\", \"//\", \"// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS ``AS IS'' AND ANY\", \"// EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\", \"// IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR\", \"// PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL THE COPYRIGHT OWNER OR\", \"// CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,\", \"// EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,\", \"// PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR\", \"// PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY\", \"// OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\", \"// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\", \"// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\", \"//\", \"//----------------------------------------------------------------------------------\", \"\", \"#define FXAA_PC 1\", \"#define FXAA_GLSL_100 1\", \"#define FXAA_QUALITY_PRESET 12\", \"\", \"#define FXAA_GREEN_AS_LUMA 1\", \"\", \"/*--------------------------------------------------------------------------*/\", \"#ifndef FXAA_PC_CONSOLE\", \"    //\", \"    // The console algorithm for PC is included\", \"    // for developers targeting really low spec machines.\", \"    // Likely better to just run FXAA_PC, and use a really low preset.\", \"    //\", \"    #define FXAA_PC_CONSOLE 0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#ifndef FXAA_GLSL_120\", \"    #define FXAA_GLSL_120 0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#ifndef FXAA_GLSL_130\", \"    #define FXAA_GLSL_130 0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#ifndef FXAA_HLSL_3\", \"    #define FXAA_HLSL_3 0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#ifndef FXAA_HLSL_4\", \"    #define FXAA_HLSL_4 0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#ifndef FXAA_HLSL_5\", \"    #define FXAA_HLSL_5 0\", \"#endif\", \"/*==========================================================================*/\", \"#ifndef FXAA_GREEN_AS_LUMA\", \"    //\", \"    // For those using non-linear color,\", \"    // and either not able to get luma in alpha, or not wanting to,\", \"    // this enables FXAA to run using green as a proxy for luma.\", \"    // So with this enabled, no need to pack luma in alpha.\", \"    //\", \"    // This will turn off AA on anything which lacks some amount of green.\", \"    // Pure red and blue or combination of only R and B, will get no AA.\", \"    //\", \"    // Might want to lower the settings for both,\", \"    //    fxaaConsoleEdgeThresholdMin\", \"    //    fxaaQualityEdgeThresholdMin\", \"    // In order to insure AA does not get turned off on colors\", \"    // which contain a minor amount of green.\", \"    //\", \"    // 1 = On.\", \"    // 0 = Off.\", \"    //\", \"    #define FXAA_GREEN_AS_LUMA 0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#ifndef FXAA_EARLY_EXIT\", \"    //\", \"    // Controls algorithm's early exit path.\", \"    // On PS3 turning this ON adds 2 cycles to the shader.\", \"    // On 360 turning this OFF adds 10ths of a millisecond to the shader.\", \"    // Turning this off on console will result in a more blurry image.\", \"    // So this defaults to on.\", \"    //\", \"    // 1 = On.\", \"    // 0 = Off.\", \"    //\", \"    #define FXAA_EARLY_EXIT 1\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#ifndef FXAA_DISCARD\", \"    //\", \"    // Only valid for PC OpenGL currently.\", \"    // Probably will not work when FXAA_GREEN_AS_LUMA = 1.\", \"    //\", \"    // 1 = Use discard on pixels which don't need AA.\", \"    //     For APIs which enable concurrent TEX+ROP from same surface.\", \"    // 0 = Return unchanged color on pixels which don't need AA.\", \"    //\", \"    #define FXAA_DISCARD 0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#ifndef FXAA_FAST_PIXEL_OFFSET\", \"    //\", \"    // Used for GLSL 120 only.\", \"    //\", \"    // 1 = GL API supports fast pixel offsets\", \"    // 0 = do not use fast pixel offsets\", \"    //\", \"    #ifdef GL_EXT_gpu_shader4\", \"        #define FXAA_FAST_PIXEL_OFFSET 1\", \"    #endif\", \"    #ifdef GL_NV_gpu_shader5\", \"        #define FXAA_FAST_PIXEL_OFFSET 1\", \"    #endif\", \"    #ifdef GL_ARB_gpu_shader5\", \"        #define FXAA_FAST_PIXEL_OFFSET 1\", \"    #endif\", \"    #ifndef FXAA_FAST_PIXEL_OFFSET\", \"        #define FXAA_FAST_PIXEL_OFFSET 0\", \"    #endif\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#ifndef FXAA_GATHER4_ALPHA\", \"    //\", \"    // 1 = API supports gather4 on alpha channel.\", \"    // 0 = API does not support gather4 on alpha channel.\", \"    //\", \"    #if (FXAA_HLSL_5 == 1)\", \"        #define FXAA_GATHER4_ALPHA 1\", \"    #endif\", \"    #ifdef GL_ARB_gpu_shader5\", \"        #define FXAA_GATHER4_ALPHA 1\", \"    #endif\", \"    #ifdef GL_NV_gpu_shader5\", \"        #define FXAA_GATHER4_ALPHA 1\", \"    #endif\", \"    #ifndef FXAA_GATHER4_ALPHA\", \"        #define FXAA_GATHER4_ALPHA 0\", \"    #endif\", \"#endif\", \"\", \"\", \"/*============================================================================\", \"                        FXAA QUALITY - TUNING KNOBS\", \"------------------------------------------------------------------------------\", \"NOTE the other tuning knobs are now in the shader function inputs!\", \"============================================================================*/\", \"#ifndef FXAA_QUALITY_PRESET\", \"    //\", \"    // Choose the quality preset.\", \"    // This needs to be compiled into the shader as it effects code.\", \"    // Best option to include multiple presets is to\", \"    // in each shader define the preset, then include this file.\", \"    //\", \"    // OPTIONS\", \"    // -----------------------------------------------------------------------\", \"    // 10 to 15 - default medium dither (10=fastest, 15=highest quality)\", \"    // 20 to 29 - less dither, more expensive (20=fastest, 29=highest quality)\", \"    // 39       - no dither, very expensive\", \"    //\", \"    // NOTES\", \"    // -----------------------------------------------------------------------\", \"    // 12 = slightly faster then FXAA 3.9 and higher edge quality (default)\", \"    // 13 = about same speed as FXAA 3.9 and better than 12\", \"    // 23 = closest to FXAA 3.9 visually and performance wise\", \"    //  _ = the lowest digit is directly related to performance\", \"    // _  = the highest digit is directly related to style\", \"    //\", \"    #define FXAA_QUALITY_PRESET 12\", \"#endif\", \"\", \"\", \"/*============================================================================\", \"\", \"                           FXAA QUALITY - PRESETS\", \"\", \"============================================================================*/\", \"\", \"/*============================================================================\", \"                     FXAA QUALITY - MEDIUM DITHER PRESETS\", \"============================================================================*/\", \"#if (FXAA_QUALITY_PRESET == 10)\", \"    #define FXAA_QUALITY_PS 3\", \"    #define FXAA_QUALITY_P0 1.5\", \"    #define FXAA_QUALITY_P1 3.0\", \"    #define FXAA_QUALITY_P2 12.0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_QUALITY_PRESET == 11)\", \"    #define FXAA_QUALITY_PS 4\", \"    #define FXAA_QUALITY_P0 1.0\", \"    #define FXAA_QUALITY_P1 1.5\", \"    #define FXAA_QUALITY_P2 3.0\", \"    #define FXAA_QUALITY_P3 12.0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_QUALITY_PRESET == 12)\", \"    #define FXAA_QUALITY_PS 5\", \"    #define FXAA_QUALITY_P0 1.0\", \"    #define FXAA_QUALITY_P1 1.5\", \"    #define FXAA_QUALITY_P2 2.0\", \"    #define FXAA_QUALITY_P3 4.0\", \"    #define FXAA_QUALITY_P4 12.0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_QUALITY_PRESET == 13)\", \"    #define FXAA_QUALITY_PS 6\", \"    #define FXAA_QUALITY_P0 1.0\", \"    #define FXAA_QUALITY_P1 1.5\", \"    #define FXAA_QUALITY_P2 2.0\", \"    #define FXAA_QUALITY_P3 2.0\", \"    #define FXAA_QUALITY_P4 4.0\", \"    #define FXAA_QUALITY_P5 12.0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_QUALITY_PRESET == 14)\", \"    #define FXAA_QUALITY_PS 7\", \"    #define FXAA_QUALITY_P0 1.0\", \"    #define FXAA_QUALITY_P1 1.5\", \"    #define FXAA_QUALITY_P2 2.0\", \"    #define FXAA_QUALITY_P3 2.0\", \"    #define FXAA_QUALITY_P4 2.0\", \"    #define FXAA_QUALITY_P5 4.0\", \"    #define FXAA_QUALITY_P6 12.0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_QUALITY_PRESET == 15)\", \"    #define FXAA_QUALITY_PS 8\", \"    #define FXAA_QUALITY_P0 1.0\", \"    #define FXAA_QUALITY_P1 1.5\", \"    #define FXAA_QUALITY_P2 2.0\", \"    #define FXAA_QUALITY_P3 2.0\", \"    #define FXAA_QUALITY_P4 2.0\", \"    #define FXAA_QUALITY_P5 2.0\", \"    #define FXAA_QUALITY_P6 4.0\", \"    #define FXAA_QUALITY_P7 12.0\", \"#endif\", \"\", \"/*============================================================================\", \"                     FXAA QUALITY - LOW DITHER PRESETS\", \"============================================================================*/\", \"#if (FXAA_QUALITY_PRESET == 20)\", \"    #define FXAA_QUALITY_PS 3\", \"    #define FXAA_QUALITY_P0 1.5\", \"    #define FXAA_QUALITY_P1 2.0\", \"    #define FXAA_QUALITY_P2 8.0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_QUALITY_PRESET == 21)\", \"    #define FXAA_QUALITY_PS 4\", \"    #define FXAA_QUALITY_P0 1.0\", \"    #define FXAA_QUALITY_P1 1.5\", \"    #define FXAA_QUALITY_P2 2.0\", \"    #define FXAA_QUALITY_P3 8.0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_QUALITY_PRESET == 22)\", \"    #define FXAA_QUALITY_PS 5\", \"    #define FXAA_QUALITY_P0 1.0\", \"    #define FXAA_QUALITY_P1 1.5\", \"    #define FXAA_QUALITY_P2 2.0\", \"    #define FXAA_QUALITY_P3 2.0\", \"    #define FXAA_QUALITY_P4 8.0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_QUALITY_PRESET == 23)\", \"    #define FXAA_QUALITY_PS 6\", \"    #define FXAA_QUALITY_P0 1.0\", \"    #define FXAA_QUALITY_P1 1.5\", \"    #define FXAA_QUALITY_P2 2.0\", \"    #define FXAA_QUALITY_P3 2.0\", \"    #define FXAA_QUALITY_P4 2.0\", \"    #define FXAA_QUALITY_P5 8.0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_QUALITY_PRESET == 24)\", \"    #define FXAA_QUALITY_PS 7\", \"    #define FXAA_QUALITY_P0 1.0\", \"    #define FXAA_QUALITY_P1 1.5\", \"    #define FXAA_QUALITY_P2 2.0\", \"    #define FXAA_QUALITY_P3 2.0\", \"    #define FXAA_QUALITY_P4 2.0\", \"    #define FXAA_QUALITY_P5 3.0\", \"    #define FXAA_QUALITY_P6 8.0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_QUALITY_PRESET == 25)\", \"    #define FXAA_QUALITY_PS 8\", \"    #define FXAA_QUALITY_P0 1.0\", \"    #define FXAA_QUALITY_P1 1.5\", \"    #define FXAA_QUALITY_P2 2.0\", \"    #define FXAA_QUALITY_P3 2.0\", \"    #define FXAA_QUALITY_P4 2.0\", \"    #define FXAA_QUALITY_P5 2.0\", \"    #define FXAA_QUALITY_P6 4.0\", \"    #define FXAA_QUALITY_P7 8.0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_QUALITY_PRESET == 26)\", \"    #define FXAA_QUALITY_PS 9\", \"    #define FXAA_QUALITY_P0 1.0\", \"    #define FXAA_QUALITY_P1 1.5\", \"    #define FXAA_QUALITY_P2 2.0\", \"    #define FXAA_QUALITY_P3 2.0\", \"    #define FXAA_QUALITY_P4 2.0\", \"    #define FXAA_QUALITY_P5 2.0\", \"    #define FXAA_QUALITY_P6 2.0\", \"    #define FXAA_QUALITY_P7 4.0\", \"    #define FXAA_QUALITY_P8 8.0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_QUALITY_PRESET == 27)\", \"    #define FXAA_QUALITY_PS 10\", \"    #define FXAA_QUALITY_P0 1.0\", \"    #define FXAA_QUALITY_P1 1.5\", \"    #define FXAA_QUALITY_P2 2.0\", \"    #define FXAA_QUALITY_P3 2.0\", \"    #define FXAA_QUALITY_P4 2.0\", \"    #define FXAA_QUALITY_P5 2.0\", \"    #define FXAA_QUALITY_P6 2.0\", \"    #define FXAA_QUALITY_P7 2.0\", \"    #define FXAA_QUALITY_P8 4.0\", \"    #define FXAA_QUALITY_P9 8.0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_QUALITY_PRESET == 28)\", \"    #define FXAA_QUALITY_PS 11\", \"    #define FXAA_QUALITY_P0 1.0\", \"    #define FXAA_QUALITY_P1 1.5\", \"    #define FXAA_QUALITY_P2 2.0\", \"    #define FXAA_QUALITY_P3 2.0\", \"    #define FXAA_QUALITY_P4 2.0\", \"    #define FXAA_QUALITY_P5 2.0\", \"    #define FXAA_QUALITY_P6 2.0\", \"    #define FXAA_QUALITY_P7 2.0\", \"    #define FXAA_QUALITY_P8 2.0\", \"    #define FXAA_QUALITY_P9 4.0\", \"    #define FXAA_QUALITY_P10 8.0\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_QUALITY_PRESET == 29)\", \"    #define FXAA_QUALITY_PS 12\", \"    #define FXAA_QUALITY_P0 1.0\", \"    #define FXAA_QUALITY_P1 1.5\", \"    #define FXAA_QUALITY_P2 2.0\", \"    #define FXAA_QUALITY_P3 2.0\", \"    #define FXAA_QUALITY_P4 2.0\", \"    #define FXAA_QUALITY_P5 2.0\", \"    #define FXAA_QUALITY_P6 2.0\", \"    #define FXAA_QUALITY_P7 2.0\", \"    #define FXAA_QUALITY_P8 2.0\", \"    #define FXAA_QUALITY_P9 2.0\", \"    #define FXAA_QUALITY_P10 4.0\", \"    #define FXAA_QUALITY_P11 8.0\", \"#endif\", \"\", \"/*============================================================================\", \"                     FXAA QUALITY - EXTREME QUALITY\", \"============================================================================*/\", \"#if (FXAA_QUALITY_PRESET == 39)\", \"    #define FXAA_QUALITY_PS 12\", \"    #define FXAA_QUALITY_P0 1.0\", \"    #define FXAA_QUALITY_P1 1.0\", \"    #define FXAA_QUALITY_P2 1.0\", \"    #define FXAA_QUALITY_P3 1.0\", \"    #define FXAA_QUALITY_P4 1.0\", \"    #define FXAA_QUALITY_P5 1.5\", \"    #define FXAA_QUALITY_P6 2.0\", \"    #define FXAA_QUALITY_P7 2.0\", \"    #define FXAA_QUALITY_P8 2.0\", \"    #define FXAA_QUALITY_P9 2.0\", \"    #define FXAA_QUALITY_P10 4.0\", \"    #define FXAA_QUALITY_P11 8.0\", \"#endif\", \"\", \"\", \"\", \"/*============================================================================\", \"\", \"                                API PORTING\", \"\", \"============================================================================*/\", \"#if (FXAA_GLSL_100 == 1) || (FXAA_GLSL_120 == 1) || (FXAA_GLSL_130 == 1)\", \"    #define FxaaBool bool\", \"    #define FxaaDiscard discard\", \"    #define FxaaFloat float\", \"    #define FxaaFloat2 vec2\", \"    #define FxaaFloat3 vec3\", \"    #define FxaaFloat4 vec4\", \"    #define FxaaHalf float\", \"    #define FxaaHalf2 vec2\", \"    #define FxaaHalf3 vec3\", \"    #define FxaaHalf4 vec4\", \"    #define FxaaInt2 ivec2\", \"    #define FxaaSat(x) clamp(x, 0.0, 1.0)\", \"    #define FxaaTex sampler2D\", \"#else\", \"    #define FxaaBool bool\", \"    #define FxaaDiscard clip(-1)\", \"    #define FxaaFloat float\", \"    #define FxaaFloat2 float2\", \"    #define FxaaFloat3 float3\", \"    #define FxaaFloat4 float4\", \"    #define FxaaHalf half\", \"    #define FxaaHalf2 half2\", \"    #define FxaaHalf3 half3\", \"    #define FxaaHalf4 half4\", \"    #define FxaaSat(x) saturate(x)\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_GLSL_100 == 1)\", \"  #define FxaaTexTop(t, p) texture2D(t, p, 0.0)\", \"  #define FxaaTexOff(t, p, o, r) texture2D(t, p + (o * r), 0.0)\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_GLSL_120 == 1)\", \"    // Requires,\", \"    //  #version 120\", \"    // And at least,\", \"    //  #extension GL_EXT_gpu_shader4 : enable\", \"    //  (or set FXAA_FAST_PIXEL_OFFSET 1 to work like DX9)\", \"    #define FxaaTexTop(t, p) texture2DLod(t, p, 0.0)\", \"    #if (FXAA_FAST_PIXEL_OFFSET == 1)\", \"        #define FxaaTexOff(t, p, o, r) texture2DLodOffset(t, p, 0.0, o)\", \"    #else\", \"        #define FxaaTexOff(t, p, o, r) texture2DLod(t, p + (o * r), 0.0)\", \"    #endif\", \"    #if (FXAA_GATHER4_ALPHA == 1)\", \"        // use #extension GL_ARB_gpu_shader5 : enable\", \"        #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)\", \"        #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)\", \"        #define FxaaTexGreen4(t, p) textureGather(t, p, 1)\", \"        #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)\", \"    #endif\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_GLSL_130 == 1)\", \"    // Requires \\\"#version 130\\\" or better\", \"    #define FxaaTexTop(t, p) textureLod(t, p, 0.0)\", \"    #define FxaaTexOff(t, p, o, r) textureLodOffset(t, p, 0.0, o)\", \"    #if (FXAA_GATHER4_ALPHA == 1)\", \"        // use #extension GL_ARB_gpu_shader5 : enable\", \"        #define FxaaTexAlpha4(t, p) textureGather(t, p, 3)\", \"        #define FxaaTexOffAlpha4(t, p, o) textureGatherOffset(t, p, o, 3)\", \"        #define FxaaTexGreen4(t, p) textureGather(t, p, 1)\", \"        #define FxaaTexOffGreen4(t, p, o) textureGatherOffset(t, p, o, 1)\", \"    #endif\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_HLSL_3 == 1)\", \"    #define FxaaInt2 float2\", \"    #define FxaaTex sampler2D\", \"    #define FxaaTexTop(t, p) tex2Dlod(t, float4(p, 0.0, 0.0))\", \"    #define FxaaTexOff(t, p, o, r) tex2Dlod(t, float4(p + (o * r), 0, 0))\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_HLSL_4 == 1)\", \"    #define FxaaInt2 int2\", \"    struct FxaaTex { SamplerState smpl; Texture2D tex; };\", \"    #define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)\", \"    #define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)\", \"#endif\", \"/*--------------------------------------------------------------------------*/\", \"#if (FXAA_HLSL_5 == 1)\", \"    #define FxaaInt2 int2\", \"    struct FxaaTex { SamplerState smpl; Texture2D tex; };\", \"    #define FxaaTexTop(t, p) t.tex.SampleLevel(t.smpl, p, 0.0)\", \"    #define FxaaTexOff(t, p, o, r) t.tex.SampleLevel(t.smpl, p, 0.0, o)\", \"    #define FxaaTexAlpha4(t, p) t.tex.GatherAlpha(t.smpl, p)\", \"    #define FxaaTexOffAlpha4(t, p, o) t.tex.GatherAlpha(t.smpl, p, o)\", \"    #define FxaaTexGreen4(t, p) t.tex.GatherGreen(t.smpl, p)\", \"    #define FxaaTexOffGreen4(t, p, o) t.tex.GatherGreen(t.smpl, p, o)\", \"#endif\", \"\", \"\", \"/*============================================================================\", \"                   GREEN AS LUMA OPTION SUPPORT FUNCTION\", \"============================================================================*/\", \"#if (FXAA_GREEN_AS_LUMA == 0)\", \"    FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.w; }\", \"#else\", \"    FxaaFloat FxaaLuma(FxaaFloat4 rgba) { return rgba.y; }\", \"#endif\", \"\", \"\", \"\", \"\", \"/*============================================================================\", \"\", \"                             FXAA3 QUALITY - PC\", \"\", \"============================================================================*/\", \"#if (FXAA_PC == 1)\", \"/*--------------------------------------------------------------------------*/\", \"FxaaFloat4 FxaaPixelShader(\", \"    //\", \"    // Use noperspective interpolation here (turn off perspective interpolation).\", \"    // {xy} = center of pixel\", \"    FxaaFloat2 pos,\", \"    //\", \"    // Used only for FXAA Console, and not used on the 360 version.\", \"    // Use noperspective interpolation here (turn off perspective interpolation).\", \"    // {xy_} = upper left of pixel\", \"    // {_zw} = lower right of pixel\", \"    FxaaFloat4 fxaaConsolePosPos,\", \"    //\", \"    // Input color texture.\", \"    // {rgb_} = color in linear or perceptual color space\", \"    // if (FXAA_GREEN_AS_LUMA == 0)\", \"    //     {__a} = luma in perceptual color space (not linear)\", \"    FxaaTex tex,\", \"    //\", \"    // Only used on the optimized 360 version of FXAA Console.\", \"    // For everything but 360, just use the same input here as for \\\"tex\\\".\", \"    // For 360, same texture, just alias with a 2nd sampler.\", \"    // This sampler needs to have an exponent bias of -1.\", \"    FxaaTex fxaaConsole360TexExpBiasNegOne,\", \"    //\", \"    // Only used on the optimized 360 version of FXAA Console.\", \"    // For everything but 360, just use the same input here as for \\\"tex\\\".\", \"    // For 360, same texture, just alias with a 3nd sampler.\", \"    // This sampler needs to have an exponent bias of -2.\", \"    FxaaTex fxaaConsole360TexExpBiasNegTwo,\", \"    //\", \"    // Only used on FXAA Quality.\", \"    // This must be from a constant/uniform.\", \"    // {x_} = 1.0/screenWidthInPixels\", \"    // {_y} = 1.0/screenHeightInPixels\", \"    FxaaFloat2 fxaaQualityRcpFrame,\", \"    //\", \"    // Only used on FXAA Console.\", \"    // This must be from a constant/uniform.\", \"    // This effects sub-pixel AA quality and inversely sharpness.\", \"    //   Where N ranges between,\", \"    //     N = 0.50 (default)\", \"    //     N = 0.33 (sharper)\", \"    // {x__} = -N/screenWidthInPixels\", \"    // {_y_} = -N/screenHeightInPixels\", \"    // {_z_} =  N/screenWidthInPixels\", \"    // {__w} =  N/screenHeightInPixels\", \"    FxaaFloat4 fxaaConsoleRcpFrameOpt,\", \"    //\", \"    // Only used on FXAA Console.\", \"    // Not used on 360, but used on PS3 and PC.\", \"    // This must be from a constant/uniform.\", \"    // {x__} = -2.0/screenWidthInPixels\", \"    // {_y_} = -2.0/screenHeightInPixels\", \"    // {_z_} =  2.0/screenWidthInPixels\", \"    // {__w} =  2.0/screenHeightInPixels\", \"    FxaaFloat4 fxaaConsoleRcpFrameOpt2,\", \"    //\", \"    // Only used on FXAA Console.\", \"    // Only used on 360 in place of fxaaConsoleRcpFrameOpt2.\", \"    // This must be from a constant/uniform.\", \"    // {x__} =  8.0/screenWidthInPixels\", \"    // {_y_} =  8.0/screenHeightInPixels\", \"    // {_z_} = -4.0/screenWidthInPixels\", \"    // {__w} = -4.0/screenHeightInPixels\", \"    FxaaFloat4 fxaaConsole360RcpFrameOpt2,\", \"    //\", \"    // Only used on FXAA Quality.\", \"    // This used to be the FXAA_QUALITY_SUBPIX define.\", \"    // It is here now to allow easier tuning.\", \"    // Choose the amount of sub-pixel aliasing removal.\", \"    // This can effect sharpness.\", \"    //   1.00 - upper limit (softer)\", \"    //   0.75 - default amount of filtering\", \"    //   0.50 - lower limit (sharper, less sub-pixel aliasing removal)\", \"    //   0.25 - almost off\", \"    //   0.00 - completely off\", \"    FxaaFloat fxaaQualitySubpix,\", \"    //\", \"    // Only used on FXAA Quality.\", \"    // This used to be the FXAA_QUALITY_EDGE_THRESHOLD define.\", \"    // It is here now to allow easier tuning.\", \"    // The minimum amount of local contrast required to apply algorithm.\", \"    //   0.333 - too little (faster)\", \"    //   0.250 - low quality\", \"    //   0.166 - default\", \"    //   0.125 - high quality\", \"    //   0.063 - overkill (slower)\", \"    FxaaFloat fxaaQualityEdgeThreshold,\", \"    //\", \"    // Only used on FXAA Quality.\", \"    // This used to be the FXAA_QUALITY_EDGE_THRESHOLD_MIN define.\", \"    // It is here now to allow easier tuning.\", \"    // Trims the algorithm from processing darks.\", \"    //   0.0833 - upper limit (default, the start of visible unfiltered edges)\", \"    //   0.0625 - high quality (faster)\", \"    //   0.0312 - visible limit (slower)\", \"    // Special notes when using FXAA_GREEN_AS_LUMA,\", \"    //   Likely want to set this to zero.\", \"    //   As colors that are mostly not-green\", \"    //   will appear very dark in the green channel!\", \"    //   Tune by looking at mostly non-green content,\", \"    //   then start at zero and increase until aliasing is a problem.\", \"    FxaaFloat fxaaQualityEdgeThresholdMin,\", \"    //\", \"    // Only used on FXAA Console.\", \"    // This used to be the FXAA_CONSOLE_EDGE_SHARPNESS define.\", \"    // It is here now to allow easier tuning.\", \"    // This does not effect PS3, as this needs to be compiled in.\", \"    //   Use FXAA_CONSOLE_PS3_EDGE_SHARPNESS for PS3.\", \"    //   Due to the PS3 being ALU bound,\", \"    //   there are only three safe values here: 2 and 4 and 8.\", \"    //   These options use the shaders ability to a free *|/ by 2|4|8.\", \"    // For all other platforms can be a non-power of two.\", \"    //   8.0 is sharper (default!!!)\", \"    //   4.0 is softer\", \"    //   2.0 is really soft (good only for vector graphics inputs)\", \"    FxaaFloat fxaaConsoleEdgeSharpness,\", \"    //\", \"    // Only used on FXAA Console.\", \"    // This used to be the FXAA_CONSOLE_EDGE_THRESHOLD define.\", \"    // It is here now to allow easier tuning.\", \"    // This does not effect PS3, as this needs to be compiled in.\", \"    //   Use FXAA_CONSOLE_PS3_EDGE_THRESHOLD for PS3.\", \"    //   Due to the PS3 being ALU bound,\", \"    //   there are only two safe values here: 1/4 and 1/8.\", \"    //   These options use the shaders ability to a free *|/ by 2|4|8.\", \"    // The console setting has a different mapping than the quality setting.\", \"    // Other platforms can use other values.\", \"    //   0.125 leaves less aliasing, but is softer (default!!!)\", \"    //   0.25 leaves more aliasing, and is sharper\", \"    FxaaFloat fxaaConsoleEdgeThreshold,\", \"    //\", \"    // Only used on FXAA Console.\", \"    // This used to be the FXAA_CONSOLE_EDGE_THRESHOLD_MIN define.\", \"    // It is here now to allow easier tuning.\", \"    // Trims the algorithm from processing darks.\", \"    // The console setting has a different mapping than the quality setting.\", \"    // This only applies when FXAA_EARLY_EXIT is 1.\", \"    // This does not apply to PS3,\", \"    // PS3 was simplified to avoid more shader instructions.\", \"    //   0.06 - faster but more aliasing in darks\", \"    //   0.05 - default\", \"    //   0.04 - slower and less aliasing in darks\", \"    // Special notes when using FXAA_GREEN_AS_LUMA,\", \"    //   Likely want to set this to zero.\", \"    //   As colors that are mostly not-green\", \"    //   will appear very dark in the green channel!\", \"    //   Tune by looking at mostly non-green content,\", \"    //   then start at zero and increase until aliasing is a problem.\", \"    FxaaFloat fxaaConsoleEdgeThresholdMin,\", \"    //\", \"    // Extra constants for 360 FXAA Console only.\", \"    // Use zeros or anything else for other platforms.\", \"    // These must be in physical constant registers and NOT immediates.\", \"    // Immediates will result in compiler un-optimizing.\", \"    // {xyzw} = float4(1.0, -1.0, 0.25, -0.25)\", \"    FxaaFloat4 fxaaConsole360ConstDir\", \") {\", \"/*--------------------------------------------------------------------------*/\", \"    FxaaFloat2 posM;\", \"    posM.x = pos.x;\", \"    posM.y = pos.y;\", \"    #if (FXAA_GATHER4_ALPHA == 1)\", \"        #if (FXAA_DISCARD == 0)\", \"            FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);\", \"            #if (FXAA_GREEN_AS_LUMA == 0)\", \"                #define lumaM rgbyM.w\", \"            #else\", \"                #define lumaM rgbyM.y\", \"            #endif\", \"        #endif\", \"        #if (FXAA_GREEN_AS_LUMA == 0)\", \"            FxaaFloat4 luma4A = FxaaTexAlpha4(tex, posM);\", \"            FxaaFloat4 luma4B = FxaaTexOffAlpha4(tex, posM, FxaaInt2(-1, -1));\", \"        #else\", \"            FxaaFloat4 luma4A = FxaaTexGreen4(tex, posM);\", \"            FxaaFloat4 luma4B = FxaaTexOffGreen4(tex, posM, FxaaInt2(-1, -1));\", \"        #endif\", \"        #if (FXAA_DISCARD == 1)\", \"            #define lumaM luma4A.w\", \"        #endif\", \"        #define lumaE luma4A.z\", \"        #define lumaS luma4A.x\", \"        #define lumaSE luma4A.y\", \"        #define lumaNW luma4B.w\", \"        #define lumaN luma4B.z\", \"        #define lumaW luma4B.x\", \"    #else\", \"        FxaaFloat4 rgbyM = FxaaTexTop(tex, posM);\", \"        #if (FXAA_GREEN_AS_LUMA == 0)\", \"            #define lumaM rgbyM.w\", \"        #else\", \"            #define lumaM rgbyM.y\", \"        #endif\", \"        #if (FXAA_GLSL_100 == 1)\", \"          FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0, 1.0), fxaaQualityRcpFrame.xy));\", \"          FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 0.0), fxaaQualityRcpFrame.xy));\", \"          FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 0.0,-1.0), fxaaQualityRcpFrame.xy));\", \"          FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 0.0), fxaaQualityRcpFrame.xy));\", \"        #else\", \"          FxaaFloat lumaS = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0, 1), fxaaQualityRcpFrame.xy));\", \"          FxaaFloat lumaE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 0), fxaaQualityRcpFrame.xy));\", \"          FxaaFloat lumaN = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 0,-1), fxaaQualityRcpFrame.xy));\", \"          FxaaFloat lumaW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 0), fxaaQualityRcpFrame.xy));\", \"        #endif\", \"    #endif\", \"/*--------------------------------------------------------------------------*/\", \"    FxaaFloat maxSM = max(lumaS, lumaM);\", \"    FxaaFloat minSM = min(lumaS, lumaM);\", \"    FxaaFloat maxESM = max(lumaE, maxSM);\", \"    FxaaFloat minESM = min(lumaE, minSM);\", \"    FxaaFloat maxWN = max(lumaN, lumaW);\", \"    FxaaFloat minWN = min(lumaN, lumaW);\", \"    FxaaFloat rangeMax = max(maxWN, maxESM);\", \"    FxaaFloat rangeMin = min(minWN, minESM);\", \"    FxaaFloat rangeMaxScaled = rangeMax * fxaaQualityEdgeThreshold;\", \"    FxaaFloat range = rangeMax - rangeMin;\", \"    FxaaFloat rangeMaxClamped = max(fxaaQualityEdgeThresholdMin, rangeMaxScaled);\", \"    FxaaBool earlyExit = range < rangeMaxClamped;\", \"/*--------------------------------------------------------------------------*/\", \"    if(earlyExit)\", \"        #if (FXAA_DISCARD == 1)\", \"            FxaaDiscard;\", \"        #else\", \"            return rgbyM;\", \"        #endif\", \"/*--------------------------------------------------------------------------*/\", \"    #if (FXAA_GATHER4_ALPHA == 0)\", \"        #if (FXAA_GLSL_100 == 1)\", \"          FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0,-1.0), fxaaQualityRcpFrame.xy));\", \"          FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0, 1.0), fxaaQualityRcpFrame.xy));\", \"          FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2( 1.0,-1.0), fxaaQualityRcpFrame.xy));\", \"          FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaFloat2(-1.0, 1.0), fxaaQualityRcpFrame.xy));\", \"        #else\", \"          FxaaFloat lumaNW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1,-1), fxaaQualityRcpFrame.xy));\", \"          FxaaFloat lumaSE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1, 1), fxaaQualityRcpFrame.xy));\", \"          FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2( 1,-1), fxaaQualityRcpFrame.xy));\", \"          FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));\", \"        #endif\", \"    #else\", \"        FxaaFloat lumaNE = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(1, -1), fxaaQualityRcpFrame.xy));\", \"        FxaaFloat lumaSW = FxaaLuma(FxaaTexOff(tex, posM, FxaaInt2(-1, 1), fxaaQualityRcpFrame.xy));\", \"    #endif\", \"/*--------------------------------------------------------------------------*/\", \"    FxaaFloat lumaNS = lumaN + lumaS;\", \"    FxaaFloat lumaWE = lumaW + lumaE;\", \"    FxaaFloat subpixRcpRange = 1.0/range;\", \"    FxaaFloat subpixNSWE = lumaNS + lumaWE;\", \"    FxaaFloat edgeHorz1 = (-2.0 * lumaM) + lumaNS;\", \"    FxaaFloat edgeVert1 = (-2.0 * lumaM) + lumaWE;\", \"/*--------------------------------------------------------------------------*/\", \"    FxaaFloat lumaNESE = lumaNE + lumaSE;\", \"    FxaaFloat lumaNWNE = lumaNW + lumaNE;\", \"    FxaaFloat edgeHorz2 = (-2.0 * lumaE) + lumaNESE;\", \"    FxaaFloat edgeVert2 = (-2.0 * lumaN) + lumaNWNE;\", \"/*--------------------------------------------------------------------------*/\", \"    FxaaFloat lumaNWSW = lumaNW + lumaSW;\", \"    FxaaFloat lumaSWSE = lumaSW + lumaSE;\", \"    FxaaFloat edgeHorz4 = (abs(edgeHorz1) * 2.0) + abs(edgeHorz2);\", \"    FxaaFloat edgeVert4 = (abs(edgeVert1) * 2.0) + abs(edgeVert2);\", \"    FxaaFloat edgeHorz3 = (-2.0 * lumaW) + lumaNWSW;\", \"    FxaaFloat edgeVert3 = (-2.0 * lumaS) + lumaSWSE;\", \"    FxaaFloat edgeHorz = abs(edgeHorz3) + edgeHorz4;\", \"    FxaaFloat edgeVert = abs(edgeVert3) + edgeVert4;\", \"/*--------------------------------------------------------------------------*/\", \"    FxaaFloat subpixNWSWNESE = lumaNWSW + lumaNESE;\", \"    FxaaFloat lengthSign = fxaaQualityRcpFrame.x;\", \"    FxaaBool horzSpan = edgeHorz >= edgeVert;\", \"    FxaaFloat subpixA = subpixNSWE * 2.0 + subpixNWSWNESE;\", \"/*--------------------------------------------------------------------------*/\", \"    if(!horzSpan) lumaN = lumaW;\", \"    if(!horzSpan) lumaS = lumaE;\", \"    if(horzSpan) lengthSign = fxaaQualityRcpFrame.y;\", \"    FxaaFloat subpixB = (subpixA * (1.0/12.0)) - lumaM;\", \"/*--------------------------------------------------------------------------*/\", \"    FxaaFloat gradientN = lumaN - lumaM;\", \"    FxaaFloat gradientS = lumaS - lumaM;\", \"    FxaaFloat lumaNN = lumaN + lumaM;\", \"    FxaaFloat lumaSS = lumaS + lumaM;\", \"    FxaaBool pairN = abs(gradientN) >= abs(gradientS);\", \"    FxaaFloat gradient = max(abs(gradientN), abs(gradientS));\", \"    if(pairN) lengthSign = -lengthSign;\", \"    FxaaFloat subpixC = FxaaSat(abs(subpixB) * subpixRcpRange);\", \"/*--------------------------------------------------------------------------*/\", \"    FxaaFloat2 posB;\", \"    posB.x = posM.x;\", \"    posB.y = posM.y;\", \"    FxaaFloat2 offNP;\", \"    offNP.x = (!horzSpan) ? 0.0 : fxaaQualityRcpFrame.x;\", \"    offNP.y = ( horzSpan) ? 0.0 : fxaaQualityRcpFrame.y;\", \"    if(!horzSpan) posB.x += lengthSign * 0.5;\", \"    if( horzSpan) posB.y += lengthSign * 0.5;\", \"/*--------------------------------------------------------------------------*/\", \"    FxaaFloat2 posN;\", \"    posN.x = posB.x - offNP.x * FXAA_QUALITY_P0;\", \"    posN.y = posB.y - offNP.y * FXAA_QUALITY_P0;\", \"    FxaaFloat2 posP;\", \"    posP.x = posB.x + offNP.x * FXAA_QUALITY_P0;\", \"    posP.y = posB.y + offNP.y * FXAA_QUALITY_P0;\", \"    FxaaFloat subpixD = ((-2.0)*subpixC) + 3.0;\", \"    FxaaFloat lumaEndN = FxaaLuma(FxaaTexTop(tex, posN));\", \"    FxaaFloat subpixE = subpixC * subpixC;\", \"    FxaaFloat lumaEndP = FxaaLuma(FxaaTexTop(tex, posP));\", \"/*--------------------------------------------------------------------------*/\", \"    if(!pairN) lumaNN = lumaSS;\", \"    FxaaFloat gradientScaled = gradient * 1.0/4.0;\", \"    FxaaFloat lumaMM = lumaM - lumaNN * 0.5;\", \"    FxaaFloat subpixF = subpixD * subpixE;\", \"    FxaaBool lumaMLTZero = lumaMM < 0.0;\", \"/*--------------------------------------------------------------------------*/\", \"    lumaEndN -= lumaNN * 0.5;\", \"    lumaEndP -= lumaNN * 0.5;\", \"    FxaaBool doneN = abs(lumaEndN) >= gradientScaled;\", \"    FxaaBool doneP = abs(lumaEndP) >= gradientScaled;\", \"    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P1;\", \"    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P1;\", \"    FxaaBool doneNP = (!doneN) || (!doneP);\", \"    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P1;\", \"    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P1;\", \"/*--------------------------------------------------------------------------*/\", \"    if(doneNP) {\", \"        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\", \"        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\", \"        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\", \"        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\", \"        doneN = abs(lumaEndN) >= gradientScaled;\", \"        doneP = abs(lumaEndP) >= gradientScaled;\", \"        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P2;\", \"        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P2;\", \"        doneNP = (!doneN) || (!doneP);\", \"        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P2;\", \"        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P2;\", \"/*--------------------------------------------------------------------------*/\", \"        #if (FXAA_QUALITY_PS > 3)\", \"        if(doneNP) {\", \"            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\", \"            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\", \"            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\", \"            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\", \"            doneN = abs(lumaEndN) >= gradientScaled;\", \"            doneP = abs(lumaEndP) >= gradientScaled;\", \"            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P3;\", \"            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P3;\", \"            doneNP = (!doneN) || (!doneP);\", \"            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P3;\", \"            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P3;\", \"/*--------------------------------------------------------------------------*/\", \"            #if (FXAA_QUALITY_PS > 4)\", \"            if(doneNP) {\", \"                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\", \"                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\", \"                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\", \"                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\", \"                doneN = abs(lumaEndN) >= gradientScaled;\", \"                doneP = abs(lumaEndP) >= gradientScaled;\", \"                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P4;\", \"                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P4;\", \"                doneNP = (!doneN) || (!doneP);\", \"                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P4;\", \"                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P4;\", \"/*--------------------------------------------------------------------------*/\", \"                #if (FXAA_QUALITY_PS > 5)\", \"                if(doneNP) {\", \"                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\", \"                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\", \"                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\", \"                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\", \"                    doneN = abs(lumaEndN) >= gradientScaled;\", \"                    doneP = abs(lumaEndP) >= gradientScaled;\", \"                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P5;\", \"                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P5;\", \"                    doneNP = (!doneN) || (!doneP);\", \"                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P5;\", \"                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P5;\", \"/*--------------------------------------------------------------------------*/\", \"                    #if (FXAA_QUALITY_PS > 6)\", \"                    if(doneNP) {\", \"                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\", \"                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\", \"                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\", \"                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\", \"                        doneN = abs(lumaEndN) >= gradientScaled;\", \"                        doneP = abs(lumaEndP) >= gradientScaled;\", \"                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P6;\", \"                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P6;\", \"                        doneNP = (!doneN) || (!doneP);\", \"                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P6;\", \"                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P6;\", \"/*--------------------------------------------------------------------------*/\", \"                        #if (FXAA_QUALITY_PS > 7)\", \"                        if(doneNP) {\", \"                            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\", \"                            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\", \"                            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\", \"                            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\", \"                            doneN = abs(lumaEndN) >= gradientScaled;\", \"                            doneP = abs(lumaEndP) >= gradientScaled;\", \"                            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P7;\", \"                            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P7;\", \"                            doneNP = (!doneN) || (!doneP);\", \"                            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P7;\", \"                            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P7;\", \"/*--------------------------------------------------------------------------*/\", \"    #if (FXAA_QUALITY_PS > 8)\", \"    if(doneNP) {\", \"        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\", \"        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\", \"        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\", \"        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\", \"        doneN = abs(lumaEndN) >= gradientScaled;\", \"        doneP = abs(lumaEndP) >= gradientScaled;\", \"        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P8;\", \"        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P8;\", \"        doneNP = (!doneN) || (!doneP);\", \"        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P8;\", \"        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P8;\", \"/*--------------------------------------------------------------------------*/\", \"        #if (FXAA_QUALITY_PS > 9)\", \"        if(doneNP) {\", \"            if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\", \"            if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\", \"            if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\", \"            if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\", \"            doneN = abs(lumaEndN) >= gradientScaled;\", \"            doneP = abs(lumaEndP) >= gradientScaled;\", \"            if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P9;\", \"            if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P9;\", \"            doneNP = (!doneN) || (!doneP);\", \"            if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P9;\", \"            if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P9;\", \"/*--------------------------------------------------------------------------*/\", \"            #if (FXAA_QUALITY_PS > 10)\", \"            if(doneNP) {\", \"                if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\", \"                if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\", \"                if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\", \"                if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\", \"                doneN = abs(lumaEndN) >= gradientScaled;\", \"                doneP = abs(lumaEndP) >= gradientScaled;\", \"                if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P10;\", \"                if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P10;\", \"                doneNP = (!doneN) || (!doneP);\", \"                if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P10;\", \"                if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P10;\", \"/*--------------------------------------------------------------------------*/\", \"                #if (FXAA_QUALITY_PS > 11)\", \"                if(doneNP) {\", \"                    if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\", \"                    if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\", \"                    if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\", \"                    if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\", \"                    doneN = abs(lumaEndN) >= gradientScaled;\", \"                    doneP = abs(lumaEndP) >= gradientScaled;\", \"                    if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P11;\", \"                    if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P11;\", \"                    doneNP = (!doneN) || (!doneP);\", \"                    if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P11;\", \"                    if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P11;\", \"/*--------------------------------------------------------------------------*/\", \"                    #if (FXAA_QUALITY_PS > 12)\", \"                    if(doneNP) {\", \"                        if(!doneN) lumaEndN = FxaaLuma(FxaaTexTop(tex, posN.xy));\", \"                        if(!doneP) lumaEndP = FxaaLuma(FxaaTexTop(tex, posP.xy));\", \"                        if(!doneN) lumaEndN = lumaEndN - lumaNN * 0.5;\", \"                        if(!doneP) lumaEndP = lumaEndP - lumaNN * 0.5;\", \"                        doneN = abs(lumaEndN) >= gradientScaled;\", \"                        doneP = abs(lumaEndP) >= gradientScaled;\", \"                        if(!doneN) posN.x -= offNP.x * FXAA_QUALITY_P12;\", \"                        if(!doneN) posN.y -= offNP.y * FXAA_QUALITY_P12;\", \"                        doneNP = (!doneN) || (!doneP);\", \"                        if(!doneP) posP.x += offNP.x * FXAA_QUALITY_P12;\", \"                        if(!doneP) posP.y += offNP.y * FXAA_QUALITY_P12;\", \"/*--------------------------------------------------------------------------*/\", \"                    }\", \"                    #endif\", \"/*--------------------------------------------------------------------------*/\", \"                }\", \"                #endif\", \"/*--------------------------------------------------------------------------*/\", \"            }\", \"            #endif\", \"/*--------------------------------------------------------------------------*/\", \"        }\", \"        #endif\", \"/*--------------------------------------------------------------------------*/\", \"    }\", \"    #endif\", \"/*--------------------------------------------------------------------------*/\", \"                        }\", \"                        #endif\", \"/*--------------------------------------------------------------------------*/\", \"                    }\", \"                    #endif\", \"/*--------------------------------------------------------------------------*/\", \"                }\", \"                #endif\", \"/*--------------------------------------------------------------------------*/\", \"            }\", \"            #endif\", \"/*--------------------------------------------------------------------------*/\", \"        }\", \"        #endif\", \"/*--------------------------------------------------------------------------*/\", \"    }\", \"/*--------------------------------------------------------------------------*/\", \"    FxaaFloat dstN = posM.x - posN.x;\", \"    FxaaFloat dstP = posP.x - posM.x;\", \"    if(!horzSpan) dstN = posM.y - posN.y;\", \"    if(!horzSpan) dstP = posP.y - posM.y;\", \"/*--------------------------------------------------------------------------*/\", \"    FxaaBool goodSpanN = (lumaEndN < 0.0) != lumaMLTZero;\", \"    FxaaFloat spanLength = (dstP + dstN);\", \"    FxaaBool goodSpanP = (lumaEndP < 0.0) != lumaMLTZero;\", \"    FxaaFloat spanLengthRcp = 1.0/spanLength;\", \"/*--------------------------------------------------------------------------*/\", \"    FxaaBool directionN = dstN < dstP;\", \"    FxaaFloat dst = min(dstN, dstP);\", \"    FxaaBool goodSpan = directionN ? goodSpanN : goodSpanP;\", \"    FxaaFloat subpixG = subpixF * subpixF;\", \"    FxaaFloat pixelOffset = (dst * (-spanLengthRcp)) + 0.5;\", \"    FxaaFloat subpixH = subpixG * fxaaQualitySubpix;\", \"/*--------------------------------------------------------------------------*/\", \"    FxaaFloat pixelOffsetGood = goodSpan ? pixelOffset : 0.0;\", \"    FxaaFloat pixelOffsetSubpix = max(pixelOffsetGood, subpixH);\", \"    if(!horzSpan) posM.x += pixelOffsetSubpix * lengthSign;\", \"    if( horzSpan) posM.y += pixelOffsetSubpix * lengthSign;\", \"    #if (FXAA_DISCARD == 1)\", \"        return FxaaTexTop(tex, posM);\", \"    #else\", \"        return FxaaFloat4(FxaaTexTop(tex, posM).xyz, lumaM);\", \"    #endif\", \"}\", \"/*==========================================================================*/\", \"#endif\", \"\", \"void main() {\", \"  gl_FragColor = FxaaPixelShader(\", \"    vUv,\", \"    vec4(0.0),\", \"    tDiffuse,\", \"    tDiffuse,\", \"    tDiffuse,\", \"    resolution,\", \"    vec4(0.0),\", \"    vec4(0.0),\", \"    vec4(0.0),\", \"    0.75,\", \"    0.166,\", \"    0.0833,\", \"    0.0,\", \"    0.0,\", \"    0.0,\", \"    vec4(0.0)\", \"  );\", \"\", \"  // TODO avoid querying texture twice for same texel\", \"  gl_FragColor.a = texture2D(tDiffuse, vUv).a;\", \"}\"].join(\"\\n\")\n};\n\n/**\n * UnrealBloomPass is inspired by the bloom pass of Unreal Engine. It creates a\n * mip map chain of bloom textures and blurs them with different radii. Because\n * of the weighted combination of mips, and because larger blurs are done on\n * higher mips, this effect provides good quality and performance.\n *\n * Reference:\n * - https://docs.unrealengine.com/latest/INT/Engine/Rendering/PostProcessEffects/Bloom/\n */\n\nvar UnrealBloomPass =\n/*#__PURE__*/\nfunction (_Pass) {\n  _inheritsLoose(UnrealBloomPass, _Pass);\n\n  function UnrealBloomPass(resolution, strength, radius, threshold) {\n    var _this;\n\n    _this = _Pass.call(this) || this;\n    _this.strength = strength !== undefined ? strength : 1;\n    _this.radius = radius;\n    _this.threshold = threshold;\n    _this.resolution = resolution !== undefined ? new Vector2(resolution.x, resolution.y) : new Vector2(256, 256); // create color only once here, reuse it later inside the render function\n\n    _this.clearColor = new Color(0, 0, 0); // render targets\n\n    var pars = {\n      minFilter: LinearFilter,\n      magFilter: LinearFilter,\n      format: RGBAFormat\n    };\n    _this.renderTargetsHorizontal = [];\n    _this.renderTargetsVertical = [];\n    _this.nMips = 5;\n    var resx = Math.round(_this.resolution.x / 2);\n    var resy = Math.round(_this.resolution.y / 2);\n    _this.renderTargetBright = new WebGLRenderTarget(resx, resy, pars);\n    _this.renderTargetBright.texture.name = 'UnrealBloomPass.bright';\n    _this.renderTargetBright.texture.generateMipmaps = false;\n\n    for (var i = 0; i < _this.nMips; i++) {\n      var renderTargetHorizonal = new WebGLRenderTarget(resx, resy, pars);\n      renderTargetHorizonal.texture.name = 'UnrealBloomPass.h' + i;\n      renderTargetHorizonal.texture.generateMipmaps = false;\n\n      _this.renderTargetsHorizontal.push(renderTargetHorizonal);\n\n      var renderTargetVertical = new WebGLRenderTarget(resx, resy, pars);\n      renderTargetVertical.texture.name = 'UnrealBloomPass.v' + i;\n      renderTargetVertical.texture.generateMipmaps = false;\n\n      _this.renderTargetsVertical.push(renderTargetVertical);\n\n      resx = Math.round(resx / 2);\n      resy = Math.round(resy / 2);\n    } // luminosity high pass material\n\n\n    if (LuminosityHighPassShader === undefined) console.error('THREE.UnrealBloomPass relies on LuminosityHighPassShader');\n    var highPassShader = LuminosityHighPassShader;\n    _this.highPassUniforms = UniformsUtils.clone(highPassShader.uniforms);\n    _this.highPassUniforms['luminosityThreshold'].value = threshold;\n    _this.highPassUniforms['smoothWidth'].value = 0.01;\n    _this.materialHighPassFilter = new ShaderMaterial({\n      uniforms: _this.highPassUniforms,\n      vertexShader: highPassShader.vertexShader,\n      fragmentShader: highPassShader.fragmentShader,\n      defines: {}\n    }); // Gaussian Blur Materials\n\n    _this.separableBlurMaterials = [];\n    var kernelSizeArray = [3, 5, 7, 9, 11];\n    resx = Math.round(_this.resolution.x / 2);\n    resy = Math.round(_this.resolution.y / 2);\n\n    for (var _i = 0; _i < _this.nMips; _i++) {\n      _this.separableBlurMaterials.push(_this.getSeperableBlurMaterial(kernelSizeArray[_i]));\n\n      _this.separableBlurMaterials[_i].uniforms['texSize'].value = new Vector2(resx, resy);\n      resx = Math.round(resx / 2);\n      resy = Math.round(resy / 2);\n    } // Composite material\n\n\n    _this.compositeMaterial = _this.getCompositeMaterial(_this.nMips);\n    _this.compositeMaterial.uniforms['blurTexture1'].value = _this.renderTargetsVertical[0].texture;\n    _this.compositeMaterial.uniforms['blurTexture2'].value = _this.renderTargetsVertical[1].texture;\n    _this.compositeMaterial.uniforms['blurTexture3'].value = _this.renderTargetsVertical[2].texture;\n    _this.compositeMaterial.uniforms['blurTexture4'].value = _this.renderTargetsVertical[3].texture;\n    _this.compositeMaterial.uniforms['blurTexture5'].value = _this.renderTargetsVertical[4].texture;\n    _this.compositeMaterial.uniforms['bloomStrength'].value = strength;\n    _this.compositeMaterial.uniforms['bloomRadius'].value = 0.1;\n    _this.compositeMaterial.needsUpdate = true;\n    var bloomFactors = [1.0, 0.8, 0.6, 0.4, 0.2];\n    _this.compositeMaterial.uniforms['bloomFactors'].value = bloomFactors;\n    _this.bloomTintColors = [new Vector3(1, 1, 1), new Vector3(1, 1, 1), new Vector3(1, 1, 1), new Vector3(1, 1, 1), new Vector3(1, 1, 1)];\n    _this.compositeMaterial.uniforms['bloomTintColors'].value = _this.bloomTintColors; // copy material\n\n    if (CopyShader === undefined) {\n      console.error('THREE.UnrealBloomPass relies on CopyShader');\n    }\n\n    var copyShader = CopyShader;\n    _this.copyUniforms = UniformsUtils.clone(copyShader.uniforms);\n    _this.copyUniforms['opacity'].value = 1.0;\n    _this.materialCopy = new ShaderMaterial({\n      uniforms: _this.copyUniforms,\n      vertexShader: copyShader.vertexShader,\n      fragmentShader: copyShader.fragmentShader,\n      blending: AdditiveBlending,\n      depthTest: false,\n      depthWrite: false,\n      transparent: true\n    });\n    _this.enabled = true;\n    _this.needsSwap = false;\n    _this._oldClearColor = new Color();\n    _this.oldClearAlpha = 1;\n    _this.basic = new MeshBasicMaterial();\n    _this.fsQuad = new FullScreenQuad$1(null);\n    return _this;\n  }\n\n  var _proto = UnrealBloomPass.prototype;\n\n  _proto.dispose = function dispose() {\n    for (var i = 0; i < this.renderTargetsHorizontal.length; i++) {\n      this.renderTargetsHorizontal[i].dispose();\n    }\n\n    for (var _i2 = 0; _i2 < this.renderTargetsVertical.length; _i2++) {\n      this.renderTargetsVertical[_i2].dispose();\n    }\n\n    this.renderTargetBright.dispose();\n  };\n\n  _proto.setSize = function setSize(width, height) {\n    var resx = Math.round(width / 2);\n    var resy = Math.round(height / 2);\n    this.renderTargetBright.setSize(resx, resy);\n\n    for (var i = 0; i < this.nMips; i++) {\n      this.renderTargetsHorizontal[i].setSize(resx, resy);\n      this.renderTargetsVertical[i].setSize(resx, resy);\n      this.separableBlurMaterials[i].uniforms['texSize'].value = new Vector2(resx, resy);\n      resx = Math.round(resx / 2);\n      resy = Math.round(resy / 2);\n    }\n  };\n\n  _proto.render = function render(renderer, writeBuffer, readBuffer, deltaTime, maskActive) {\n    renderer.getClearColor(this._oldClearColor);\n    this.oldClearAlpha = renderer.getClearAlpha();\n    var oldAutoClear = renderer.autoClear;\n    renderer.autoClear = false;\n    renderer.setClearColor(this.clearColor, 0);\n    if (maskActive) renderer.state.buffers.stencil.setTest(false); // Render input to screen\n\n    if (this.renderToScreen) {\n      this.fsQuad.material = this.basic;\n      this.basic.map = readBuffer.texture;\n      renderer.setRenderTarget(null);\n      renderer.clear();\n      this.fsQuad.render(renderer);\n    } // 1. Extract Bright Areas\n\n\n    this.highPassUniforms['tDiffuse'].value = readBuffer.texture;\n    this.highPassUniforms['luminosityThreshold'].value = this.threshold;\n    this.fsQuad.material = this.materialHighPassFilter;\n    renderer.setRenderTarget(this.renderTargetBright);\n    renderer.clear();\n    this.fsQuad.render(renderer); // 2. Blur All the mips progressively\n\n    var inputRenderTarget = this.renderTargetBright;\n\n    for (var i = 0; i < this.nMips; i++) {\n      this.fsQuad.material = this.separableBlurMaterials[i];\n      this.separableBlurMaterials[i].uniforms['colorTexture'].value = inputRenderTarget.texture;\n      this.separableBlurMaterials[i].uniforms['direction'].value = UnrealBloomPass.BlurDirectionX;\n      renderer.setRenderTarget(this.renderTargetsHorizontal[i]);\n      renderer.clear();\n      this.fsQuad.render(renderer);\n      this.separableBlurMaterials[i].uniforms['colorTexture'].value = this.renderTargetsHorizontal[i].texture;\n      this.separableBlurMaterials[i].uniforms['direction'].value = UnrealBloomPass.BlurDirectionY;\n      renderer.setRenderTarget(this.renderTargetsVertical[i]);\n      renderer.clear();\n      this.fsQuad.render(renderer);\n      inputRenderTarget = this.renderTargetsVertical[i];\n    } // Composite All the mips\n\n\n    this.fsQuad.material = this.compositeMaterial;\n    this.compositeMaterial.uniforms['bloomStrength'].value = this.strength;\n    this.compositeMaterial.uniforms['bloomRadius'].value = this.radius;\n    this.compositeMaterial.uniforms['bloomTintColors'].value = this.bloomTintColors;\n    renderer.setRenderTarget(this.renderTargetsHorizontal[0]);\n    renderer.clear();\n    this.fsQuad.render(renderer); // Blend it additively over the input texture\n\n    this.fsQuad.material = this.materialCopy;\n    this.copyUniforms['tDiffuse'].value = this.renderTargetsHorizontal[0].texture;\n    if (maskActive) renderer.state.buffers.stencil.setTest(true);\n\n    if (this.renderToScreen) {\n      renderer.setRenderTarget(null);\n      this.fsQuad.render(renderer);\n    } else {\n      renderer.setRenderTarget(readBuffer);\n      this.fsQuad.render(renderer);\n    } // Restore renderer settings\n\n\n    renderer.setClearColor(this._oldClearColor, this.oldClearAlpha);\n    renderer.autoClear = oldAutoClear;\n  };\n\n  _proto.getSeperableBlurMaterial = function getSeperableBlurMaterial(kernelRadius) {\n    return new ShaderMaterial({\n      defines: {\n        'KERNEL_RADIUS': kernelRadius,\n        'SIGMA': kernelRadius\n      },\n      uniforms: {\n        'colorTexture': {\n          value: null\n        },\n        'texSize': {\n          value: new Vector2(0.5, 0.5)\n        },\n        'direction': {\n          value: new Vector2(0.5, 0.5)\n        }\n      },\n      vertexShader: \"varying vec2 vUv;\\n\\t\\t\\t\\tvoid main() {\\n\\t\\t\\t\\t\\tvUv = uv;\\n\\t\\t\\t\\t\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n\\t\\t\\t\\t}\",\n      fragmentShader: \"#include <common>\\n\\t\\t\\t\\tvarying vec2 vUv;\\n\\t\\t\\t\\tuniform sampler2D colorTexture;\\n\\t\\t\\t\\tuniform vec2 texSize;\\n\\t\\t\\t\\tuniform vec2 direction;\\n\\n\\t\\t\\t\\tfloat gaussianPdf(in float x, in float sigma) {\\n\\t\\t\\t\\t\\treturn 0.39894 * exp( -0.5 * x * x/( sigma * sigma))/sigma;\\n\\t\\t\\t\\t}\\n\\t\\t\\t\\tvoid main() {\\n\\t\\t\\t\\t\\tvec2 invSize = 1.0 / texSize;\\n\\t\\t\\t\\t\\tfloat fSigma = float(SIGMA);\\n\\t\\t\\t\\t\\tfloat weightSum = gaussianPdf(0.0, fSigma);\\n\\t\\t\\t\\t\\tvec3 diffuseSum = texture2D( colorTexture, vUv).rgb * weightSum;\\n\\t\\t\\t\\t\\tfor( int i = 1; i < KERNEL_RADIUS; i ++ ) {\\n\\t\\t\\t\\t\\t\\tfloat x = float(i);\\n\\t\\t\\t\\t\\t\\tfloat w = gaussianPdf(x, fSigma);\\n\\t\\t\\t\\t\\t\\tvec2 uvOffset = direction * invSize * x;\\n\\t\\t\\t\\t\\t\\tvec3 sample1 = texture2D( colorTexture, vUv + uvOffset).rgb;\\n\\t\\t\\t\\t\\t\\tvec3 sample2 = texture2D( colorTexture, vUv - uvOffset).rgb;\\n\\t\\t\\t\\t\\t\\tdiffuseSum += (sample1 + sample2) * w;\\n\\t\\t\\t\\t\\t\\tweightSum += 2.0 * w;\\n\\t\\t\\t\\t\\t}\\n\\t\\t\\t\\t\\tgl_FragColor = vec4(diffuseSum/weightSum, 1.0);\\n\\t\\t\\t\\t}\"\n    });\n  };\n\n  _proto.getCompositeMaterial = function getCompositeMaterial(nMips) {\n    return new ShaderMaterial({\n      defines: {\n        'NUM_MIPS': nMips\n      },\n      uniforms: {\n        'blurTexture1': {\n          value: null\n        },\n        'blurTexture2': {\n          value: null\n        },\n        'blurTexture3': {\n          value: null\n        },\n        'blurTexture4': {\n          value: null\n        },\n        'blurTexture5': {\n          value: null\n        },\n        'dirtTexture': {\n          value: null\n        },\n        'bloomStrength': {\n          value: 1.0\n        },\n        'bloomFactors': {\n          value: null\n        },\n        'bloomTintColors': {\n          value: null\n        },\n        'bloomRadius': {\n          value: 0.0\n        }\n      },\n      vertexShader: \"varying vec2 vUv;\\n\\t\\t\\t\\tvoid main() {\\n\\t\\t\\t\\t\\tvUv = uv;\\n\\t\\t\\t\\t\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n\\t\\t\\t\\t}\",\n      fragmentShader: \"varying vec2 vUv;\\n\\t\\t\\t\\tuniform sampler2D blurTexture1;\\n\\t\\t\\t\\tuniform sampler2D blurTexture2;\\n\\t\\t\\t\\tuniform sampler2D blurTexture3;\\n\\t\\t\\t\\tuniform sampler2D blurTexture4;\\n\\t\\t\\t\\tuniform sampler2D blurTexture5;\\n\\t\\t\\t\\tuniform sampler2D dirtTexture;\\n\\t\\t\\t\\tuniform float bloomStrength;\\n\\t\\t\\t\\tuniform float bloomRadius;\\n\\t\\t\\t\\tuniform float bloomFactors[NUM_MIPS];\\n\\t\\t\\t\\tuniform vec3 bloomTintColors[NUM_MIPS];\\n\\n\\t\\t\\t\\tfloat lerpBloomFactor(const in float factor) {\\n\\t\\t\\t\\t\\tfloat mirrorFactor = 1.2 - factor;\\n\\t\\t\\t\\t\\treturn mix(factor, mirrorFactor, bloomRadius);\\n\\t\\t\\t\\t}\\n\\n\\t\\t\\t\\tvoid main() {\\n\\t\\t\\t\\t\\tgl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +\\n\\t\\t\\t\\t\\t\\tlerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +\\n\\t\\t\\t\\t\\t\\tlerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +\\n\\t\\t\\t\\t\\t\\tlerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +\\n\\t\\t\\t\\t\\t\\tlerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );\\n\\t\\t\\t\\t}\"\n    });\n  }\n  /**\n   * Performs initialization tasks.\n   *\n   * @param {WebGLRenderer} renderer - The renderer.\n   * @param {Boolean} alpha - Whether the renderer uses the alpha channel or not.\n   */\n  ;\n\n  _proto.initialize = function initialize(renderer, alpha) {\n    if (!alpha) {\n      this.renderTargetX.texture.format = RGBFormat;\n      this.renderTargetY.texture.format = RGBFormat;\n    }\n  };\n\n  return UnrealBloomPass;\n}(Pass$1);\n\nUnrealBloomPass.BlurDirectionX = new Vector2(1.0, 0.0);\nUnrealBloomPass.BlurDirectionY = new Vector2(0.0, 1.0);\n\nexports.BlurPass = BlurPass;\nexports.UnrealBloomPass = UnrealBloomPass;\nexports.ShaderPass = ShaderPass;\nexports.FXAAShader = FXAAShader;\nexports.CopyShader = CopyShader;\n", "export default require(\"./node_modules/threejs-post-processing/dist/bundle.cjs.js\");"],
  "mappings": "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",
  "names": ["tmp", "sign", "data", "color", "tmp2", "indices", "intersects", "width", "height", "depth", "fov", "aspect", "renderer", "scene", "attributes", "extension", "precision", "x", "_lodPlanes", "_sizeLods", "_sigmas", "scissor", "viewport", "_canvas", "joint", "cameraL", "cameraR", "cameras", "_context", "_projScreenMatrix", "object", "currentRenderList", "parameters", "textures", "framebuffer", "vertex", "detail", "radius", "azimuth", "px", "py", "bs", "contour", "p", "q", "shapes", "tmpPath", "tmpShape", "ConvolutionMaterial", "EffectMaterial", "CopyMaterial", "LuminanceMaterial", "Pass", "FullScreenQuad", "BlurPass", "ClearMaskPass", "ClearPass", "RenderPass", "DepthPass", "EffectPass", "MaskPass", "NormalPass", "SavePass", "ShaderPass", "UnrealBloomPass"]
}
